<!doctype html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7 documentation"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8 documentation"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9 documentation"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="documentation"> <!--<![endif]-->


<html xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from documentation.mailgun.com/api-stats.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Stats &#8212; Mailgun API  documentation</title>
    
    <link rel="stylesheet" href="_static/adctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Mailgun API  documentation" href="index-2.html" />
    <link rel="up" title="API Reference" href="api_reference.html" />
    <link rel="next" title="Tags" href="api-tags.html" />
    <link rel="prev" title="Events" href="api-events.html" />
    <link media="only screen and (max-device-width: 480px)" href="_static/mobile.css" type="text/css" rel="stylesheet" />

    <link rel="icon" type="image/png" href="_static/img/favicon.png" />

    <!-- <link rel="stylesheet" href="_static/docs.css" /> -->
    <link rel="stylesheet" href="https://www.mailgun.com/static/css/main.css" />
    <meta name="viewport" content="width=device-width">
    
 

<!-- i2a tracking code-->
<script type="text/javascript"
  src="_static/i2a.js">
</script>

<!-- GA pageLoadVars -->
<script type="text/javascript">
    var pageLoadVars = {
      'visitor_type' : 'Customer',
      'customer_type' : "",
      'coupon_id' : "",
      'signup_state' : 'Inactive',
      'bamGAVPV' : "",
      'customer_action': []
    }
</script>


  </head>
  <body role="document">

<!-- Google Tag Manager -->
<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-WN2J6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script type="text/javascript" src="_static/google_tag_manager.js"></script>

<!-- SVG Icons -->
<svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="517" height="32" viewBox="0 0 517 32">
<defs>
<g id="icon-search">
  <path class="path1" d="M0 14.857q0-2.554 0.991-4.884t2.679-4.018 4.018-2.679 4.884-0.991 4.884 0.991 4.018 2.679 2.679 4.018 0.991 4.884q0 3.929-2.214 7.125l6.125 6.125q0.661 0.661 0.661 1.607 0 0.929-0.679 1.607t-1.607 0.679q-0.964 0-1.607-0.679l-6.125-6.107q-3.196 2.214-7.125 2.214-2.554 0-4.884-0.991t-4.018-2.679-2.679-4.018-0.991-4.884zM4.571 14.857q0 3.304 2.348 5.652t5.652 2.348 5.652-2.348 2.348-5.652-2.348-5.652-5.652-2.348-5.652 2.348-2.348 5.652z"></path>
</g>
<g id="icon-menu">
  <path class="path1" d="M0 26.286v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 17.143v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 8v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804z"></path>
</g>
<g id="icon-dropdown">
  <path d="M124.452,10.121 L118.343,4.01 C116.225,2.001 113.753,0.996 110.93,0.996 C108.05,0.996 105.606,2.001 103.596,4.01 L64,43.607 L24.404,4.011 C22.394,2.002 19.95,0.997 17.071,0.997 C14.247,0.997 11.775,2.002 9.657,4.011 L3.628,10.122 C1.564,12.185 0.532,14.657 0.532,17.536 C0.532,20.469 1.565,22.913 3.628,24.868 L56.667,77.907 C58.623,79.971 61.066,81.003 64,81.003 C66.879,81.003 69.35,79.971 71.413,77.907 L124.452,24.868 C126.462,22.858 127.468,20.414 127.468,17.536 C127.468,14.711 126.462,12.24 124.452,10.121 L124.452,10.121 Z" id="Shape" sketch:type="MSShapeGroup"></path>
</g>
</defs></svg>

<header>
  <div class="container">
      <a href="http://www.mailgun.com/" class="logo">Mailgun - Email Automation by Rackspace</a>
      <nav class="header-nav" id="js-header-nav">
          <a href="http://www.mailgun.com/pricing" class="pricing-link"><b>Pricing</b></a>
          <a href="http://www.mailgun.com/customers" class="customers-link"><b>Customers</b></a>
          <div class="dropdown">
                    <a href="http://www.mailgun.com/sending-email" class="js-dropdown-toggle"><b>Features <svg class="icon icon-dropdown" viewBox="0 0 128 80"><use xlink:href="#icon-dropdown"></use></svg>
</b></a>
                    <nav class="dropdown-menu">
                        <a href="http://www.mailgun.com/sending-email">Sending email</a>
                        <a href="http://www.mailgun.com/inbound-routing">Inbound routing</a>
                        <a href="http://www.mailgun.com/analytics">Tracking &amp; analytics</a>
                        <a href="http://www.mailgun.com/email-validation">Email validation</a>
                        <a href="http://www.mailgun.com/deliverability">Deliverability</a>
                    </nav>
                </div>
                <div class="dropdown">
                    <a href="http://resources.mailgun.com/index.html" class="js-dropdown-toggle resources-link"><b>Resources <svg class="icon icon-dropdown active" viewBox="0 0 128 80"><use xlink:href="#icon-dropdown"></use></svg>
</b></a>
                    <nav class="dropdown-menu">
                        <a href="index.html">Docs</a>
                        <a href="http://resources.mailgun.com/index.html">Guides</a>
                        <a href="http://blog.mailgun.com/">Blog</a>
                    </nav>
                </div>
                <a href="http://www.mailgun.com/managed" class="managed-link"><b>Managed</b></a>
                <a href="http://www.mailgun.com/contact" class="contact-link"><b>Contact</b></a>
          <a href="https://www.mailgun.com/sessions/new" class="login-link"><b>Log in</b></a>
          <a href="https://www.mailgun.com/signup" class="signup-link"><b>Sign Up</b></a>
      </nav>
      <button id="js-show-nav"><svg class="icon icon-menu" viewBox="0 0 30 32"><use xlink:href="#icon-menu"></use></svg></button>
  </div>
</header>

<div id="body">
  <section class="subnav">
    <div class="container">
      <a href="https://github.com/mailgun/documentation" class="edit-docs-link" onclick="mixpanel.track('Clicked Edit Docs Link');">Edit</a>
      <ul id="headerButtons" class="nav nav-pills">
        <li class="lang-label">
          Code sample preference:
        </li>
        <li class="lang">
          <a href="#" id="lang_bash" >curl</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_rb" >Ruby</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_py" >Python</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_php" >PHP</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_java" >Java</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_csharp" >C#</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_go" >Go</a>
        </li>
        <div id="searchbox" style="display: none" class="search-box">
          
          <form>
            <svg class="icon icon-search" viewBox="0 0 32 32"><use xlink:href="#icon-search"></use></svg>
            <input type="search" id="st-search-input" class="prettysearch search-input" autofocus />
          <!--<form class="search" action="search.html" method="get">-->
            <!--<div class="search-wrapper">
              <span class="search-left"></span>
              <input class="prettysearch" type="text" name="q" size="18"/>
              <span class="search-right">&nbsp;</span>
            </div>
            <input type="submit" value="Search" class="searchbutton" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />-->
          </form>
        </div>
        <script type="text/javascript">$('#searchbox').show(0);</script>

        <!--
        <li id="page_buttons">
          <div class="headerButton"><a href="api-tags.html" title="Tags" accesskey="N">next</a></div>
          <div class="headerButton"><a href="api-events.html" title="Events" accesskey="P">previous</a></div>
        </li>
        -->
      </ul>
    </div>
  </section>

  <section class="main">

    <div class="container">


  
  <aside id="sphinxsidebar" class="docs-sidebar">
    <div class="sphinxsidebarwrapper">
      <!-- <ul><li class="toctree-l1"><a href="index.html">Main Page</a></li></ul> -->
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="libraries.html">Libraries</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="api-intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-sending.html">Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-domains.html">Domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-events.html">Events</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Stats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#duration">Duration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#event-types">Event Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api-tags.html">Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-suppressions.html">Suppressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-routes.html">Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-webhooks.html">Webhooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-mailinglists.html">Mailing Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-email-validation.html">Email Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html">Email Best Practices</a></li>
</ul>

      <div class="admonition note">You can find your API Key in your <a href="https://mailgun.com/cp" target="_blank">Control Panel</a></div>
    </div>
  </aside>

  

    <div class="document">
  <div id="st-results-container"></div>
        <div class="documentwrapper">
          <div class="bodywrapper">
            <div class="body">
              
  <div class="section" id="stats">
<span id="api-stats"></span><h1>Stats<a class="headerlink" href="#stats" title="Permalink to this headline">¶</a></h1>
<p>Mailgun collects many different events and
generates event statistics which are available in your Control Panel.
This data is also available via an API.</p>
<p>The statistics are calculated in hourly, daily and monthly resolution in UTC timezone.</p>
<p>The following retention policy is applied to the statistics:</p>
<ul class="simple">
<li>Hourly stats are preserved for a month.</li>
<li>Daily stats are preserved for a year.</li>
<li>Monthly stats are stored throughout the lifespan of the domain.</li>
</ul>
<div class="highlight-url"><div class="highlight"><pre><span></span>GET /&lt;domain&gt;/stats/total
</pre></div>
</div>
<p>Returns total stats for a given domain.</p>
<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>event</td>
<td>The type of the event. For a complete list of all events written
to the log see the <a class="reference internal" href="#event-types">Event Types</a> table below. (Required)</td>
</tr>
<tr class="row-odd"><td>start</td>
<td>The starting time. Should be in <span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html#page-14"><strong>RFC 2822#page-14</strong></a> or
unix epoch format. Default: 7 days from the current time.</td>
</tr>
<tr class="row-even"><td>end</td>
<td>The ending date. Should be in <span class="target" id="index-1"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html#page-14"><strong>RFC 2822#page-14</strong></a> or
unix epoch format. Default: current time.</td>
</tr>
<tr class="row-odd"><td>resolution</td>
<td>Can be either <code class="docutils literal"><span class="pre">hour</span></code>, <code class="docutils literal"><span class="pre">day</span></code> or <code class="docutils literal"><span class="pre">month</span></code>. Default: <code class="docutils literal"><span class="pre">day</span></code></td>
</tr>
<tr class="row-even"><td>duration</td>
<td>Period of time with resoluton encoded. See <a class="reference internal" href="#duration">Duration</a> for
more info. If provided, overwrites the start date.</td>
</tr>
</tbody>
</table>
</div>
<div class="highlight-url"><div class="highlight"><pre><span></span>GET /&lt;domain&gt;/stats
</pre></div>
</div>
<p>Returns a list of event stats items.
Each record represents counts for one event per one day.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is the legacy API that should not be used.</p>
</div>
<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>limit</td>
<td>Maximum number of records to return. (100 by default)</td>
</tr>
<tr class="row-odd"><td>skip</td>
<td>Number of records to skip. (0 by default)</td>
</tr>
<tr class="row-even"><td>event</td>
<td>Name of the event to receive the stats for. Note that you
can specify this parameter multiple times to fetch stats
for several events at the same time (see example below)</td>
</tr>
<tr class="row-odd"><td>start-date</td>
<td>The date to receive the stats starting from. Should
have ISO8601 format (YYYY-MM-DD).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="duration">
<h2>Duration<a class="headerlink" href="#duration" title="Permalink to this headline">¶</a></h2>
<p>Duration is a string that represents a period of time with some resolution.
It has a format <code class="docutils literal"><span class="pre">[0-9]+[m,d,h]</span></code> where</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">h</span></code> - an hour</li>
<li><code class="docutils literal"><span class="pre">d</span></code> - a day</li>
<li><code class="docutils literal"><span class="pre">m</span></code> - a month</li>
</ul>
<p>Examples:</p>
<ul class="simple">
<li><cite>24h</cite> - a period of 24 hours (a day) with hourly resolution</li>
<li><cite>1d</cite> - a period of 1 day with daily resolution</li>
<li><cite>2m</cite> - a period of 2 months with monthly resolution</li>
</ul>
</div>
<div class="section" id="event-types">
<h2>Event Types<a class="headerlink" href="#event-types" title="Permalink to this headline">¶</a></h2>
<p>Mailgun tracks all of the events that occur throughout the system. Below are
listed the events that you can retrieve using this API.</p>
<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Event Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>accepted</td>
<td>Mailgun accepted the request to send/forward the email and the message
has been placed in queue.</td>
</tr>
<tr class="row-odd"><td>delivered</td>
<td>Mailgun sent the email and it was accepted by the recipient
email server.</td>
</tr>
<tr class="row-even"><td>failed</td>
<td>Mailgun could not deliver the email to the recipient email server.</td>
</tr>
<tr class="row-odd"><td>opened</td>
<td>The email recipient opened the email and enabled image
viewing. Open tracking must be enabled in the Mailgun control
panel, and the CNAME record must be pointing to mailgun.org.</td>
</tr>
<tr class="row-even"><td>clicked</td>
<td>The email recipient clicked on a link in the email.
Click tracking must be enabled in the Mailgun control
panel, and the CNAME record must be pointing to mailgun.org.</td>
</tr>
<tr class="row-odd"><td>unsubscribed</td>
<td>The email recipient clicked on the unsubscribe link.
Unsubscribe tracking must be enabled in the Mailgun control
panel.</td>
</tr>
<tr class="row-even"><td>complained</td>
<td>The email recipient clicked on the spam complaint button within
their email client. Feedback loops enable the notification to
be received by Mailgun.</td>
</tr>
<tr class="row-odd"><td>stored</td>
<td>Mailgun has stored an incoming message</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Get stats for &#8216;accepted&#8217; and &#8216;delivered&#8217; and &#8216;failed&#8217; events for the past month:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
   https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/stats/total <span class="se">\</span>
   -d <span class="nv">event</span><span class="o">=</span><span class="s1">&#39;accepted&#39;</span> <span class="se">\</span>
   -d <span class="nv">event</span><span class="o">=</span><span class="s1">&#39;delivered&#39;</span> <span class="se">\</span>
   -d <span class="nv">event</span><span class="o">=</span><span class="s1">&#39;failed&#39;</span> <span class="se">\</span>
   -d <span class="nv">duration</span><span class="o">=</span><span class="s1">&#39;1m&#39;</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientRespone</span> <span class="nf">GetStats</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/stats/total&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;event&quot;</span><span class="o">,</span> <span class="s">&quot;accepted&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;event&quot;</span><span class="o">,</span> <span class="s">&quot;delivered&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;event&quot;</span><span class="o">,</span> <span class="s">&quot;failed&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;duration&quot;</span><span class="o">,</span> <span class="s">&quot;1m&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>

<span class="c1"># Issue the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/stats/total&quot;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;event&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;accepted&#39;</span><span class="p">,</span> <span class="s1">&#39;delivered&#39;</span><span class="p">,</span> <span class="s1">&#39;failed&#39;</span><span class="p">),</span>
    <span class="s1">&#39;duration&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;1m&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_stats</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/stats/total&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">),</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;accepted&quot;</span><span class="p">,</span> <span class="s2">&quot;delivered&quot;</span><span class="p">,</span> <span class="s2">&quot;failed&quot;</span><span class="p">],</span>
                <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="s2">&quot;1m&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_stats</span>
  <span class="n">url_params</span> <span class="o">=</span> <span class="no">Multimap</span><span class="o">.</span><span class="n">new</span>
  <span class="n">url_params</span><span class="o">[</span><span class="ss">:duration</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;1m&quot;</span>
  <span class="n">url_params</span><span class="o">[</span><span class="ss">:event</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;accepted&quot;</span>
  <span class="n">url_params</span><span class="o">[</span><span class="ss">:event</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;delivered&quot;</span>
  <span class="n">url_params</span><span class="o">[</span><span class="ss">:event</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;failed&quot;</span>
  <span class="n">query_string</span> <span class="o">=</span> <span class="n">url_params</span><span class="o">.</span><span class="n">collect</span> <span class="p">{</span><span class="o">|</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="o">|</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">k</span><span class="o">.</span><span class="n">to_s</span><span class="si">}</span><span class="s2">=</span><span class="si">#{</span><span class="no">CGI</span><span class="o">::</span><span class="n">escape</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">to_s</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span><span class="o">.</span>
    <span class="n">join</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">)</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/stats/total?</span><span class="si">#{</span><span class="n">query_string</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">GetStatsChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">GetStats</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">GetStats</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/stats/total&quot;</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;event&quot;</span><span class="p">,</span> <span class="s">&quot;accepted&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;event&quot;</span><span class="p">,</span> <span class="s">&quot;delivered&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;event&quot;</span><span class="p">,</span> <span class="s">&quot;failed&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;duration&quot;</span><span class="p">,</span> <span class="s">&quot;1m&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="c1">// Not supported yet.</span>
</pre></div>
</div>
<p>Sample response:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;end&quot;</span><span class="o">:</span> <span class="s2">&quot;Fri, 01 Apr 2012 00:00:00 UTC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;resolution&quot;</span><span class="o">:</span> <span class="s2">&quot;month&quot;</span><span class="p">,</span>
  <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="s2">&quot;Tue, 14 Feb 2012 00:00:00 UTC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;stats&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;time&quot;</span><span class="o">:</span> <span class="s2">&quot;Tue, 14 Feb 2012 00:00:00 UTC&quot;</span><span class="p">,</span>
      <span class="s2">&quot;accepted&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="o">:</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outgoing&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>  <span class="c1">// authenticated</span>
        <span class="s2">&quot;incoming&quot;</span><span class="o">:</span> <span class="mi">5</span>    <span class="c1">// unauthenticated</span>
      <span class="p">},</span>
      <span class="s2">&quot;delivered&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;total&quot;</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
          <span class="s2">&quot;smtp&quot;</span><span class="o">:</span> <span class="mi">15</span><span class="p">,</span>  <span class="c1">// delivered over SMTP</span>
          <span class="s2">&quot;http&quot;</span><span class="o">:</span> <span class="mi">5</span>    <span class="c1">// delivered over HTTP</span>
      <span class="p">},</span>
      <span class="s2">&quot;failed&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;permanent&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;suppress-bounce&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>       <span class="c1">// recipients addresses previously bounced</span>
          <span class="s2">&quot;suppress-unsubscribe&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>  <span class="c1">// recipients previously unsubscribed</span>
          <span class="s2">&quot;suppress-complaint&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>    <span class="c1">// recipients previously complained</span>
          <span class="s2">&quot;bounce&quot;</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
          <span class="s2">&quot;total&quot;</span><span class="o">:</span> <span class="mi">10</span>                 <span class="c1">// failed permanently and dropped</span>
        <span class="p">},</span>
        <span class="s2">&quot;temporary&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;espblock&quot;</span><span class="o">:</span> <span class="mi">1</span>   <span class="c1">// failed temporary due to ESP block, will be retried</span>
        <span class="p">}</span>
      <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


            </div>
          </div>
    </div>
      <div class="clearer"></div>
    </div>

    </div> <!-- /content -->
  </section> <!-- /container -->
</div> <!-- /body --> 

    <script type="text/javascript" charset="utf-8" src="_static/toc.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.debounce.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.cookie.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.viewport.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/samples.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/scroll_hash.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/underscore-min.js"></script>
    <script type="text/javascript">
        window.underscore = _.noConflict();
    </script>


<script type="text/javascript">
  var Swiftype = window.Swiftype || {};
  (function() {
    Swiftype.key = 'dpKXg3Qg6P5paq8LDpDu';
    Swiftype.inputElement = '#st-search-input';
    Swiftype.resultContainingElement = '#st-results-container';
    Swiftype.attachElement = '#st-search-input';
    Swiftype.renderStyle = "overlay";


    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.async = true;
    script.src = "http://swiftype.com/embed.js";
    var entry = document.getElementsByTagName('script')[0];
    entry.parentNode.insertBefore(script, entry);
  }());
</script>

<!-- Ace editor for editable code -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/ace.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  (function() {
    var timer;
    function waitForSwiftype() {
      if (Swiftype.Util && Swiftype.Util.pingSearchResultClick) {
        clearInterval(timer);
        Swiftype.Util.pingSearchResultClick = function(docId, query, destinationUrl, theWindow) {
          var url = Swiftype.root_url + "/api/v1/public/analytics/pc?engine_key=" + Swiftype.key + "&doc_id=" + docId + "&q=" + query;
          var queryAnchor = query.replace(/\s+/g, '-').toLowerCase();
          Swiftype.Util.pingUrl(url, destinationUrl + '?highlight=' + query + '#' + queryAnchor, theWindow);
        };
      }
    }
    timer = setInterval(waitForSwiftype, 500);
  })();

   // $('input[type=\"search\"]').wrap('<span style=\"position:relative;\"></span>').after('<i id="clear-search" class="icon-remove-sign" style=\"position:absolute; right:5px;line-height:26px;\"></i><i class="icon-search" style=\"position:absolute; left:5px;line-height:26px;\"></i>');
   // $('#clear-search').click(function(){
   //  $(this).parent().find('input').val('');
   //  $(this).parent().find('input').focus();
   // });
   // $("input").focusout(function() {this.value = "";});

    // Responsive navigation show/hide main nav
	$("#js-show-nav").click(function(){
		$("#js-header-nav").slideToggle();
	});




  // highlight nav on load
  $(document).ready(function(){
      $('.docs-sidebar li').removeClass('active');
      $('.docs-sidebar ul.current li.current a.current').parent().addClass('active');
  });




  // Make sample code snippets editable in the browser
  $('.highlight pre').click(function(){
    ace_activate(this);
  });

  // Ace editor activation
  function ace_activate(container) {
    var editor = ace.edit(container);
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/sh");
    editor.setShowPrintMargin(false);
    editor.renderer.setShowGutter(false);
    editor.setHighlightActiveLine(false);
    editor.getSession().setUseWrapMode(true);
    editor.setBehavioursEnabled(false);
    $(container).height(editor.getSession().getScreenLength() * 20);
  }

</script>

<!-- User information insertion code-->
<script type="text/javascript">
  var cp_hostname = "";
</script>
  
<script type="text/javascript"
  src="_static/insert-api-key.js">
</script>
  </body>

<!-- Mirrored from documentation.mailgun.com/api-stats.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:54 GMT -->
</html>