<!doctype html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7 documentation"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8 documentation"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9 documentation"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="documentation"> <!--<![endif]-->


<html xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from documentation.mailgun.com/api-events.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API Reference &#8212; Mailgun API  documentation</title>
    
    <link rel="stylesheet" href="_static/adctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Mailgun API  documentation" href="index-2.html" />
    <link rel="next" title="Introduction" href="api-intro.html" />
    <link rel="prev" title="Libraries" href="libraries.html" />
    <link media="only screen and (max-device-width: 480px)" href="_static/mobile.css" type="text/css" rel="stylesheet" />

    <link rel="icon" type="image/png" href="_static/img/favicon.png" />

    <!-- <link rel="stylesheet" href="_static/docs.css" /> -->
    <link rel="stylesheet" href="_static/main.css" />
    <meta name="viewport" content="width=device-width">
    
    <!-- CUSTOM CSS -->
    <style type="text/css">

    header {
      background-image: none !important;
      position:fixed
    }

    .header-nav a {
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        color: #49B882;
        display: block;
        float: left;
        font-family: 'Titillium Web', Lato, 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif !important;
        font-weight: 100 !important;
        font-size: 14px;
        line-height: 50px;
        padding: 10px 10px;
        text-decoration: none;
        text-transform: none;
    }
    .header-nav {
        float: left;
    }

    .segment-logo {
      float: left;
      background: url("https://cdn.brandisty.com/img?id=57852bda6b49441340000023&format=png&w=600&h=557");
      background-size: 50px 50px;
      background-repeat: no-repeat;
      display: block;
      margin-right:20px;
      position: relative;
      width: 50px;
      height: 50px;
      margin-top: 10px;
    }
    .documentation .subnav {
      background-image: none;
      background-color: #00386c;
      display:none;
    }
    .documentation .subnav li.active a {
      background-image: none;
      background-color: #49b882;
    }
    body {
      font-family:none;
    }

    .documentation .main.main-with-subnav .sphinxsidebarwrapper {
    	top: 80px;
    }
/*    .documentation .document .section h2 {
    padding-top: 80px;
}*/

.documentation .document .section h1 {
    padding-top: 80px;
}
    .documentation .document .section .section {
    margin-top: 160px;
}
.documentation .sphinxsidebarwrapper {
    margin: 0;
    padding: 60px 0;
}

.documentation .main.main-with-subnav .sphinxsidebarwrapper {
     top: 40px; 
}
    </style>
    <!-- CUSTOM CSS -->

<!-- i2a tracking code-->
<script type="text/javascript"
  src="_static/i2a.js">
</script>

<!-- GA pageLoadVars -->
<script type="text/javascript">
    var pageLoadVars = {
      'visitor_type' : 'Customer',
      'customer_type' : "",
      'coupon_id' : "",
      'signup_state' : 'Inactive',
      'bamGAVPV' : "",
      'customer_action': []
    }
</script>


  </head>
  <body role="document">

<!-- Google Tag Manager -->
<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-WN2J6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script type="text/javascript" src="_static/google_tag_manager.js"></script>

<!-- SVG Icons -->
<svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="517" height="32" viewBox="0 0 517 32">
<defs>
<g id="icon-search">
  <path class="path1" d="M0 14.857q0-2.554 0.991-4.884t2.679-4.018 4.018-2.679 4.884-0.991 4.884 0.991 4.018 2.679 2.679 4.018 0.991 4.884q0 3.929-2.214 7.125l6.125 6.125q0.661 0.661 0.661 1.607 0 0.929-0.679 1.607t-1.607 0.679q-0.964 0-1.607-0.679l-6.125-6.107q-3.196 2.214-7.125 2.214-2.554 0-4.884-0.991t-4.018-2.679-2.679-4.018-0.991-4.884zM4.571 14.857q0 3.304 2.348 5.652t5.652 2.348 5.652-2.348 2.348-5.652-2.348-5.652-5.652-2.348-5.652 2.348-2.348 5.652z"></path>
</g>
<g id="icon-menu">
  <path class="path1" d="M0 26.286v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 17.143v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 8v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804z"></path>
</g>
<g id="icon-dropdown">
  <path d="M124.452,10.121 L118.343,4.01 C116.225,2.001 113.753,0.996 110.93,0.996 C108.05,0.996 105.606,2.001 103.596,4.01 L64,43.607 L24.404,4.011 C22.394,2.002 19.95,0.997 17.071,0.997 C14.247,0.997 11.775,2.002 9.657,4.011 L3.628,10.122 C1.564,12.185 0.532,14.657 0.532,17.536 C0.532,20.469 1.565,22.913 3.628,24.868 L56.667,77.907 C58.623,79.971 61.066,81.003 64,81.003 C66.879,81.003 69.35,79.971 71.413,77.907 L124.452,24.868 C126.462,22.858 127.468,20.414 127.468,17.536 C127.468,14.711 126.462,12.24 124.452,10.121 L124.452,10.121 Z" id="Shape" sketch:type="MSShapeGroup"></path>
</g>
</defs></svg>

<header>
  <div class="container">
      <a href="http://www.segment.com"><div href="http://www.mailgun.com/" class="segment-logo"></div></a>
      <nav class="header-nav" id="js-header-nav" style="font-family:Aleo-regular">
          <a href="../../../../../index.html" class="pricing-link"><b style="font-weight:100; font-size:20px">Docs</b></a>
          <!-- <a href="quickstart.html" class="customers-link"><b style="font-weight:100">Quickstarts</b></a> -->
          <div class="dropdown">
                    <a href="api-events.html" >API Overview 
</a>
                    <nav class="dropdown-menu">
                        <a href="http://www.mailgun.com/sending-email">Sending email</a>
                        <a href="http://www.mailgun.com/inbound-routing">Inbound routing</a>
                        <a href="http://www.mailgun.com/analytics">Tracking &amp; analytics</a>
                        <a href="http://www.mailgun.com/email-validation">Email validation</a>
                        <a href="http://www.mailgun.com/deliverability">Deliverability</a>
                    </nav>
                </div>


                <div class="dropdown">
                    <a href="api-libraries.html" class="resources-link">Libraries</a>
                    <!-- <nav class="dropdown-menu">
                        <a href="index.html">Docs</a>
                        <a href="http://resources.mailgun.com/index.html">Guides</a>
                        <a href="http://blog.mailgun.com/">Blog</a>
                    </nav> -->
                </div>


                <a href="api-integrations.html" class="managed-link"><b style="font-weight:100">Integration Catalog</b></a>
                <a href="api-cloud-apps.html" class="contact-link"><b style="font-weight:100"><b>Cloud-App Sources Catalog</b></b></a>
                <a href="api-warehouse.html" class="contact-link"><b style="font-weight:100">Connect Warehouse</b></a>
                <a href="guides.html" class="contact-link"><b style="font-weight:100">Guides</b></a>

      </nav>
      <button id="js-show-nav"><svg class="icon icon-menu" viewBox="0 0 30 32"><use xlink:href="#icon-menu"></use></svg></button>
  </div>
</header>

<div id="body">
  <section class="subnav">
    <div class="container">
      <a href="https://github.com/mailgun/documentation" class="edit-docs-link" onclick="mixpanel.track('Clicked Edit Docs Link');">Edit</a>
      <ul id="headerButtons" class="nav nav-pills">
        <li class="lang-label">
          Code sample preference:
        </li>
        <li class="lang">
          <a href="#" id="lang_bash" >curl</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_rb" >Ruby</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_py" >Python</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_php" >PHP</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_java" >Java</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_csharp" >C#</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_go" >Go</a>
        </li>
        <div id="searchbox" style="display: none" class="search-box">
          
          <form>
            <!-- <svg class="icon icon-search" viewBox="0 0 32 32"><use xlink:href="#icon-search"></use></svg>
            <input type="search" id="st-search-input" class="prettysearch search-input" autofocus /> -->
          <!--<form class="search" action="search.html" method="get">-->
            <!--<div class="search-wrapper">
              <span class="search-left"></span>
              <input class="prettysearch" type="text" name="q" size="18"/>
              <span class="search-right">&nbsp;</span>
            </div>
            <input type="submit" value="Search" class="searchbutton" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />-->
          </form>
        </div>
        <script type="text/javascript">$('#searchbox').show(0);</script>

        <!--
        <li id="page_buttons">
          <div class="headerButton"><a href="api-intro.html" title="Introduction" accesskey="N">next</a></div>
          <div class="headerButton"><a href="libraries.html" title="Libraries" accesskey="P">previous</a></div>
        </li>
        -->
      </ul>
    </div>
  </section>

  <section class="main">

  <section class="main">

    <div class="container">


  
  <aside id="sphinxsidebar" class="docs-sidebar">
    <div class="sphinxsidebarwrapper">
      <!-- <ul><li class="toctree-l1"><a href="index.html">Main Page</a></li></ul> -->
              <ul class="current">
<!-- <li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li> -->
<!-- <li class="toctree-l1"><a class="reference internal" href="libraries.html">Libraries</a></li> -->
<li class="toctree-l1 current"><a class="reference internal" href="api-cloud-apps.html">Cloud-App Sources</a><ul class="current">

  <li class="toctree-l2 "><a class="current reference internal" href="#introduction"><b>Introduction</b></a><ul class="current">
   <!--  <li class="toctree-l3"><a class="reference internal" href="#gettingstarted">Getting Started</a></li> -->
    <li class="toctree-l3"><a class="reference internal" href="#collections">Collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#eventss">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#syncschedule">Sync Schedules</a></li>

  </ul>
</li>
<!-- <li class="toctree-l2"><a class="reference internal" href="api-sending.html">Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-domains.html">Domains</a></li> -->


  <li class="toctree-l3"><a class="reference internal" href="#salesforce"><b>Salesforce</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#stripe"><b>Stripe</b></a></li>






  <li class="toctree-l3"><a class="reference internal" href="#zendesk"><b>Zendesk</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#facebookads"><b>Facebook Ads</b></a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cloud-apps-adwords.html#adwords"><b>AdWords</b></a>
<!-- <ul>
<li class="toctree-l3"><a class="reference internal" href="#adwords-gettingstarted"><b>Getting Started</b></a>
<li class="toctree-l3"><a class="reference internal" href="#adwords-sync"><b>Sync</b></a>
  <li class="toctree-l3"><a class="reference internal" href="#adwords-collections"><b>Collections</b></a>
    <li class="toctree-l3"><a class="reference internal" href="#adwords-permissions"><b>Permissions</b></a>
<li class="toctree-l3"><a class="reference internal" href="#adwords-faq"><b>FAQ</b></a>
</ul> -->
</li>
<!-- <li class="toctree-l3"><a class="reference internal" href="#query-<b>options">Screen</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-field"><b>Group</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-<b>expression">Alias</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#event-structure"><b>Event Structure</b></a></li> -->






  <li class="toctree-l3"><a class="reference internal" href="#sendgrid"><b>SendGrid</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#mailchimp"><b>Mailchimp</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#mandrill"><b>Mandrill</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#hubspot"><b>HubSpot</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#intercom"><b>Intercom</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#drip"><b>Drip</b></a></li>
<li class="toctree-l3"><a class="reference internal" href="#iterable"><b>Iterable</b></a></li>


</li>

</li>

<!-- <li class="toctree-l2"><a class="reference internal" href="api-tags.html"><b>Ecommerce Spec</b></a></li> -->
<!-- <li class="toctree-l2"><a class="reference internal" href="#troubleshooting"><b>Troubleshooting</b></a></li>
<li class="toctree-l2"><a class="reference internal" href="#syncschedule"><b>Sync Schedules</b></a></li> -->
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="">FAQ</a></li>

</ul>


  </aside>

  

    <div class="document">
  <div id="st-results-container"></div>
        <div class="documentwrapper">
          <div class="bodywrapper">
            <div class="body">
              
  <div class="section" id="events">
<span id="introduction"></span><h1>Cloud-App Sources<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>Cloud app sources empower you to pull together data from all of your different third-party tools into one warehouse. To make use of cloud sources you need to have at least one cloud source and one warehouse enabled.</p>

<h3 style="padding-top:0px">Get started with one of our Cloud-App Sources</h3>
<ul>
<li><b>Getting Started:</b> <a href="api-cloud-apps-adwords.html#adwords">Receiving data from AdWords</a></li> 
<li><b>Getting Started:</b> <a href="">Receiving data from Salesforce</a></li> 
<li><b>Getting Started:</b> <a href="">Receiving data from Mail Chimp</a></li>
<li><b>Getting Started:</b> <a href="">Receiving data from Zendesk</a></li>  


</ul>

<h2 id="collections">Collections<a class="headerlink" href="#collections" title="Permalink to this headline">¶</a></h2>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio lectus, vehicula ut commodo in, vehicula ut est. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque ut semper nisl. Mauris in neque fringilla, tristique sapien eu, sodales orci. Vestibulum eget viverra lacus. Nullam eget lacinia nisl. Duis malesuada mi eget felis auctor, eu tempus nisi elementum. Maecenas tortor turpis, porttitor quis mi id, hendrerit lobortis libero. Nulla sapien tellus, dictum sed ornare a, blandit eu diam.

Nunc magna tortor, viverra id dui sit amet, iaculis convallis risus. In hac habitasse platea dictumst. Sed feugiat nunc luctus, rutrum lorem ut, sollicitudin lectus. Nunc ligula turpis, feugiat at porta ut, lacinia ut ipsum. Duis dignissim sapien a diam iaculis posuere. Pellentesque vulputate lectus et odio viverra, in gravida eros aliquam. Quisque hendrerit cursus est ac sodales. Sed rhoncus, odio vel varius condimentum, augue felis congue sem, in vulputate justo quam vitae ipsum.</p>

<h2 id="eventss">Events<a class="headerlink" href="#eventss" title="Permalink to this headline">¶</a></h2>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio lectus, vehicula ut commodo in, vehicula ut est. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque ut semper nisl. Mauris in neque fringilla, tristique sapien eu, sodales orci. Vestibulum eget viverra lacus. Nullam eget lacinia nisl. Duis malesuada mi eget felis auctor, eu tempus nisi elementum. Maecenas tortor turpis, porttitor quis mi id, hendrerit lobortis libero. Nulla sapien tellus, dictum sed ornare a, blandit eu diam.

Nunc magna tortor, viverra id dui sit amet, iaculis convallis risus. In hac habitasse platea dictumst. Sed feugiat nunc luctus, rutrum lorem ut, sollicitudin lectus. Nunc ligula turpis, feugiat at porta ut, lacinia ut ipsum. Duis dignissim sapien a diam iaculis posuere. Pellentesque vulputate lectus et odio viverra, in gravida eros aliquam. Quisque hendrerit cursus est ac sodales. Sed rhoncus, odio vel varius condimentum, augue felis congue sem, in vulputate justo quam vitae ipsum.</p>

<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio lectus, vehicula ut commodo in, vehicula ut est. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque ut semper nisl. Mauris in neque fringilla, tristique sapien eu, sodales orci. Vestibulum eget viverra lacus. Nullam eget lacinia nisl. Duis malesuada mi eget felis auctor, eu tempus nisi elementum. Maecenas tortor turpis, porttitor quis mi id, hendrerit lobortis libero. Nulla sapien tellus, dictum sed ornare a, blandit eu diam.

Nunc magna tortor, viverra id dui sit amet, iaculis convallis risus. In hac habitasse platea dictumst. Sed feugiat nunc luctus, rutrum lorem ut, sollicitudin lectus. Nunc ligula turpis, feugiat at porta ut, lacinia ut ipsum. Duis dignissim sapien a diam iaculis posuere. Pellentesque vulputate lectus et odio viverra, in gravida eros aliquam. Quisque hendrerit cursus est ac sodales. Sed rhoncus, odio vel varius condimentum, augue felis congue sem, in vulputate justo quam vitae ipsum.
</div>

<div style="margin-bottom:500px"></div>
<span id="salesforce"></span><h1>Salesforce<a class="headerlink" href="#salesforce" title="Permalink to this headline">¶</a></h1>
<div class="Page-body"><main class="Page-main Prose"><div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p>Salesforce is a leader in on-demand customer relationship management. <a href="http://salesforce.com">Visit Website</a></p><p>Take your company’s analysis to the next level by <strong>adding Salesforce as a Source to Segment.</strong> We’ll automatically collect objects like <code>Accounts</code>, <code>Campaigns</code>, and <code>Tasks</code> and load them into your data warehouse.</p><h2 id="getting-started" class="Permalink">Getting Started<a class="Permalink-link" href="#getting-started"> <i class="Permalink-icon ss-link"></i> </a></h2><ol><li><p>From your workspace’s <code>/sources</code> page, click <code>add source</code>.</p></li><li><p>Choose Salesforce.</p></li><li><p>Give the source a nickname and a schema name. The nickname will be used to designate the source in the Segment interface, and the schema name is the namespace you’ll be querying against in your warehouse. Both can be whatever you like, but we recommend sticking to something that reflects the source itself, like <code>Salesforce</code> for nickname and <code>sfdc</code>, <code>salesforce</code>, or <code>sfdc_prod</code> for the schema name.</p><p><strong>Note</strong> that you can add multiple instances if you have multiple SalesForce accounts. That’s why we allow you to customize the source’s nickname and schema name!</p><p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_5EDF18D9931125CB560A4FAA3A28517D98AF7BCE3EB8C58293C0C22EA726D86A_1455653102179_SFDC_schema.png" alt=""></p></li><li><p>Finally, just click <strong>Connect</strong> on the next page to OAuth into Salesforce.</p></li></ol><p>That’s it!</p><h2 id="api-access" class="Permalink">API Access<a class="Permalink-link" href="#api-access"> <i class="Permalink-icon ss-link"></i> </a></h2><p>In order for Segment to collect and sync your Salesforce data, you must enable API access for the user that you are connecting to Segment with. For more information on how to confirm or change API access for a Salesforce user, please follow Salesforce’s <a href="https://help.salesforce.com/articleView?id=admin_userperms.htm">recommended documentation</a>.</p><h2 id="components" class="Permalink">Components<a class="Permalink-link" href="#components"> <i class="Permalink-icon ss-link"></i> </a></h2><h3 id="sync" class="Permalink">Sync<a class="Permalink-link" href="#sync"> <i class="Permalink-icon ss-link"></i> </a></h3><p>Salesforce has a sync component, which means we’ll make requests to their API on your behalf on a 3 hour interval to pull the latest data into Segment. In the initial sync, we’ll grab all the Salesforce objects (and their corresponding properties) according to the Collections table below. The objects will be written into a separate schema, corresponding to the source instance’s schema name you designated upon creation. For example, if you went with <code>sfdc_prod</code>, the <code>leads</code> collection will be accessible at <code>sfdc_prod.leads</code> in SQL.</p><p>Our sync component uses an upsert API, so the data in your warehouse loaded via sync will reflect the latest state of the corresponding resource in Salesforce. For example, if <code>lead_status</code> from <code>active</code> to <code>inactive</code> between syncs, on its next sync that tickets status will be <code>inactive</code>.</p><p>The source syncs and warehouse syncs are independent processes. Source runs pull your data into the Segment Hub, and warehouse runs flush that data to your warehouse. Sources will sync with Segment every 3 hours. Depending on your Warehouses plan, we will push the Source data to your warehouse on the interval associated with your billing plan.</p><p>At the moment, we don’t support filtering which objects or properties get synced. If you’re interested in this feature, please let us know!</p><h2 id="collections" class="Permalink">Collections<a class="Permalink-link" href="#collections"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Collections are the groupings of resources we pull from your source. In your warehouse, each collection gets its own table.</p><p><strong>For a complete visual breakdown of the Salesforce collections, all their properties, and ID linkages between objects,</strong> <a href="https://www.lucidchart.com/publicSegments/view/06c1e292-285b-4d0d-a5cd-fc0940ec5ec2">view the visual schema here</a> <strong>or</strong> <a href="https://www.lucidchart.com/documents/view/1e9f6a05-b4bd-4872-975d-b087d0f92a7e">download it in PDF form here</a>.</p><h3 id="custom-objects" class="Permalink">Custom Objects<a class="Permalink-link" href="#custom-objects"> <i class="Permalink-icon ss-link"></i> </a></h3><p>If you’d like to sync any SFDC custom objects, just <a href="/help/contact">contact us</a> and we’ll get it set up. Please include the <a href="https://help.salesforce.com/articleView?id=000007594&amp;language=en_US&amp;type=1">API names</a> of the custom objects. We’ll add support for this to the UI soon!</p><h3 id="custom-fields" class="Permalink">Custom Fields<a class="Permalink-link" href="#custom-fields"> <i class="Permalink-icon ss-link"></i> </a></h3><p>If you’ve added custom fields to an existing collection, <a href="/help/contact">contact us</a> and we’ll get those set up to sync. You do not need to include the field names.</p><h3 id="deleting-records" class="Permalink">Deleting Records<a class="Permalink-link" href="#deleting-records"> <i class="Permalink-icon ss-link"></i> </a></h3><p>Segment supports the use of soft deletes in Salesforce. If you perform a soft delete on a record in Salesforce, your next one to two warehouses syncs will change the value of <code>is_deleted</code> for the assoicated record to <code>True</code>.</p><p>At this time, we do not support hard deletes in Salesforce. Use of hard deletes will result in the data remaining in the warehouse with <code>is_deleted</code> set to <code>False</code>.</p><table><thead><tr><th>Collection</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>accounts</td><td>object</td><td>An individual account, which is an organization involved with your business (such as customers, competitors, and partners). Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_account.htm">Account</a> resource in Salesforce</td></tr><tr><td>account_contact_roles</td><td>object</td><td>The role that a given Contact plays on an Account. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_accountcontactrole.htm">AccountContactRole</a> resource in Salesforce</td></tr><tr><td>account_tags</td><td>object</td><td>Associates a word or short phrase with an Account. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_accounttag.htm">AccountTag</a> resource in Salesforce</td></tr><tr><td>campaigns</td><td>object</td><td>A marketing campaign, such as a direct mail promotion, webinar, or trade show. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_campaign.htm">Campaign</a> resource in Salesforce</td></tr><tr><td>campaign_members</td><td>object</td><td>The association between a Campaign and either a Lead or Contact. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_campaignmember.htm">CampaignMember</a> resource in Salesforce</td></tr><tr><td>campaign_shares</td><td>object</td><td>Represents a list of access levels to a Campaign along with an explanation of the access level. For example, if you have access to a record because you own it, the Access Level value is Full and Reason for Access value is Owner. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_campaignshare.htm">CampaignShare</a> resource in Salesforce</td></tr><tr><td>campaign_tags</td><td>object</td><td>Associates a word or short phrase with a Campaign. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_campaigntag.htm">CampaignTag</a> resource in Salesforce</td></tr><tr><td>cases</td><td>object</td><td>A customer issue such as a customer’s feedback, problem, or question. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_case.htm">Case</a> resource in Salesforce</td></tr><tr><td>case_comments</td><td>object</td><td>A comment that provides additional information about the associated Case. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_casecomment.htm">CaseComment</a> resource in Salesforce</td></tr><tr><td>case_contact_role</td><td>object</td><td>The role that a given Contact plays on a Case. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_casecontactrole.htm">CaseContactRole</a> resource in Salesforce</td></tr><tr><td>case_solution</td><td>object</td><td>The association between a particular Case and a particular Solution. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_casesolution.htm">CaseSolution</a> resource in Salesforce</td></tr><tr><td>case_tags</td><td>object</td><td>Associates a word or short phrase with a Case Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_casetag.htm">CaseTag</a> resource in Salesforce</td></tr><tr><td>contacts</td><td>object</td><td>A contact, which is an individual associated with an Account. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_contact.htm">Contact</a> resource in Salesforce</td></tr><tr><td>contact_tags</td><td>object</td><td>Associates a word or short phrase with a Contact. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_contacttag.htm">ContactTag</a> resource in Salesforce</td></tr><tr><td>contracts</td><td>object</td><td>A contract (a business agreement) associated with an Account. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_contract.htm">Contract</a> resource in Salesforce</td></tr><tr><td>contract_tags</td><td>object</td><td>Associates a word or short phrase with a Contract. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_contracttag.htm">ContractTag</a> resource in Salesforce</td></tr><tr><td>dashboards</td><td>object</td><td>Represents a dashboard, which shows data from custom reports as visual components. Access is read-only. This object is available in API version 20.0 and later. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_dashboard.htm">Dashboard</a> resource in Salesforce</td></tr><tr><td>dashboard_tags</td><td>object</td><td>Associates a word or short phrase with a Dashboard. This object is available inAPI version 20.0 and later. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_dashboardtag.htm">DashboardTag</a> resource in Salesforce</td></tr><tr><td>documents</td><td>object</td><td>A file that a user has uploaded. Unlike Attachment objects, Documents are not attached to a parent object. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_document.htm">Document</a> resource in Salesforce</td></tr><tr><td>document_tags</td><td>object</td><td>Associates a word or short phrase with a Document. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_documenttag.htm">DocumentTag</a> resource in Salesforce</td></tr><tr><td>events</td><td>object</td><td>A calendar appointment event. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_event.htm">Event</a> resource in Salesforce</td></tr><tr><td>event_tags</td><td>object</td><td>Associates a word or short phrase with an Event. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_eventtag.htm">EventTag</a> resource in Salesforce</td></tr><tr><td>_group</td><td>object</td><td>A set of User records. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_group.htm">Group</a> resource in Salesforce</td></tr><tr><td>leads</td><td>object</td><td>A lead, which is a prospect or potential Opportunity. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_lead.htm">Lead</a> resource in Salesforce</td></tr><tr><td>lead_tags</td><td>object</td><td>Associates a word or short phrase with a Lead. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_leadtag.htm">LeadTag</a> resource in Salesforce</td></tr><tr><td>names</td><td>object</td><td>Non-queryable object that provides information about foreign key traversals when the foreign key has more than one parent. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_name.htm">Name</a> resource in Salesforce</td></tr><tr><td>notes</td><td>object</td><td>A note, which is text associated with an Attachment, Contact, Contract,Opportunity, or custom object. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_note.htm">Note</a> resource in Salesforce</td></tr><tr><td>note_tags</td><td>object</td><td>Associates a word or short phrase with a Note. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_notetag.htm">NoteTag</a> resource in Salesforce</td></tr><tr><td>opportunities</td><td>object</td><td>An opportunity, which is a sale or pending deal. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunity.htm">Opportunity</a> resource in Salesforce</td></tr><tr><td>opportunity_competitor</td><td>object</td><td>A competitor on an Opportunity. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunitycompetitor.htm">OpportunityCompetitor</a> resource in Salesforce</td></tr><tr><td>opportunity_contact_role</td><td>object</td><td>The role that a Contact plays on an Opportunity. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunitycontactrole.htm">OpportunityContactRole</a> resource in Salesforce</td></tr><tr><td>opportunity_field_history</td><td>object</td><td>Represents the history of changes to the values in the fields of an opportunity. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunityfieldhistory.htm">OpportunityFieldHistory</a> resource in Salesforce</td></tr><tr><td>opportunity_product</td><td>object</td><td>An opportunity line item, which is a member of the list of Product2 records associated with an Opportunity, along with other information about those products on that opportunity. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunitylineitem.htm">OpportunityLineItem</a> resource in Salesforce</td></tr><tr><td>opportunity_line_item_schedules</td><td>object</td><td>Information about the quantity, revenue distribution, and delivery dates for a particular OpportunityLineItem. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunitylineitemschedule.htm">OpportunityLineItemSchedule</a> resource in Salesforce</td></tr><tr><td>opportunity_stage</td><td>object</td><td>The stage of an Opportunity in the sales pipeline, such as New Lead, Negotiating, Pending, Closed, and so on. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunitystage.htm">OpportunityStage</a> resource in Salesforce</td></tr><tr><td>opportunity_tag</td><td>object</td><td>Associates a word or short phrase with an Opportunity. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_opportunitytag.htm">OpportunityTag</a> resource in Salesforce</td></tr><tr><td>period</td><td>object</td><td>A fiscal period. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_period.htm">Period</a> resource in Salesforce</td></tr><tr><td>price_books</td><td>object</td><td>A price book that contains the list of products (Product2 records) that your organization sells. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_pricebook2.htm">Pricebook2</a> resource in Salesforce</td></tr><tr><td>price_book_entries</td><td>object</td><td>A product entry (an association between a Pricebook2 and Product2) in a price book. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_pricebookentry.htm">PricebookEntry</a> resource in Salesforce</td></tr><tr><td>products</td><td>object</td><td>A product that your organization sells. A product is member of the list of items in a Pricebook2. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_product2.htm">Product2</a> resource in Salesforce</td></tr><tr><td>profile</td><td>object</td><td>A profile, which defines a set of user permissions for performing different operations, such as querying, adding, updating, or deleting information. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_profile.htm">Profile</a> resource in Salesforce</td></tr><tr><td>solutions</td><td>object</td><td>A detailed description of a customer issue and the resolution of that issue. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_solution.htm">Solution</a> resource in Salesforce</td></tr><tr><td>solution_tags</td><td>object</td><td>Associates a word or short phrase with a Solution. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_solutiontag.htm">SolutionTag</a> resource in Salesforce</td></tr><tr><td>tasks</td><td>object</td><td>An activity or to-do item to perform or that has been performed. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_task.htm">Task</a> resource in Salesforce</td></tr><tr><td>task_tags</td><td>object</td><td>Associates a word or short phrase with a Task. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_tasktag.htm">TaskTag</a> resource in Salesforce</td></tr><tr><td>users</td><td>object</td><td>A user in your organization. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_user.htm">User</a> resource in Salesforce</td></tr><tr><td>user_login</td><td>object</td><td>Represents the settings that affect a user’s ability to log into an organization. This object is available in API version 29.0 and later. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_userlogin.htm">UserLogin</a> resource in Salesforce</td></tr><tr><td>role</td><td>object</td><td>A role in your organization. Corresponds to <a href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_userrole.htm">UserRole</a> resource in Salesforce</td></tr></tbody></table><hr><p>If you have any questions or see anywhere we can improve our documentation, please <a href="/contact/">let us know</a> or kick off a conversation in the <a href="https://community.segment.com/">Segment Community</a>!</p></div><footer class="Page-footer"><span class="Feedback"><span>Was this document helpful?</span> <span class="Feedback-btn-wrapper"><label id="Feedback-yes" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">Yes</span></label><label id="Feedback-no" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">No</span></label></span></span></footer></main></div>

<span id="stripe"></span><h1>Stripe<a class="headerlink" href="#stripe" title="Permalink to this headline">¶</a></h1>
<p>Our server-side sources let you send analytics data directly from your servers. We only recommend tracking from your servers when client-side tracking won’t work. Check out our guide on server-side tracking if you’re not sure whether it makes sense for your use case.</p>
<p>One of the most common questions we receive is: “Should I use one of your client-side libraries or one of your server-side libraries?”

This is such an important topic that we’ve written up an in-depth article in our Analytics Academy: When to Track on the Client vs Server. It’s worth a read!</p>

<p>The Segment HTTP Tracking API lets you record analytics data from any website or application. The requests hit our servers, and we route your data to any integration you want!</p>


<div class="highlight-url"><div class="highlight"><pre><span></span>GET /&lt;domain&gt;/events
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Events API replaces the deprecated Logs API endpoint. You should
use the Events API moving forward.</p>
</div>
<div class="section" id="zendesk">
<h1>Zendesk<a class="headerlink" href="#zendesk" title="Permalink to this headline">¶</a></h1>
<p>In our system events are generated by physical hosts and follow different
routes to the event storage, therefore the order in which they appear in the
storage and become retrievable via the events API does not correspond to the
order in which they occur. A consequences of this is that page of most recent
events returned by the events API may not contain all the events that occurred
by that time. Some of them could still be on their way to the storage engine,
and when they are eventually indexed it would appear as if they got inserted
into an already retrieved page. This system behavior makes straight forward
implementation of event polling miss some events.</p>
<p>To ensure that all your events are retrieved and accounted for please
implement polling the following way:</p>
<ol class="arabic simple">
<li>Make a request to the events API specifying an ascending time range that
begins some time in the past (e.g. half an hour ago);</li>
<li>Retrieve a result page;</li>
<li>Check the timestamp of the last event on the result page. If it is older
then some threshold age (e.g. half an hour) then go to step (4), otherwise
proceed with step (6);</li>
<li>The result page is trustworthy, use events from the page as you please;</li>
<li>Make a request using the next page URL retrieved with the result page,
proceed with step (2);</li>
<li>Discard the result page for it is not trustworthy;</li>
<li>Pause for some time (at least 15 seconds);</li>
<li>Repeat the previous request, and proceed with step (2).</li>
</ol>
</div>

<div class="section" id="facebookads">
<h1>Facebook Ads<a class="headerlink" href="#facebookads" title="Permalink to this headline">¶</a></h1>
<p>Fetches the first page of log records that are older than <code class="docutils literal"><span class="pre">Fri,</span> <span class="pre">3</span> <span class="pre">May</span> <span class="pre">2013</span> <span class="pre">09:00:00</span> <span class="pre">-0000</span></code>
and correspond to delivery to <code class="docutils literal"><span class="pre">joe&#64;example.com</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
      https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events <span class="se">\</span>
      --data-urlencode <span class="nv">begin</span><span class="o">=</span><span class="s1">&#39;Fri, 3 May 2013 09:00:00 -0000&#39;</span> <span class="se">\</span>
      --data-urlencode <span class="nv">ascending</span><span class="o">=</span>yes <span class="se">\</span>
      --data-urlencode <span class="nv">limit</span><span class="o">=</span><span class="m">25</span> <span class="se">\</span>
      --data-urlencode <span class="nv">pretty</span><span class="o">=</span>yes <span class="se">\</span>
      --data-urlencode <span class="nv">recipient</span><span class="o">=</span>joe@example.com
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;begin&quot;</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;ascending&quot;</span><span class="o">,</span> <span class="s">&quot;yes&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;limit&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;pretty&quot;</span><span class="o">,</span> <span class="s">&quot;yes&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;recipient&quot;</span><span class="o">,</span> <span class="s">&quot;joe@example.com&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>
<span class="nv">$queryString</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;begin&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;Fri, 3 May 2013 09:00:00 -0000&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ascending&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;limit&#39;</span>        <span class="o">=&gt;</span>  <span class="mi">25</span><span class="p">,</span>
    <span class="s1">&#39;pretty&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;subject&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;test&#39;</span>
<span class="p">);</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events&quot;</span><span class="p">,</span> <span class="nv">$queryString</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">),</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;begin&quot;</span>       <span class="p">:</span> <span class="s2">&quot;Fri, 3 May 2013 09:00:00 -0000&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ascending&quot;</span>   <span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span>       <span class="p">:</span>  <span class="mi">25</span><span class="p">,</span>
                <span class="s2">&quot;pretty&quot;</span>      <span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
                <span class="s2">&quot;recipient&quot;</span> <span class="p">:</span> <span class="s2">&quot;joe@example.com&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
   <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:&#39;begin&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;Fri, 3 May 2013 09:00:00 -0000&#39;</span><span class="p">,</span>
    <span class="ss">:&#39;ascending&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="ss">:&#39;limit&#39;</span>       <span class="o">=&gt;</span>  <span class="mi">25</span><span class="p">,</span>
    <span class="ss">:&#39;pretty&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="ss">:&#39;recipient&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;joe@example.com&#39;</span>
   <span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsDateTimeRecipientChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsDateTimeRecipient</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsDateTimeRecipient</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events&quot;</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;begin&quot;</span><span class="p">,</span> <span class="s">&quot;Fri, 3 May 2013 09:00:00 -0000&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;ascending&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;limit&quot;</span><span class="p">,</span> <span class="m">25</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;pretty&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;recipient&quot;</span><span class="p">,</span> <span class="s">&quot;joe@example.com&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">GetLog</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span> <span class="kt">string</span><span class="p">)</span> <span class="p">([]</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">Event</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mg</span> <span class="o">:=</span> <span class="nx">mailgun</span><span class="p">.</span><span class="nx">NewMailgun</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
  <span class="nx">ei</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">NewEventIterator</span><span class="p">()</span>
  <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetFirstPage</span><span class="p">(</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">GetEventsOptions</span><span class="p">{</span>
    <span class="nx">Begin</span><span class="p">:</span>          <span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">().</span><span class="nx">Add</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span> <span class="o">*</span> <span class="nx">Time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">),</span>
    <span class="nx">ForceAscending</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">Limit</span><span class="p">:</span>          <span class="mi">1</span><span class="p">,</span>
    <span class="nx">Filter</span><span class="p">:</span>         <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
      <span class="s">&quot;recipient&quot;</span><span class="p">:</span> <span class="s">&quot;joe@example.com&quot;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">Events</span><span class="p">(),</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Sample response:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;items&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;czsjqFATSlC3QtAK-C80nw&quot;</span><span class="p">,</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mf">1376325780.160809</span><span class="p">,</span>
      <span class="s2">&quot;envelope&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;sender&quot;</span><span class="o">:</span> <span class="s2">&quot;me@samples.mailgun.org&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transport&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;event&quot;</span><span class="o">:</span> <span class="s2">&quot;accepted&quot;</span><span class="p">,</span>
      <span class="s2">&quot;campaigns&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;user-variables&quot;</span><span class="o">:</span> <span class="p">{},</span>
      <span class="s2">&quot;flags&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;is-authenticated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;is-test-mode&quot;</span><span class="o">:</span> <span class="kc">false</span>
      <span class="p">},</span>
      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;headers&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;message-id&quot;</span><span class="o">:</span> <span class="s2">&quot;20130812164300.28108.52546@samples.mailgun.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;from&quot;</span><span class="o">:</span> <span class="s2">&quot;Excited User &lt;me@samples.mailgun.org&gt;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;Hello&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;attachments&quot;</span><span class="o">:</span> <span class="p">[],</span>
        <span class="s2">&quot;recipients&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;baz@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;bar@example.com&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;size&quot;</span><span class="o">:</span> <span class="mi">69</span>
      <span class="p">},</span>
      <span class="s2">&quot;recipient&quot;</span><span class="o">:</span> <span class="s2">&quot;baz@example.com&quot;</span><span class="p">,</span>
      <span class="s2">&quot;method&quot;</span><span class="o">:</span> <span class="s2">&quot;http&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;paging&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;next&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/W3siY...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;previous&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/Lkawm...&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Fetches the first page of log records that contain different types of failure,
starting from the most recent:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
    https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events <span class="se">\</span>
    --data-urlencode <span class="nv">event</span><span class="o">=</span><span class="s1">&#39;rejected OR failed&#39;</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;event&quot;</span><span class="o">,</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>
<span class="nv">$queryString</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;event&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;rejected OR failed&#39;</span><span class="p">);</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events&quot;</span><span class="p">,</span> <span class="nv">$queryString</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">),</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;event&quot;</span> <span class="p">:</span> <span class="s2">&quot;rejected OR failed&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
  <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:&quot;event&quot;</span> <span class="o">=&gt;</span> <span class="s1">&#39;rejected OR failed&#39;</span>
  <span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsFailureChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsFailure</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsFailure</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events&quot;</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;event&quot;</span><span class="p">,</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">GetLog2</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span> <span class="kt">string</span><span class="p">)</span> <span class="p">([]</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">Event</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mg</span> <span class="o">:=</span> <span class="nx">mailgun</span><span class="p">.</span><span class="nx">NewMailgun</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
  <span class="nx">ei</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">NewEventIterator</span><span class="p">()</span>
  <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetFirstPage</span><span class="p">(</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">GetEventsOptions</span><span class="p">{</span>
    <span class="nx">Filter</span><span class="p">:</span>         <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
      <span class="s">&quot;event&quot;</span><span class="p">:</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">Events</span><span class="p">(),</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;items&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;severity&quot;</span><span class="o">:</span> <span class="s2">&quot;temporary&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;czsjqFATSlC3QtAK-C80nw&quot;</span><span class="p">,</span>
      <span class="s2">&quot;envelope&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;sender&quot;</span><span class="o">:</span> <span class="s2">&quot;me@samples.mailgun.org&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transport&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;delivery-status&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="mi">498</span><span class="p">,</span>
        <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;No MX for [example.com]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;retry-seconds&quot;</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;No MX for [example.com]&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;campaigns&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;reason&quot;</span><span class="o">:</span> <span class="s2">&quot;generic&quot;</span><span class="p">,</span>
      <span class="s2">&quot;user-variables&quot;</span><span class="o">:</span> <span class="p">{},</span>
      <span class="s2">&quot;flags&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;is-authenticated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;is-test-mode&quot;</span><span class="o">:</span> <span class="kc">false</span>
      <span class="p">},</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mf">1376435471.10744</span><span class="p">,</span>
      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;headers&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;baz@example.com, bar@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;message-id&quot;</span><span class="o">:</span> <span class="s2">&quot;20130813230036.10303.40433@samples.mailgun.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;from&quot;</span><span class="o">:</span> <span class="s2">&quot;Excited User &lt;me@samples.mailgun.org&gt;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;Hello&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;attachments&quot;</span><span class="o">:</span> <span class="p">[],</span>
        <span class="s2">&quot;recipients&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">&quot;baz@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;bar@example.com&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;size&quot;</span><span class="o">:</span> <span class="mi">370</span>
      <span class="p">},</span>
      <span class="s2">&quot;recipient&quot;</span><span class="o">:</span> <span class="s2">&quot;bar@example.com&quot;</span><span class="p">,</span>
      <span class="s2">&quot;event&quot;</span><span class="o">:</span> <span class="s2">&quot;failed&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;paging&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;next&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/W3siY...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;previous&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/Lkawm...&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Fetches the first page of log records written so far. Traversal is performed
starting from the most recent records to the oldest:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
    https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v2&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsTraversalChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsTraversal</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsTraversal</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="c1">// coming soon</span>
</pre></div>
</div>
<p>Fetches the next page of log records, assuming that the URL was returned by the
previous request:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
    https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events/W3siYSI6IGZhbHNlLC
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v2&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events/{page_id}&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;page_id&quot;</span><span class="o">,</span> <span class="s">&quot;W3siYSI6IGZhbHNlLC&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>
<span class="nv">$nextPage</span> <span class="o">=</span> <span class="s1">&#39;W3siYSI6IGZhbHNlLC&#39;</span><span class="p">;</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events/</span><span class="si">$nextPage</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events/W3siYSI6IGZhbHNlLC&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events/W3siYSI6IGZhbHNlLC&quot;</span><span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsPaginationChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsPagination</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsPagination</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events/W3siYSI6IGZhbHNlLC&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">GetLog2</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span> <span class="kt">string</span><span class="p">)</span> <span class="p">([]</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">Event</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mg</span> <span class="o">:=</span> <span class="nx">mailgun</span><span class="p">.</span><span class="nx">NewMailgun</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
  <span class="nx">ei</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">NewEventIterator</span><span class="p">()</span>
  <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetFirstPage</span><span class="p">(</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">GetEventsOptions</span><span class="p">{</span>
    <span class="nx">Filter</span><span class="p">:</span>         <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
      <span class="s">&quot;event&quot;</span><span class="p">:</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="c1">// ...</span>
  <span class="nx">err</span> <span class="p">=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetNext</span><span class="p">()</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="nx">events</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">Events</span><span class="p">()</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">events</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;No more events&quot;</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">events</span><span class="p">,</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="events">

<div class="section" id="adwords">
<h1>AdWords<a class="headerlink" href="#adwords" title="Permalink to this headline">¶</a></h1>
<p><b>*This guide assumes*</b> you have already <a href="api-warehouse.html">connected a data warehouse</a> to your Segment account. If you haven't done so already, you must first connect either a <a href="api-warehouse.html#redshift">Redshift</a>, <a href="api-warehouse.html#postgres">Postgres</a>, or <a href="api-warehouse.html#bigquery">BigQuery</a> warehouse to Segment.
</p>
<h2 id="adwords-gettingstarted">Getting Started<a class="headerlink" href="#adwords-gettingstarted" title="Permalink to this headline">¶</a></h2>
<p>1. From your workspace’s /sources page, click add source.</p>
<p>2. Choose AdWords.</p>
<p>3. Give the source a nickname and a schema name. The nickname will be used to designate the source in the Segment interface, and the schema name is the namespace you’ll be querying against in your warehouse. Both can be whatever you like, but we recommend sticking to something that reflects the source itself, like AdWords for nickname and adwords, google_adwords, or adwords_usa for the schema name. See pic below:</p>
<img src="https://segment.com/docs/sources/cloud-apps/adwords/images/setup.png">
<p>4. Finally, just click Connect on the next page to OAuth into Google.</p>
<p>5. You're done!</p>

<h2 id="adwords-sync">Sync<a class="headerlink" href="#adwords-sync" title="Permalink to this headline">¶</a></h2>
<p>AdWords has a sync component, which means we’ll make requests to their API on your behalf on a 3 hour interval to pull the latest data into Segment. In the initial sync, we’ll grab all the Adwords objects (and their corresponding properties) according to the Collections table below. The objects will be written into a separate schema, corresponding to the source instance’s schema name you designated upon creation. For example, if you went with adwords, the ads collection will be accessible at adwords.ads in SQL.</p>
<p>Our sync component uses an upsert API, so the data in your warehouse loaded via sync will reflect the latest state of the corresponding resource in AdWords. For example, if budget from 0 to 100 between syncs, on its next sync that tickets status will be 100.</p>
<p>The source syncs and warehouse syncs are independent processes. Source runs pull your data into the Segment Hub, and warehouse runs flush that data to your warehouse. Sources will sync with Segment every 3 hours. Depending on your Warehouses plan, we will push the Source data to your warehouse on the interval associated with your billing plan.</p>

<h2 id="adwords-collections">Collections<a class="headerlink" href="#adwords-collections" title="Permalink to this headline">¶</a></h2>
<p>Collections are the groupings of resources we pull from your source. In your warehouse, each collection gets its own table.</p>
<p>For a complete visual breakdown of the AdWords collections, all their properties, and ID linkages between objects, view the <a href="">visual schema here</a>.</p>

<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd">
  <th class="head">Collection</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ad_groups</td>
<td>object</td>
<td>An ad group is a set of ads that share the same daily or lifetime budget, schedule, bid type, bid info, and targeting data</td>
</tr>
<tr class="row-odd"><td>ads</td>
<td>object</td>
<td>An ad object contains the data necessary to visually display an ad and associate it with a corresponding ad set.</td>
</tr>
<tr class="row-even"><td>campaigns</td>
<td>object</td>
<td>A campaign is a grouping of ad sets which are organized by the same business objective.</td>
</tr>
<tr class="row-odd"><td>campaign_performance_report</td>
<td>object</td>
<td>Campaign performance reports include a daily snapshot of performance statistics per campaign</td>
</tr>
<tr class="row-odd"><td>click_performance_report</td>
<td>object</td>
<td>Click performance reports include stats at the click level, including both valid and invalid clicks</td>
</tr>
</tbody>
</table>
</div>
<h2 id="adwords-permissions">Permissions<a class="headerlink" href="#adwords-permissions" title="Permalink to this headline">¶</a></h2>
<p>When setting up your AdWords Source, you may notice that we don’t list all AdWords accounts your Google user can view. This is because AdWords API does not expose a list of “managed” or sub-accounts to non-administrator via the API. That said, if you have read permissions to the account, you can enter your AdWords Customer ID directly. For more information about finding your AdWords Customer ID, see here.</p>

<h2 id="adwords-faq">FAQ<a class="headerlink" href="#adwords-faq" title="Permalink to this headline">¶</a></h2>
<ul>
<li><a href="">How often does my AdWords data sync to Segment?</a></li>
<li><a href="">Can I sync to more than one warehouse?</a></li>
<li><a href="">Why is my custom dimension not showing up in Segment?</a></li>
<li><a href="">Why am I seeing a "Sync Error" in the Segment app?</a></li>
<li><a href="">Can I send data to AdWords?</a></li>
</ul>

</div>
<!-- END ADWORDS DOCS-->

<div class="section" id="android">
<h2>Analytics-android<a class="headerlink" href="#android" title="Permalink to this headline">¶</a></h2>
<p>In our system events are generated by physical hosts and follow different
routes to the event storage, therefore the order in which they appear in the
storage and become retrievable via the events API does not correspond to the
order in which they occur. A consequences of this is that page of most recent
events returned by the events API may not contain all the events that occurred
by that time. Some of them could still be on their way to the storage engine,
and when they are eventually indexed it would appear as if they got inserted
into an already retrieved page. This system behavior makes straight forward
implementation of event polling miss some events.</p>
<p>To ensure that all your events are retrieved and accounted for please
implement polling the following way:</p>
<ol class="arabic simple">
<li>Make a request to the events API specifying an ascending time range that
begins some time in the past (e.g. half an hour ago);</li>
<li>Retrieve a result page;</li>
<li>Check the timestamp of the last event on the result page. If it is older
then some threshold age (e.g. half an hour) then go to step (4), otherwise
proceed with step (6);</li>
<li>The result page is trustworthy, use events from the page as you please;</li>
<li>Make a request using the next page URL retrieved with the result page,
proceed with step (2);</li>
<li>Discard the result page for it is not trustworthy;</li>
<li>Pause for some time (at least 15 seconds);</li>
<li>Repeat the previous request, and proceed with step (2).</li>
</ol>
</div>
<div class="section" id="serverside">
<h1>Server-side SDKs<a class="headerlink" href="#serverside" title="Permalink to this headline">¶</a></h1>
<p>In our system events are generated by physical hosts and follow different
routes to the event storage, therefore the order in which they appear in the
storage and become retrievable via the events API does not correspond to the
order in which they occur. A consequences of this is that page of most recent
events returned by the events API may not contain all the events that occurred
by that time. Some of them could still be on their way to the storage engine,
and when they are eventually indexed it would appear as if they got inserted
into an already retrieved page. This system behavior makes straight forward
implementation of event polling miss some events.</p>
<p>To ensure that all your events are retrieved and accounted for please
implement polling the following way:</p>
<ol class="arabic simple">
<li>Make a request to the events API specifying an ascending time range that
begins some time in the past (e.g. half an hour ago);</li>
<li>Retrieve a result page;</li>
<li>Check the timestamp of the last event on the result page. If it is older
then some threshold age (e.g. half an hour) then go to step (4), otherwise
proceed with step (6);</li>
<li>The result page is trustworthy, use events from the page as you please;</li>
<li>Make a request using the next page URL retrieved with the result page,
proceed with step (2);</li>
<li>Discard the result page for it is not trustworthy;</li>
<li>Pause for some time (at least 15 seconds);</li>
<li>Repeat the previous request, and proceed with step (2).</li>
</ol>
</div>

<div class="section" id="node">
<h2>Node<a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h2>
<p>URL parameters allow you to manipulate the results of your query:</p>
<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>begin</td>
<td>The beginning of the search time range. It can be specified
as a string (see <a class="reference internal" href="api-intro.html#date-format"><span class="std std-ref">Date Format</span></a>) or linux epoch seconds.
Refer to <a class="reference internal" href="#time-range">Time Range</a> for details.</td>
</tr>
<tr class="row-odd"><td>end</td>
<td>The end of the search time range. It can be specified
as a string (see <a class="reference internal" href="api-intro.html#date-format"><span class="std std-ref">Date Format</span></a>) or linux epoch seconds.
Refer to <a class="reference internal" href="#time-range">Time Range</a> for details.</td>
</tr>
<tr class="row-even"><td>ascending</td>
<td>Defines the direction of the search time range if the range
end time is not specified. Can be either <code class="docutils literal"><span class="pre">yes</span></code> or <code class="docutils literal"><span class="pre">no</span></code>.
Refer to <a class="reference internal" href="#time-range">Time Range</a> for details.</td>
</tr>
<tr class="row-odd"><td>limit</td>
<td>Number of entries to return. (300 max)</td>
</tr>
<tr class="row-even"><td><strong>&lt;field&gt;</strong></td>
<td><strong>&lt;field&gt;</strong> is the name of the <a class="reference internal" href="#filter-field">Filter Field</a>. The value of
the parameter should be a valid <a class="reference internal" href="#filter-expression">Filter Expression</a>. Several
field filters can be specified in one request. If the same
field is mentioned, more then once, then all its filter
expressions are combined with <strong>AND</strong> operator.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="php">
<h2>Analytics-php<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<p>Log records can be filtered by the following fields:</p>
<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Fields</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>event</td>
<td>An event type. For a complete list of all events written to the log
see the <a class="reference internal" href="#event-types">Event Types</a> table below.</td>
</tr>
<tr class="row-odd"><td>list</td>
<td>The email address of a mailing list the message was originally
sent to.</td>
</tr>
<tr class="row-even"><td>attachment</td>
<td>A name of an attached file.</td>
</tr>
<tr class="row-odd"><td>from</td>
<td>An email address mentioned in the <cite>from</cite> MIME header.</td>
</tr>
<tr class="row-even"><td>message-id</td>
<td>A Mailgun message id returned by the messages API.</td>
</tr>
<tr class="row-odd"><td>subject</td>
<td>A subject line.</td>
</tr>
<tr class="row-even"><td>to</td>
<td>An email address mentioned in the <cite>to</cite> MIME header.</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>Message size. Mostly intended to be used with range filtering
expressions (see below).</td>
</tr>
<tr class="row-even"><td>recipient</td>
<td>An email address of a particular recipient. Even though a message
may be addressed to several recipients, delivery is tracked on
per recipient basis and every event pertains to only one recipient.</td>
</tr>
<tr class="row-odd"><td>tags</td>
<td>User defined tags.</td>
</tr>
<tr class="row-even"><td>severity</td>
<td>Temporary or Permanent. Used to filter events based on severity, if
exists. (Currently failed events only)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="python">
<h2>Analytics-python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p>Possible filtering expressions are listed below:</p>
<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>foo bar</td>
<td>Matches field values that contain both term <code class="docutils literal"><span class="pre">foo</span></code> and
term <code class="docutils literal"><span class="pre">bar</span></code>.</td>
</tr>
<tr class="row-odd"><td>foo AND bar</td>
<td>Same as above.</td>
</tr>
<tr class="row-even"><td>foo OR bar</td>
<td>Matches field values that contain either term <code class="docutils literal"><span class="pre">foo</span></code> or
term <code class="docutils literal"><span class="pre">bar</span></code>.</td>
</tr>
<tr class="row-odd"><td>&#8220;foo bar&#8221;</td>
<td>Matches field values that literally contain <code class="docutils literal"><span class="pre">foo</span> <span class="pre">bar</span></code>.</td>
</tr>
<tr class="row-even"><td>NOT foo</td>
<td>Matches field values that do not contain term <code class="docutils literal"><span class="pre">foo</span></code>.</td>
</tr>
<tr class="row-odd"><td>&gt;10000</td>
<td>Matches values that greater then <code class="docutils literal"><span class="pre">10000</span></code>. This filter can
be applied to numeric fields only.</td>
</tr>
<tr class="row-even"><td>&gt;10000 &lt;20000</td>
<td>Matches values that are greater then <code class="docutils literal"><span class="pre">10000</span></code> and less then
<code class="docutils literal"><span class="pre">20000</span></code>. This filter can be applied to numeric fields only.</td>
</tr>
</tbody>
</table>
</div>
<p>Note that more then one expression can be used as a filter value and parenthesis
can be used to specify grouping. E.g.: <code class="docutils literal"><span class="pre">(Hello</span> <span class="pre">AND</span> <span class="pre">NOT</span> <span class="pre">Rachel)</span> <span class="pre">OR</span> <span class="pre">(Farewell</span> <span class="pre">AND</span> <span class="pre">Monica)</span></code>.</p>
</div>
<div class="section" id="ruby">
<h2>Analytics-ruby<a class="headerlink" href="ruby" title="Permalink to this headline">¶</a></h2>
<p>Mailgun tracks all of the events that occur throughout the system. Below are
listed the events that you can retrieve using this API.</p>
<div class="ptable container">
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Event Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>accepted</td>
<td>Mailgun accepted the request to send/forward the email and the message
has been placed in queue.</td>
</tr>
<tr class="row-odd"><td>rejected</td>
<td>Mailgun rejected the request to send/forward the email.</td>
</tr>
<tr class="row-even"><td>delivered</td>
<td>Mailgun sent the email and it was accepted by the recipient
email server.</td>
</tr>
<tr class="row-odd"><td>failed</td>
<td>Mailgun could not deliver the email to the recipient email server.</td>
</tr>
<tr class="row-even"><td>opened</td>
<td>The email recipient opened the email and enabled image
viewing. Open tracking must be enabled in the Mailgun control
panel, and the CNAME record must be pointing to mailgun.org.</td>
</tr>
<tr class="row-odd"><td>clicked</td>
<td>The email recipient clicked on a link in the email.
Click tracking must be enabled in the Mailgun control
panel, and the CNAME record must be pointing to mailgun.org.</td>
</tr>
<tr class="row-even"><td>unsubscribed</td>
<td>The email recipient clicked on the unsubscribe link.
Unsubscribe tracking must be enabled in the Mailgun control
panel.</td>
</tr>
<tr class="row-odd"><td>complained</td>
<td>The email recipient clicked on the spam complaint button within
their email client. Feedback loops enable the notification to
be received by Mailgun.</td>
</tr>
<tr class="row-even"><td>stored</td>
<td>Mailgun has stored an incoming message</td>
</tr>
</tbody>
</table>
</div>
</div>
<di
<!-- TRACK DOCS START HERE-->
<div class="section" id="syncschedule">
<h1>Sync Schedule<a class="headerlink" href="#syncschedule" title="Permalink to this headline">¶</a></h1>
<p>Fetches the first page of log records that are older than <code class="docutils literal"><span class="pre">Fri,</span> <span class="pre">3</span> <span class="pre">May</span> <span class="pre">2013</span> <span class="pre">09:00:00</span> <span class="pre">-0000</span></code>
and correspond to delivery to <code class="docutils literal"><span class="pre">joe&#64;example.com</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
      https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events <span class="se">\</span>
      --data-urlencode <span class="nv">begin</span><span class="o">=</span><span class="s1">&#39;Fri, 3 May 2013 09:00:00 -0000&#39;</span> <span class="se">\</span>
      --data-urlencode <span class="nv">ascending</span><span class="o">=</span>yes <span class="se">\</span>
      --data-urlencode <span class="nv">limit</span><span class="o">=</span><span class="m">25</span> <span class="se">\</span>
      --data-urlencode <span class="nv">pretty</span><span class="o">=</span>yes <span class="se">\</span>
      --data-urlencode <span class="nv">recipient</span><span class="o">=</span>joe@example.com
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;begin&quot;</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;ascending&quot;</span><span class="o">,</span> <span class="s">&quot;yes&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;limit&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;pretty&quot;</span><span class="o">,</span> <span class="s">&quot;yes&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;recipient&quot;</span><span class="o">,</span> <span class="s">&quot;joe@example.com&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>
<span class="nv">$queryString</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;begin&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;Fri, 3 May 2013 09:00:00 -0000&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ascending&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;limit&#39;</span>        <span class="o">=&gt;</span>  <span class="mi">25</span><span class="p">,</span>
    <span class="s1">&#39;pretty&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;subject&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;test&#39;</span>
<span class="p">);</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events&quot;</span><span class="p">,</span> <span class="nv">$queryString</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">),</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;begin&quot;</span>       <span class="p">:</span> <span class="s2">&quot;Fri, 3 May 2013 09:00:00 -0000&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ascending&quot;</span>   <span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span>       <span class="p">:</span>  <span class="mi">25</span><span class="p">,</span>
                <span class="s2">&quot;pretty&quot;</span>      <span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
                <span class="s2">&quot;recipient&quot;</span> <span class="p">:</span> <span class="s2">&quot;joe@example.com&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
   <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:&#39;begin&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;Fri, 3 May 2013 09:00:00 -0000&#39;</span><span class="p">,</span>
    <span class="ss">:&#39;ascending&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="ss">:&#39;limit&#39;</span>       <span class="o">=&gt;</span>  <span class="mi">25</span><span class="p">,</span>
    <span class="ss">:&#39;pretty&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span>
    <span class="ss">:&#39;recipient&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;joe@example.com&#39;</span>
   <span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsDateTimeRecipientChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsDateTimeRecipient</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsDateTimeRecipient</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events&quot;</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;begin&quot;</span><span class="p">,</span> <span class="s">&quot;Fri, 3 May 2013 09:00:00 -0000&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;ascending&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;limit&quot;</span><span class="p">,</span> <span class="m">25</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;pretty&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;recipient&quot;</span><span class="p">,</span> <span class="s">&quot;joe@example.com&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">GetLog</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span> <span class="kt">string</span><span class="p">)</span> <span class="p">([]</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">Event</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mg</span> <span class="o">:=</span> <span class="nx">mailgun</span><span class="p">.</span><span class="nx">NewMailgun</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
  <span class="nx">ei</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">NewEventIterator</span><span class="p">()</span>
  <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetFirstPage</span><span class="p">(</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">GetEventsOptions</span><span class="p">{</span>
    <span class="nx">Begin</span><span class="p">:</span>          <span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">().</span><span class="nx">Add</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span> <span class="o">*</span> <span class="nx">Time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">),</span>
    <span class="nx">ForceAscending</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">Limit</span><span class="p">:</span>          <span class="mi">1</span><span class="p">,</span>
    <span class="nx">Filter</span><span class="p">:</span>         <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
      <span class="s">&quot;recipient&quot;</span><span class="p">:</span> <span class="s">&quot;joe@example.com&quot;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">Events</span><span class="p">(),</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Sample response:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;items&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;czsjqFATSlC3QtAK-C80nw&quot;</span><span class="p">,</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mf">1376325780.160809</span><span class="p">,</span>
      <span class="s2">&quot;envelope&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;sender&quot;</span><span class="o">:</span> <span class="s2">&quot;me@samples.mailgun.org&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transport&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;event&quot;</span><span class="o">:</span> <span class="s2">&quot;accepted&quot;</span><span class="p">,</span>
      <span class="s2">&quot;campaigns&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;user-variables&quot;</span><span class="o">:</span> <span class="p">{},</span>
      <span class="s2">&quot;flags&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;is-authenticated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;is-test-mode&quot;</span><span class="o">:</span> <span class="kc">false</span>
      <span class="p">},</span>
      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;headers&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;message-id&quot;</span><span class="o">:</span> <span class="s2">&quot;20130812164300.28108.52546@samples.mailgun.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;from&quot;</span><span class="o">:</span> <span class="s2">&quot;Excited User &lt;me@samples.mailgun.org&gt;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;Hello&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;attachments&quot;</span><span class="o">:</span> <span class="p">[],</span>
        <span class="s2">&quot;recipients&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;baz@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;bar@example.com&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;size&quot;</span><span class="o">:</span> <span class="mi">69</span>
      <span class="p">},</span>
      <span class="s2">&quot;recipient&quot;</span><span class="o">:</span> <span class="s2">&quot;baz@example.com&quot;</span><span class="p">,</span>
      <span class="s2">&quot;method&quot;</span><span class="o">:</span> <span class="s2">&quot;http&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;paging&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;next&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/W3siY...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;previous&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/Lkawm...&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Fetches the first page of log records that contain different types of failure,
starting from the most recent:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
    https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events <span class="se">\</span>
    --data-urlencode <span class="nv">event</span><span class="o">=</span><span class="s1">&#39;rejected OR failed&#39;</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">&quot;event&quot;</span><span class="o">,</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="o">);</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>
<span class="nv">$queryString</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;event&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;rejected OR failed&#39;</span><span class="p">);</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events&quot;</span><span class="p">,</span> <span class="nv">$queryString</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">),</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;event&quot;</span> <span class="p">:</span> <span class="s2">&quot;rejected OR failed&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
  <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:&quot;event&quot;</span> <span class="o">=&gt;</span> <span class="s1">&#39;rejected OR failed&#39;</span>
  <span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsFailureChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsFailure</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsFailure</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events&quot;</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;event&quot;</span><span class="p">,</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">GetLog2</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span> <span class="kt">string</span><span class="p">)</span> <span class="p">([]</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">Event</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mg</span> <span class="o">:=</span> <span class="nx">mailgun</span><span class="p">.</span><span class="nx">NewMailgun</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
  <span class="nx">ei</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">NewEventIterator</span><span class="p">()</span>
  <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetFirstPage</span><span class="p">(</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">GetEventsOptions</span><span class="p">{</span>
    <span class="nx">Filter</span><span class="p">:</span>         <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
      <span class="s">&quot;event&quot;</span><span class="p">:</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">Events</span><span class="p">(),</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;items&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;severity&quot;</span><span class="o">:</span> <span class="s2">&quot;temporary&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;czsjqFATSlC3QtAK-C80nw&quot;</span><span class="p">,</span>
      <span class="s2">&quot;envelope&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;sender&quot;</span><span class="o">:</span> <span class="s2">&quot;me@samples.mailgun.org&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transport&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;delivery-status&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="mi">498</span><span class="p">,</span>
        <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;No MX for [example.com]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;retry-seconds&quot;</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;No MX for [example.com]&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;campaigns&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;reason&quot;</span><span class="o">:</span> <span class="s2">&quot;generic&quot;</span><span class="p">,</span>
      <span class="s2">&quot;user-variables&quot;</span><span class="o">:</span> <span class="p">{},</span>
      <span class="s2">&quot;flags&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;is-authenticated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;is-test-mode&quot;</span><span class="o">:</span> <span class="kc">false</span>
      <span class="p">},</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mf">1376435471.10744</span><span class="p">,</span>
      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;headers&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;baz@example.com, bar@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;message-id&quot;</span><span class="o">:</span> <span class="s2">&quot;20130813230036.10303.40433@samples.mailgun.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;from&quot;</span><span class="o">:</span> <span class="s2">&quot;Excited User &lt;me@samples.mailgun.org&gt;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;Hello&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;attachments&quot;</span><span class="o">:</span> <span class="p">[],</span>
        <span class="s2">&quot;recipients&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">&quot;baz@example.com&quot;</span><span class="p">,</span>
          <span class="s2">&quot;bar@example.com&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;size&quot;</span><span class="o">:</span> <span class="mi">370</span>
      <span class="p">},</span>
      <span class="s2">&quot;recipient&quot;</span><span class="o">:</span> <span class="s2">&quot;bar@example.com&quot;</span><span class="p">,</span>
      <span class="s2">&quot;event&quot;</span><span class="o">:</span> <span class="s2">&quot;failed&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;paging&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;next&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/W3siY...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;previous&quot;</span><span class="o">:</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/samples.mailgun.org/events/Lkawm...&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Fetches the first page of log records written so far. Traversal is performed
starting from the most recent records to the oldest:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
    https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v2&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events&quot;</span><span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsTraversalChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsTraversal</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsTraversal</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="c1">// coming soon</span>
</pre></div>
</div>
<p>Fetches the next page of log records, assuming that the URL was returned by the
previous request:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> -G <span class="se">\</span>
    https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events/W3siYSI6IGZhbHNlLC
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">GetLogs</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v2&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/events/{page_id}&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;page_id&quot;</span><span class="o">,</span> <span class="s">&quot;W3siYSI6IGZhbHNlLC&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">request</span><span class="o">()</span>
            <span class="o">.</span><span class="na">buildGet</span><span class="o">()</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s1">&#39;YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>
<span class="nv">$nextPage</span> <span class="o">=</span> <span class="s1">&#39;W3siYSI6IGZhbHNlLC&#39;</span><span class="p">;</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$domain</span><span class="s2">/events/</span><span class="si">$nextPage</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/events/W3siYSI6IGZhbHNlLC&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_logs</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">get</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/events/W3siYSI6IGZhbHNlLC&quot;</span><span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">EventsPaginationChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">EventsPagination</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">EventsPagination</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/events/W3siYSI6IGZhbHNlLC&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">GetLog2</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span> <span class="kt">string</span><span class="p">)</span> <span class="p">([]</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">Event</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mg</span> <span class="o">:=</span> <span class="nx">mailgun</span><span class="p">.</span><span class="nx">NewMailgun</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
  <span class="nx">ei</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">NewEventIterator</span><span class="p">()</span>
  <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetFirstPage</span><span class="p">(</span><span class="nx">mailgun</span><span class="p">.</span><span class="nx">GetEventsOptions</span><span class="p">{</span>
    <span class="nx">Filter</span><span class="p">:</span>         <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
      <span class="s">&quot;event&quot;</span><span class="p">:</span> <span class="s">&quot;rejected OR failed&quot;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="c1">// ...</span>
  <span class="nx">err</span> <span class="p">=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">GetNext</span><span class="p">()</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
  <span class="p">}</span>
  <span class="nx">events</span> <span class="o">:=</span> <span class="nx">ei</span><span class="p">.</span><span class="nx">Events</span><span class="p">()</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">events</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;No more events&quot;</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">events</span><span class="p">,</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


            </div>
          </div>
    </div>
      <div class="clearer"></div>
    </div>

    </div> <!-- /content -->
  </section> <!-- /container -->
</div> <!-- /body --> 

    <script type="text/javascript" charset="utf-8" src="_static/toc.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.debounce.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.cookie.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.viewport.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/samples.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/scroll_hash.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/underscore-min.js"></script>
    <script type="text/javascript">
        window.underscore = _.noConflict();
    </script>



<!-- Ace editor for editable code -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/ace.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">


   // $('input[type=\"search\"]').wrap('<span style=\"position:relative;\"></span>').after('<i id="clear-search" class="icon-remove-sign" style=\"position:absolute; right:5px;line-height:26px;\"></i><i class="icon-search" style=\"position:absolute; left:5px;line-height:26px;\"></i>');
   // $('#clear-search').click(function(){
   //  $(this).parent().find('input').val('');
   //  $(this).parent().find('input').focus();
   // });
   // $("input").focusout(function() {this.value = "";});

    // Responsive navigation show/hide main nav
	$("#js-show-nav").click(function(){
		$("#js-header-nav").slideToggle();
	});




  // highlight nav on load
  $(document).ready(function(){
      $('.docs-sidebar li').removeClass('active');
      $('.docs-sidebar ul.current li.current a.current').parent().addClass('active');
  });




  // Make sample code snippets editable in the browser
  $('.highlight pre').click(function(){
    ace_activate(this);
  });

  // Ace editor activation
  function ace_activate(container) {
    var editor = ace.edit(container);
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/sh");
    editor.setShowPrintMargin(false);
    editor.renderer.setShowGutter(false);
    editor.setHighlightActiveLine(false);
    editor.getSession().setUseWrapMode(true);
    editor.setBehavioursEnabled(false);
    $(container).height(editor.getSession().getScreenLength() * 20);
  }

</script>

<!-- User information insertion code-->
<script type="text/javascript">
  var cp_hostname = "";
</script>
  
<script type="text/javascript"
  src="_static/insert-api-key.js">
</script>
  </body>

<!-- Mirrored from documentation.mailgun.com/api-events.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:53 GMT -->
</html>