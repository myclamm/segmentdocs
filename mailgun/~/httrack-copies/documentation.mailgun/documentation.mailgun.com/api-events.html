<!doctype html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7 documentation"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8 documentation"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9 documentation"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="documentation"> <!--<![endif]-->


<html xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from documentation.mailgun.com/api-events.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API Reference &#8212; Mailgun API  documentation</title>
    
    <link rel="stylesheet" href="_static/adctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <!--SEGMENT FONTS-->
    <link rel="stylesheet" type="text/css" href="https://static.segment.com/fonts/index.css">
    
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Mailgun API  documentation" href="index-2.html" />
    <link rel="next" title="Introduction" href="api-intro.html" />
    <link rel="prev" title="Libraries" href="api-libraries.html" />
    <link media="only screen and (max-device-width: 480px)" href="_static/mobile.css" type="text/css" rel="stylesheet" />

    <link rel="icon" type="image/png" href="_static/img/favicon.png" />

    <!-- <link rel="stylesheet" href="_static/docs.css" /> -->
    <link rel="stylesheet" href="_static/main.css" />
    <meta name="viewport" content="width=device-width">
    
    <!-- CUSTOM CSS -->
    <style type="text/css">

    header {
      background-image: none !important;
      position:fixed
    }
    .documentation .document h3 {
      padding-top: 0px;
    }
    .header-nav a {
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        color: #49B882;
        display: block;
        float: left;
        font-family: 'Titillium Web', Lato, 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif !important;
        font-weight: 100 !important;
        font-size: 14px;
        line-height: 50px;
        padding: 10px 10px;
        text-decoration: none;
        text-transform: none;
    }
    .header-nav {
        float: left;
    }

    .segment-logo {
      float: left;
      background: url("https://cdn.brandisty.com/img?id=57852bda6b49441340000023&format=png&w=600&h=557");
      background-size: 50px 50px;
      background-repeat: no-repeat;
      display: block;
      margin-right:20px;
      position: relative;
      width: 50px;
      height: 50px;
      margin-top: 10px;
    }
    .documentation .subnav {
      background-image: none;
      background-color: #00386c;
      display:none;
    }
    .documentation .subnav li.active a {
      background-image: none;
      background-color: #49b882;
    }
    body {
      font-family:none;
    }

    .documentation .main.main-with-subnav .sphinxsidebarwrapper {
      top: 80px;
    }
    .documentation .document .section h2 {
    padding-top: 80px;
}

.documentation .document .section h1 {
    padding-top: 80px;
}
    .documentation .document .section .section {
    margin-top: 160px;
}
.documentation .sphinxsidebarwrapper {
    margin: 0;
    padding: 60px 0;
}

.documentation .main.main-with-subnav .sphinxsidebarwrapper {
     top: 40px; 
}

code, .pre {
  border:none;
}

.documentation .document h2 {
    font-size: 28px;
    font-weight: 600;
    padding-top:80px;
}

    </style>
    <!-- CUSTOM CSS -->

<!-- i2a tracking code-->
<script type="text/javascript"
  src="_static/i2a.js">
</script>

<!-- GA pageLoadVars -->
<script type="text/javascript">
    var pageLoadVars = {
      'visitor_type' : 'Customer',
      'customer_type' : "",
      'coupon_id' : "",
      'signup_state' : 'Inactive',
      'bamGAVPV' : "",
      'customer_action': []
    }
</script>


  </head>
  <body role="document">

<!-- Google Tag Manager -->
<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-WN2J6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script type="text/javascript" src="_static/google_tag_manager.js"></script>

<!-- SVG Icons -->
<svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="517" height="32" viewBox="0 0 517 32">
<defs>
<g id="icon-search">
  <path class="path1" d="M0 14.857q0-2.554 0.991-4.884t2.679-4.018 4.018-2.679 4.884-0.991 4.884 0.991 4.018 2.679 2.679 4.018 0.991 4.884q0 3.929-2.214 7.125l6.125 6.125q0.661 0.661 0.661 1.607 0 0.929-0.679 1.607t-1.607 0.679q-0.964 0-1.607-0.679l-6.125-6.107q-3.196 2.214-7.125 2.214-2.554 0-4.884-0.991t-4.018-2.679-2.679-4.018-0.991-4.884zM4.571 14.857q0 3.304 2.348 5.652t5.652 2.348 5.652-2.348 2.348-5.652-2.348-5.652-5.652-2.348-5.652 2.348-2.348 5.652z"></path>
</g>
<g id="icon-menu">
  <path class="path1" d="M0 26.286v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 17.143v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 8v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804z"></path>
</g>
<g id="icon-dropdown">
  <path d="M124.452,10.121 L118.343,4.01 C116.225,2.001 113.753,0.996 110.93,0.996 C108.05,0.996 105.606,2.001 103.596,4.01 L64,43.607 L24.404,4.011 C22.394,2.002 19.95,0.997 17.071,0.997 C14.247,0.997 11.775,2.002 9.657,4.011 L3.628,10.122 C1.564,12.185 0.532,14.657 0.532,17.536 C0.532,20.469 1.565,22.913 3.628,24.868 L56.667,77.907 C58.623,79.971 61.066,81.003 64,81.003 C66.879,81.003 69.35,79.971 71.413,77.907 L124.452,24.868 C126.462,22.858 127.468,20.414 127.468,17.536 C127.468,14.711 126.462,12.24 124.452,10.121 L124.452,10.121 Z" id="Shape" sketch:type="MSShapeGroup"></path>
</g>
</defs></svg>

<header>
  <div class="container">
      <a href="http://www.segment.com"><div href="http://www.mailgun.com/" class="segment-logo"></div></a>
      <nav class="header-nav" id="js-header-nav" style="font-family:Aleo-regular">
          <a href="../../../../../index.html" class="pricing-link"><b style="font-weight:100; font-size:20px">Docs</b></a>
          <!-- <a href="quickstart.html" class="customers-link"><b style="font-weight:100">Quickstarts</b></a> -->
          <div class="dropdown">
                    <a href="" class=""><b >API Overview 
</b></a>
<!--                     <nav class="dropdown-menu">
                        <a href="http://www.mailgun.com/sending-email">Sending email</a>
                        <a href="http://www.mailgun.com/inbound-routing">Inbound routing</a>
                        <a href="http://www.mailgun.com/analytics">Tracking &amp; analytics</a>
                        <a href="http://www.mailgun.com/email-validation">Email validation</a>
                        <a href="http://www.mailgun.com/deliverability">Deliverability</a>
                    </nav> -->
                </div>
                <div class="dropdown">
                    <a href="api-libraries.html" ><b style="font-weight:100">Libraries 
</b></a>
 <!--                    <nav class="dropdown-menu">
                        <a href="index.html">Docs</a>
                        <a href="http://resources.mailgun.com/index.html">Guides</a>
                        <a href="http://blog.mailgun.com/">Blog</a>
                    </nav> -->
                </div>
                <a href="api-integrations.html" class="managed-link"><b style="font-weight:100">Integration Catalog</b></a>
                <a href="api-cloud-apps.html" class="contact-link"><b style="font-weight:100">Cloud-App Sources Catalog</b></a>
                <a href="api-warehouse.html" class="contact-link"><b style="font-weight:100">Connect Warehouse</b></a>
                <a href="guides.html" class="contact-link"><b style="font-weight:100">Guides</b></a>

      </nav>
      <button id="js-show-nav"><svg class="icon icon-menu" viewBox="0 0 30 32"><use xlink:href="#icon-menu"></use></svg></button>
  </div>
</header>

<div id="body">
  

  <section class="main">

  <section class="main">

    <div class="container">


  
  <aside id="sphinxsidebar" class="docs-sidebar" style="color:#00386C">
    <div class="sphinxsidebarwrapper">
      <!-- <ul><li class="toctree-l1"><a href="index.html">Main Page</a></li></ul> -->
              <ul class="current">
<!-- <li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li> -->
<!-- <li class="toctree-l1"><a class="reference internal" href="libraries.html">Libraries</a></li> -->
<li class="toctree-l1"><a class="reference internal" href="api-events.html">API Overview</a><ul class="current">

<!-- <li class="toctree-l2"><a class="reference internal" href="api-sending.html">Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-domains.html">Domains</a></li> -->
<li class="toctree-l2 current "><a class="current reference internal" href="#introduction"><b>Introduction</b></a><ul>
  <li class="toctree-l3"><a class="reference internal" href="#event-types">Event Types</a></li>
  <!-- <li class="toctree-l3"><a class="reference internal" href="#event-structure">Event Structure</a></li>
  <li class="toctree-l3"><a class="reference internal" href="#context">Context</a></li> -->
  <li class="toctree-l3"><a class="reference internal" href="#common-fields">Common Fields</a></li>
</ul>

<li class="toctree-l2 current "><a class=" reference internal" href="#events"><b>Events</b></a><ul>
  <li class="toctree-l3"><a class="reference internal" href="#track">Track</a></li>
<li class="toctree-l3"><a class="reference internal" href="#identify">Identify</a></li>
<li class="toctree-l3"><a class="reference internal" href="#page">Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="#screen">Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#group">Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alias">Alias</a></li>


</ul>


</li>

<li class="toctree-l2"><a class="reference internal" href="#ecommerce"><b>Ecommerce Spec</b></a></li>
<li class="toctree-l2"><a class="reference internal" href="#industryspecs"><b>Industry Specific Specs</b></a></li>

</ul>
</li>

</ul>


  </aside>

  

    <div class="document">
  <div id="st-results-container"></div>
        <div class="documentwrapper">
          <div class="bodywrapper">
            <div class="body">
              

 <div class="section" id="eventss">
<span id="introduction"></span><h1>The Tracking API<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>There are six API calls in the Segment Spec. They each represent a distinct type of semantic information about a customer. Every call shares the same common fields.</p>
</div>

  <div class="section" id="event-types">
<span id="event-types"></span><h2>Event Types<a class="headerlink" href="#event-types" title="Permalink to this headline">¶</a></h1>


<ul>
<li><a href="#examples">Track</a></li>
<li><a href="#examples">Identify</a></li>
<li><a href="#examples">Page</a></li>
<li><a href="#examples">Screen</a></li>
<li><a href="#examples">Group</a></li>
<li><a href="#examples">Alias</a></li>
</ul>
</div>


<div class="section" id="common-fields">
<h2>Common Fields<a class="headerlink" href="#common-fields" title="Permalink to this headline">¶</a></h2>
<div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p>In the Segment <a href="/docs/spec/">Spec</a> all the <a href="/docs/spec#api-calls">API calls</a> have a common structure, and a few common fields. However, not every integration accepts every specced field. If you have a question about what fields an integration <em>will</em> accept, you can refer to the integration’s docs page, or check out our <a href="https://github.com/segment-integrations">open-source integration code on Github</a>.</p><h2 id="structure" class="Permalink">Structure<a class="Permalink-link" href="#structure"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Every API call has the same core structure and fields. These fields describe user identity, timestamping and mechanical aides like API version.</p><p>Here’s an example of these common fields in raw JSON:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"anonymousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"507f191e810c19729de860ea"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"context"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"active"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"app"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"InitechGlobal"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"545"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"build"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"3.0.1.545"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"campaign"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"TPS Innovation Newsletter"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"source"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Newsletter"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"medium"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"email"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"term"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"tps reports"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"content"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"image link"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"device"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"id"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"B5372DB0-C21E-11E4-8DFC-AA07A5B093DB"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"advertisingId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"7A3CBEA0-BDF5-11E4-8DFC-AA07A5B093DB"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"adTrackingEnabled"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"manufacturer"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Apple"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"model"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"iPhone7,2"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"maguro"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"ios"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"token"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"ff15bc0c20c4aa6cd50854ff165fd265c838e5405bfeb9571066395b8c9da449"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"ip"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"8.8.8.8"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"library"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"analytics.js"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2.11.1"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"locale"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"nl-NL"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"location"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"city"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"San Francisco"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"country"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"United States"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"latitude"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">40.2964197</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"longitude"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-operator">-</span><span class="Highlight-number">76.9411617</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"speed"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">0</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"network"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"bluetooth"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"carrier"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"T-Mobile NL"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"cellular"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"wifi"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"os"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"iPhone OS"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"8.1.3"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"page"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"path"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"/academy/"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"referrer"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">""</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"search"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">""</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"title"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Analytics Academy"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"url"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"https://segment.com/academy/"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"referrer"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"id"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"ABCD582CDEFFFF01919"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"dataxu"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"screen"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"width"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">320</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"height"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">568</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"density"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">2</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"timezone"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Europe/Amsterdam"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"userAgent"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"integrations"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"All"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Mixpanel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Salesforce"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"messageId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"022bb90c-bbac-11e4-8dfc-aa07a5b093db"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"receivedAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-12-10T04:08:31.909Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"sentAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-12-10T04:08:31.581Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"timestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-12-10T04:08:31.905Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"track"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"97980cfea0067"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">2</span>
<span class="Highlight-punctuation">}</span>
</code></pre><p>In more detail these common fields for every API call are:</p>w<table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>anonymousId</code> <em>optional</em></td><td>String</td><td>A pseudo-unique substitute for a User ID, for cases when you don’t have an absolutely unique identifier<p>See the <a href="/docs/spec/identify#identities">Identities docs</a> for more detail</p></td></tr><tr><td><code>context</code> <em>optional</em></td><td>Object</td><td>Dictionary of extra information that provides useful context about a message, but is not directly related to the API call like <code>ip</code> address or <code>locale</code><p>See the <a href="/docs/spec/common#context">Context field docs</a> for more detail</p></td></tr><tr><td><code>integrations</code> <em>optional</em></td><td>Object</td><td>Dictionary of integrations to either enable or disable<p>See the <a href="/docs/spec/common#integrations">Integrations field docs</a> for more detail</p></td></tr><tr><td><code>messageId</code> <em>implicit</em></td><td>String</td><td>Automatically collected by Segment, a unique identifier for each message that lets you find an individual message across the API</td></tr><tr><td><code>receivedAt</code> <em>implicit</em></td><td>Date</td><td>Automatically set by Segment, the timestamp of when a message is received by Segment<p>It is an <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date string. See the <a href="/docs/spec/common#timestamps">Timestamps fields docs</a> for more detail</p></td></tr><tr><td><code>sentAt</code> <em>optional</em></td><td>Date</td><td>Timestamp of when a message is sent to Segment, used for clock skew correction<p>It is set automatically by the Segment tracking libraries. It is an <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date string. See the <a href="/docs/spec/common#timestamps">Timestamps fields docs</a> for more detail.</p></td></tr><tr><td><code>timestamp</code> <em>optional</em></td><td>Date</td><td>Timestamp when the message itself took place, defaulted to the current time by the Segment Tracking API<p>It is an <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date string</p><p>If the event just happened, leave it out and we’ll use the server’s time. If you’re importing data from the past, make sure you to provide a <code>timestamp</code>.See the <a href="/docs/spec/common#timestamps">Timestamps fields docs</a> for more detail.</p></td></tr><tr><td><code>type</code> <em>implicit</em></td><td>String</td><td>Type of message, corresponding to the API method: <code>'identify'</code>, <code>'group'</code>, <code>'track'</code>, <code>'page'</code>, <code>'screen'</code> or <code>'alias'</code></td></tr><tr><td><code>userId</code> <em>required</em></td><td>String</td><td>Unique identifier for the user in your database<p>A <code>userId</code> <em>or</em> <code>anonymousId</code> is required</p><p>See the <a href="/docs/spec/identify#identities">Identities docs</a> for more detail</p></td></tr><tr><td><code>version</code> <em>implicit</em></td><td>Number</td><td>Version of the Tracking API that received the message, automatically set by Segment</td></tr></tbody></table><p>Beyond this common structure, each API call adds a few specialized top-level fields.</p><h2 id="context" class="Permalink">Context<a class="Permalink-link" href="#context"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Context is a dictionary of extra information that provides useful context about a datapoint, for example the user’s <code>ip</code> address or <code>locale</code>. Context is a complete and explicit specification, so properties outside the spec will be ignored. You should <strong>only use</strong> Context fields for their intended meaning.</p><table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>active</code></td><td>Boolean</td><td>Whether a user is active<p>This is usually used to flag an <code>.identify()</code> call to just update the traits but not “last seen.”</p></td></tr><tr><td><code>app</code></td><td>Object</td><td>dictionary of information about the current application, containing <code>name</code>, <code>version</code> and <code>build</code>.<p>This is collected automatically from our mobile libraries when possible.</p></td></tr><tr><td><code>campaign</code></td><td>Object</td><td>Dictionary of information about the campaign that resulted in the API call, containing <code>name</code>, <code>source</code>, <code>medium</code>, <code>term</code> and <code>content</code><p>This maps directly to the common UTM campaign parameters.</p></td></tr><tr><td><code>device</code></td><td>Object</td><td>Dictionary of information about the device, containing <code>id</code>, <code>manufacturer</code>, <code>model</code>, <code>name</code>, <code>type</code> and <code>version</code></td></tr><tr><td><code>ip</code></td><td>String</td><td>Current user’s IP address</td></tr><tr><td><code>library</code></td><td>Object</td><td>Dictionary of information about the library making the requests to the API, containing <code>name</code> and <code>version</code></td></tr><tr><td><code>locale</code></td><td>String</td><td>Locale string for the current user, for example <code>en-US</code></td></tr><tr><td><code>location</code></td><td>Object</td><td>Dictionary of information about the user’s current location, containing <code>city</code>, <code>country</code>, <code>latitude</code>, <code>longitude</code>, <code>region</code> and <code>speed</code></td></tr><tr><td><code>network</code></td><td>Object</td><td>Dictionary of information about the current network connection, containing <code>bluetooth</code>, <code>carrier</code>, <code>cellular</code> and <code>wifi</code></td></tr><tr><td><code>os</code></td><td>Object</td><td>Dictionary of information about the operating system, containing <code>name</code> and <code>version</code></td></tr><tr><td><code>page</code></td><td>Object</td><td>Dictionary of information about the current page in the browser, containing <code>hash</code>, <code>path</code>, <code>referrer</code>, <code>search</code>, <code>title</code> and <code>url</code><p>Automatically collected by Analytics.js.</p></td></tr><tr><td><code>referrer</code></td><td>Object</td><td>Dictionary of information about the way the user was referred to the website or app, containing <code>type</code>, <code>name</code>, <code>url</code> and <code>link</code></td></tr><tr><td><code>screen</code></td><td>Object</td><td>Dictionary of information about the device’s screen, containing <code>density</code>, <code>height</code> and <code>width</code></td></tr><tr><td><code>timezone</code></td><td>String</td><td>Timezones are sent as tzdata strings to add user timezone information which might be stripped from the timestamp<p>Ex: <code>America/New_York</code></p></td></tr><tr><td><code>traits</code></td><td>Object</td><td>Dictionary of <code>traits</code> of the current user<p>This is useful in cases where you need to <code>track</code> an event, but also associate information from a previous <code>identify</code> call</p></td></tr><tr><td><code>userAgent</code></td><td>String</td><td>User agent of the device making the request</td></tr></tbody></table><h2 id="context-fields-automatically-collected" class="Permalink">Context Fields Automatically Collected<a class="Permalink-link" href="#context-fields-automatically-collected"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Below is a chart that shows you which context variables are populated automatically by our iOS, Android and analytics.js libraries.</p><p>Other libraries only collect <code>context.library</code>, any other context variables must be sent manually.</p><table><thead><tr><th>Context Field</th><th>Analytics.js</th><th>Analytics-ios</th><th>Analytics-android</th></tr></thead><tbody><tr><td>app.name</td><td></td><td>√</td><td>√</td></tr><tr><td>app.version</td><td></td><td>√</td><td>√</td></tr><tr><td>app.build</td><td></td><td>√</td><td>√</td></tr><tr><td>campaign.name</td><td>√</td><td></td><td></td></tr><tr><td>campaign.source</td><td>√</td><td></td><td></td></tr><tr><td>campaign.medium</td><td>√</td><td></td><td></td></tr><tr><td>campaign.term</td><td>√</td><td></td><td></td></tr><tr><td>campaign.content</td><td>√</td><td></td><td></td></tr><tr><td>device.type</td><td></td><td>√</td><td>√</td></tr><tr><td>device.id</td><td></td><td>√</td><td>√</td></tr><tr><td>device.advertisingId</td><td></td><td>√</td><td>√</td></tr><tr><td>device.adTrackingEnabled</td><td></td><td>√</td><td>√</td></tr><tr><td>device.manufacturer</td><td></td><td>√</td><td>√</td></tr><tr><td>device.model</td><td></td><td>√</td><td>√</td></tr><tr><td>device.name</td><td></td><td>√</td><td>√</td></tr><tr><td>hash</td><td>√</td><td></td><td></td></tr><tr><td>library.name</td><td>√</td><td>√</td><td>√</td></tr><tr><td>library.version</td><td>√</td><td>√</td><td>√</td></tr><tr><td>ip*</td><td>√</td><td>√</td><td>√</td></tr><tr><td>locale</td><td></td><td>√</td><td>√</td></tr><tr><td>location.latitude</td><td></td><td></td><td></td></tr><tr><td>location.longitude</td><td></td><td></td><td></td></tr><tr><td>location.speed</td><td></td><td></td><td></td></tr><tr><td>network.bluetooth</td><td></td><td></td><td>√</td></tr><tr><td>network.carrier</td><td></td><td>√</td><td>√</td></tr><tr><td>network.cellular</td><td></td><td>√</td><td>√</td></tr><tr><td>network.wifi</td><td></td><td>√</td><td>√</td></tr><tr><td>os.name</td><td></td><td>√</td><td>√</td></tr><tr><td>os.version</td><td></td><td>√</td><td>√</td></tr><tr><td>page.path</td><td>√</td><td></td><td></td></tr><tr><td>page.search</td><td>√</td><td></td><td></td></tr><tr><td>page.title</td><td>√</td><td></td><td></td></tr><tr><td>page.url</td><td>√</td><td></td><td></td></tr><tr><td>referrer.id</td><td>√</td><td></td><td></td></tr><tr><td>referrer.type</td><td>√</td><td>√</td><td></td></tr><tr><td>screen.density</td><td></td><td></td><td>√</td></tr><tr><td>screen.height</td><td></td><td>√</td><td>√</td></tr><tr><td>screen.width</td><td></td><td>√</td><td>√</td></tr><tr><td>search</td><td>√</td><td></td><td></td></tr><tr><td>title</td><td>√</td><td></td><td></td></tr><tr><td>traits</td><td>√</td><td>√</td><td>√</td></tr><tr><td>userAgent</td><td>√</td><td></td><td>√</td></tr><tr><td>url</td><td>√</td><td></td><td></td></tr><tr><td>timezone</td><td></td><td>√</td><td>√</td></tr></tbody></table><ul><li>IP Address is not collected by our libraries, but instead filled in by our servers when it receives a message for <strong>client side events only</strong>.</li><li>Our Android library collects <code>screen.density</code> with <a href="/docs/spec/common/#context-fields-automatically-collected">this method</a>.</li></ul><h2 id="integrations" class="Permalink">Integrations<a class="Permalink-link" href="#integrations"> <i class="Permalink-icon ss-link"></i> </a></h2><p>A dictionary of integration names that the message should be sent to. <code>'All'</code> is a special key that applies when no key for a specific integration is found.</p><p>Integrations defaults to the following:</p><pre><code>{
  All: true,
  Salesforce: false,
  Marketo: false
}
</code></pre><p>This is because the <a href="/docs/integrations/salesforce/">Salesforce</a> and <a href="/docs/integrations/marketo/">Marketo</a> integrations have strict limits on API calls, and we don’t want to run over your limits by accident.</p><p>Sending data to the rest of our integrations is opt-out so if you don’t specify the integration as false in this object, it will be sent to rest of the integrations that can accept it.</p><h2 id="timestamps" class="Permalink">Timestamps<a class="Permalink-link" href="#timestamps"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Every API call has three timestamps, <code>timestamp</code>, <code>sentAt</code> and <code>receivedAt.</code></p><p>They’re used for very different purposes.</p><p>If you’re receiving data <em>from</em> Segment, you only need to care about <code>timestamp</code>: the true time the datapoint occurred.</p><p>If you’re sending data <em>to</em> Segment (e.g. from a library), you need to include both <code>sentAt</code> and <code>timestamp</code>. Internally, we add <code>receivedAt</code> and make clock skew corrections to <code>timestamp</code> using the difference between <code>receivedAt</code> and <code>sentAt</code>.</p><p><strong>All timestamps are <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date strings.</strong></p><h3 id="-timestamp-" class="Permalink"><code>timestamp</code><a class="Permalink-link" href="#-timestamp-"> <i class="Permalink-icon ss-link"></i> </a></h3><p>This is important to use for importing historical data to the API.</p><p>The <code>timestamp</code> timestamp specifies when the datapoint occurred. If you’re receiving data from Segment, this is the only timestamp you care about. For <code>track</code> calls it’s the exact time when the user performed an action. Or, for <code>identify</code> calls, this would be when you saw the user.</p><p>The <code>timestamp</code> field is settable from our server-side libs or if passing info directly to the HTTP endpoints.</p><h3 id="-sentat-" class="Permalink"><code>sentAt</code><a class="Permalink-link" href="#-sentat-"> <i class="Permalink-icon ss-link"></i> </a></h3><p>The <code>sentAt</code> timestamp specifies the clock time for the client’s device when the network request was made to the Segment API. For libraries and systems that send batched requests, there can be a long gap between a datapoint’s <code>timestamp</code> and <code>sentAt</code>. Combined with <code>receivedAt</code>, we can use <code>sentAt</code> to correct the original <code>timestamp</code> in situations where a user’s device clock cannot be trusted (mobile phones and browsers). The <code>sentAt</code> and <code>receivedAt</code> timestamps are assumed to occur at the same time (maximum a few hundred milliseconds), and therefore the difference is the user’s device clock skew, which can be applied back to correct the <code>timestamp</code>.</p><p><strong>Note:</strong> The <code>sentAt</code> timestamp is only applicable to upstream data sources. If you’re receiving data from Segment it’s not useful for any analysis since it’s tainted by user’s clock skew.</p><h3 id="-receivedat-" class="Permalink"><code>receivedAt</code><a class="Permalink-link" href="#-receivedat-"> <i class="Permalink-icon ss-link"></i> </a></h3><p>The <code>receivedAt</code> timestamp is added to incoming messages as soon as they hit our API. It’s used in combination with <code>sentAt</code> to correct clock skew, and also to aid with debugging libraries and systems that deliver events in batches.</p><p>The <code>receivedAt</code> timestamp is most important as the sort key in our Warehouses product. Use this for max query speed when retrieving data from your Warehouse!</p><hr></div>
</div>



<!-- TRACK DOCS START HERE-->
<div class="section" id="track">
<h2>Track<a class="headerlink" href="#track" title="Permalink to this headline">¶</a></h2>
<div class="Page-body"><main class="Page-main Prose"><div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p>The <code>track</code> API call is how you record any actions your users perform, along with any properties that describe the action.</p><p>Each action is known as an event. Each event has a name, like <strong>Registered</strong>, and properties, for example a <strong>Registered</strong> event might have properties like <code>plan</code> or <code>accountType</code>. Calling <code>track</code> in one of our <a href="/docs/sources/">sources</a> is one of the first steps to getting started with Segment.</p><p>Here’s the payload of a typical <code>track</code> call with most <a href="/docs/spec/common/">common fields</a> removed:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"track"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"event"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Registered"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"properties"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"plan"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Pro Annual"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"accountType"</span> <span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Facebook"</span>
  <span class="Highlight-punctuation">}</span>
<span class="Highlight-punctuation">}</span>
</code></pre><p>And here’s the corresponding Javascript event that would generate the above payload:</p><pre><code class="lang-js">analytics<span class="Highlight-punctuation">.</span><span class="Highlight-function"><span class="Highlight-function">track</span><span class="Highlight-punctuation">(</span></span><span class="Highlight-string">"Registered"</span><span class="Highlight-punctuation">,</span> <span class="Highlight-punctuation">{</span>
  plan<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Pro Annual"</span><span class="Highlight-punctuation">,</span> 
  accountType<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Facebook"</span>
<span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">)</span><span class="Highlight-punctuation">;</span>
</code></pre><p>Beyond the common fields, the <code>track</code> call has the following fields:</p><table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>event</code> <em>required</em></td><td>String</td><td>Name of the action that a user has performed.<p>See the <a href="/docs/spec/track#event">Event field docs</a> for more detail</p></td></tr><tr><td><code>properties</code> <em>optional</em></td><td>Object</td><td>Free-form dictionary of properties of the event, like <code>revenue</code><p>See the <a href="/docs/spec/track#properties">Properties docs</a> for a list of reserved property names</p></td></tr></tbody></table><h2 id="example" class="Permalink">Example<a class="Permalink-link" href="#example"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Here’s a complete example of a <code>track</code> call:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"anonymousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"23adfd82-aa0f-45a7-a756-24f2a7a4c895"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"context"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"library"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"analytics.js"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2.11.1"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"page"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"path"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"/academy/"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"referrer"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">""</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"search"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">""</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"title"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Analytics Academy"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"url"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"https://segment.com/academy/"</span>
    <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"userAgent"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"ip"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"108.0.78.21"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"event"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Course Clicked"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"integrations"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span><span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"messageId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"ajs-f8ca1e4de5024d9430b3928bd8ac6b96"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"properties"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"title"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Intro to Analytics"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"receivedAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-12-12T19:11:01.266Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"sentAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-12-12T19:11:01.169Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"timestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-12-12T19:11:01.249Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"track"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"AiUGstSDIg"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"originalTimestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-12-12T19:11:01.152Z"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><h2 id="identities" class="Permalink">Identities<a class="Permalink-link" href="#identities"> <i class="Permalink-icon ss-link"></i> </a></h2><p>The User ID is a unique identifier for the user performing the actions. Check out the <a href="/docs/spec/identify#user-id">User ID docs</a> for more detail.</p><p>The Anonymous ID can be any pseudo-unique identifier, for cases where you don’t know who the user is, but you still want to tie them to an event. Check out the <a href="/docs/spec/identify#anonymous-id">Anonymous ID docs</a> for more detail.</p><p><strong>Note: In our browser and mobile libraries a User ID is automatically added</strong> from the state stored by a previous <a href="/docs/spec/identify/"><code>identify</code></a> call, so you do not need to add it yourself. They will also automatically handle Anonymous ID’s under the covers.</p><h2 id="event" class="Permalink">Event<a class="Permalink-link" href="#event"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Every <code>track</code> call records a single user action. We call these “events”. We recommend that you make your event names human-readable, so that everyone on your team (even you, after all that caffeine) can know what they mean instantly.</p><p>Do not use nondescript names like <strong>Event 12</strong> or <strong>TMDropd</strong>. Instead, use unique but recognizable names like <strong>Video Recorded</strong> and <strong>Order Completed</strong>.</p><p><strong>We recommend event names built from a noun and past-tense verb.</strong> For more information about best practices in event naming, check out our <a href="/academy/collecting-data/naming-conventions-for-clean-data/">Analytics Academy lesson on best practices for naming conventions for clean data</a>.</p><p>We have standardized a series of reserved event names that have special semantic meaning. We map these events to tools that support them whenever possible. See the <a href="/docs/spec/semantic/">Semantic Events docs</a> for more detail.</p><h2 id="properties" class="Permalink">Properties<a class="Permalink-link" href="#properties"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Properties are extra pieces of information you can tie to events you track. They can be anything that will be useful while analyzing the events later. We recommend sending properties whenever possible because they give you a more complete picture of what your users are doing.</p><p>We’ve reserved some properties that have semantic meanings, and we handle them in special ways. For example, we always expect <code>revenue</code> to be a dollar amount that we send to tools that handle revenue tracking.</p><p>You should <strong>only use reserved properties for their intended meaning</strong>.</p><p>The following is all the reserved properties we have standardized that apply to all events. Check out the <a href="/docs/spec/semantic/">Semantic Events docs</a> for properties specific to individual reserved events.</p><table><tbody><tr><th><strong>Property</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>revenue</code></td><td>Number</td><td>Amount of revenue an event resulted in<p>This should be a decimal value, so a shirt worth $19.99 would result in a <code>revenue</code> of <code>19.99</code>.</p></td></tr><tr><td><code>currency</code></td><td>String</td><td>Currency of the revenue an event resulted in<p>This should be sent in the <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4127 format</a>. If this is not set, we assume the revenue to be in US dollars.</p></td></tr><tr><td><code>value</code></td><td>Number</td><td>An abstract “value” to associate with an event<p>This is typically used in situations where the event doesn’t generate real-dollar revenue, but has an intrinsic value to a marketing team, like newsletter signups.</p></td></tr></tbody></table><p><strong>Note:</strong> You might be used to some integrations recognizing special properties differently. For example, Mixpanel has a special <code>track_charges</code> method for accepting revenue. Luckily, you don’t have to worry about those inconsistencies. Just pass us <code>revenue</code>. <strong>We’ll handle all of the integration-specific conversions for you automatically.</strong> Same goes for the rest of the reserved properties.</p><hr><p>If you have any questions or see anywhere we can improve our documentation, please <a href="/contact/">let us know</a> or kick off a conversation in the <a href="https://community.segment.com/">Segment Community</a>!</p></div><footer class="Page-footer"><span class="Feedback"><span>Was this document helpful?</span> <span class="Feedback-btn-wrapper"><label id="Feedback-yes" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">Yes</span></label><label id="Feedback-no" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">No</span></label></span></span></footer></main></div>
</div>

<!-- Identify docs start here -->
<div class="section" id="identify">
<h2>Identify<a class="headerlink" href="#identify" title="Permalink to this headline">¶</a></h2>
<div class="Page-body"><main class="Page-main Prose"><h1 class="Page-title"></h1><div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p><code>identify</code> lets you tie a user to their actions and record traits about them. It includes a unique User ID and any optional traits you know about them like their email, name, etc.</p><p>Our recommendation for when and how often you should call identify is as follows:</p><ul><li>After a user registers</li><li>After a user logs in</li><li>Upon loading any pages that are accessible by a logged in user</li></ul><p>The first two examples are pretty self-explanatory, but many might ask: why you would call identify on every page load if we’re storing the userIdin the cookie?</p><p>Let’s imagine this scenario:</p><p>I log into your app. identify is called. For whatever reason, I close the browser and don’t return until later. There’s no way of knowing where I will reenter your app from. I could start my session from anywhere. And because there are many tools out there that require an initial identify call for certain features (e.g. Intercom chat widget) it’s important to tell your end tools who the user is when they first start their session. It’s better to be safe than sorry!</p><p>Calling <code>identify</code> in one of our <a href="/docs/sources/">libraries</a> is one of the first steps to getting started with Segment.</p><p>Here’s the payload of a typical <code>identify</code> call with most <a href="/docs/spec/common/">common fields</a> removed:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"identify"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"traits"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Peter Gibbons"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"email"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"peter@initech.com"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"plan"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"premium"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"logins"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">5</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"97980cfea0067"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><p>And here’s the corresponding Javascript event that would generate the above payload:</p><pre><code class="lang-js">analytics<span class="Highlight-punctuation">.</span><span class="Highlight-function"><span class="Highlight-function">identify</span><span class="Highlight-punctuation">(</span></span><span class="Highlight-string">"97980cfea0067"</span><span class="Highlight-punctuation">,</span> <span class="Highlight-punctuation">{</span>
  name<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Peter Gibbons"</span><span class="Highlight-punctuation">,</span> 
  email<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"peter@initech.com"</span><span class="Highlight-punctuation">,</span> 
  plan<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"premium"</span><span class="Highlight-punctuation">,</span> 
  logins<span class="Highlight-punctuation">:</span> <span class="Highlight-number">5</span>
<span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">)</span><span class="Highlight-punctuation">;</span>
</code></pre><p>Beyond the common fields, an <code>identify</code> call has the following fields:</p><table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>traits</code> <em>optional</em></td><td>Object</td><td>Free-form dictionary of traits of the user, like <code>email</code> or <code>name</code>.<p>See the <a href="/docs/spec/identify#traits">Traits field docs</a> for a list of reserved trait names</p></td></tr><tr><td><code>userId</code> <em>required</em></td><td>String</td><td>Unique identifier for the user in your database<p>A <code>userId</code> <em>or</em> <code>anonymousId</code> is required</p><p>See the <a href="/docs/spec/identify#identities">Identities docs</a> for more detail</p></td></tr></tbody></table><h2 id="example" class="Permalink">Example<a class="Permalink-link" href="#example"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Here’s a complete example of an <code>identify</code> call:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"anonymousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"507f191e810c19729de860ea"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"channel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"browser"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"context"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"ip"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"8.8.8.8"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"userAgent"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.115 Safari/537.36"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"integrations"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"All"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Mixpanel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Salesforce"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"messageId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"022bb90c-bbac-11e4-8dfc-aa07a5b093db"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"receivedAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.387Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"sentAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"timestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"traits"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Peter Gibbons"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"email"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"peter@initech.com"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"plan"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"premium"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"logins"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">5</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"address"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
      <span class="Highlight-string">"street"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"6th St"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"city"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"San Francisco"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"state"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"CA"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"postalCode"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"94103"</span><span class="Highlight-punctuation">,</span>
      <span class="Highlight-string">"country"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"USA"</span>
    <span class="Highlight-punctuation">}</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"identify"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"97980cfea0067"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"1.1"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><h2 id="identities" class="Permalink">Identities<a class="Permalink-link" href="#identities"> <i class="Permalink-icon ss-link"></i> </a></h2><p>The <code>identify</code> call specifies a customer identity that you can reference across the customer’s whole lifetime. <strong>Every <code>identify</code> call must have a <a href="/docs/spec/identify#user-id">User ID</a> or an <a href="/docs/spec/identify#anonymous-id">Anonymous ID</a></strong>, depending on how much you know about the user in question.</p><h3 id="anonymous-id" class="Permalink">Anonymous ID<a class="Permalink-link" href="#anonymous-id"> <i class="Permalink-icon ss-link"></i> </a></h3><p>There are certain cases where you don’t actually know who the user is according to your database, but you still want to be able tie them to traits, events or page views. For example, you may not know who a user is when tracking newsletter signups or anonymous page views.</p><p>In these cases, you should use an Anonymous ID.</p><p>The Anonymous ID can be any pseudo-unique identifier. For example, on your servers you can use a session id. If you don’t have any readily available identifier, you can always generate a new random one—we recommend <a href="http://en.wikipedia.org/wiki/Universally_unique_identifier">UUIDs</a>.</p><p><strong>Note:</strong> Our <a href="/docs/sources/">browser and mobile libraries</a> <strong>automatically</strong> use Anonymous IDs under the covers to keep track of users as they navigate around your website or app, so you don’t need to worry about them when using those libraries.</p><h3 id="user-id" class="Permalink">User ID<a class="Permalink-link" href="#user-id"> <i class="Permalink-icon ss-link"></i> </a></h3><p>User IDs are a more permanent and robust identifier, like a database ID. Since these IDs are consistent across a customer’s lifetime, <code>identify</code> calls should include a User ID as often as possible.</p><p>A User ID is usually the unique identifier that you recognize a user by in your own database. For example, if you’re using MongoDB it might look something like <code>507f191e810c19729de860ea</code>.</p><p>We recommend using database IDs instead of simple email addresses or usernames, because database IDs <em>never</em> change. That guarantees that even if the user changes their email address, you can still recognize them as the same person in all of your analytics tools. And even better, you’ll be able to correlate analytics data with your own internal database.</p><p><strong>Instead of using an email address or a username as a User ID, send them along as <a href="/docs/spec/identify#traits">traits</a>.</strong></p><h2 id="traits" class="Permalink">Traits<a class="Permalink-link" href="#traits"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Traits are pieces of information you know about a user that are included in an <code>identify</code> call. These could be demographics like <code>age</code> or <code>gender</code>, account-specific like <code>plan</code>, or even things like whether a user has seen a particular A/B test variation. Up to you!</p><p>We’ve reserved some traits that have semantic meanings for users, and we handle them in special ways. For example, we always expect <code>email</code> to be a string of the user’s email address. We’ll send this on to integrations like <em>Mailchimp</em> that require an email address for their tracking.</p><p>You should <strong>only use reserved traits for their intended meaning</strong>.</p><p>Reserved traits we’ve standardized:</p><table><tbody><tr><th><strong>Trait</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>address</code></td><td>Object</td><td>Street address of a user optionally containing: <code>city</code>, <code>country</code>, <code>postalCode</code>, <code>state</code> or <code>street</code></td></tr><tr><td><code>age</code></td><td>Number</td><td>Age of a user</td></tr><tr><td><code>avatar</code></td><td>String</td><td>URL to an avatar image for the user</td></tr><tr><td><code>birthday</code></td><td>Date</td><td>User’s birthday</td></tr><tr><td><code>createdAt</code></td><td>Date</td><td>Date the user’s account was first created<p>We recommend <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date strings, but also accept Unix timestamps for convenience.</p></td></tr><tr><td><code>description</code></td><td>String</td><td>Description of the user</td></tr><tr><td><code>email</code></td><td>String</td><td>Email address of a user</td></tr><tr><td><code>firstName</code></td><td>String</td><td>First name of a user</td></tr><tr><td><code>gender</code></td><td>String</td><td>Gender of a user</td></tr><tr><td><code>id</code></td><td>String</td><td>Unique ID in your database for a user</td></tr><tr><td><code>lastName</code></td><td>String</td><td>Last name of a user</td></tr><tr><td><code>name</code></td><td>String</td><td>Full name of a user<p>If you only pass a first and last name we’ll automatically fill in the full name for you.</p></td></tr><tr><td><code>phone</code></td><td>String</td><td>Phone number of a user</td></tr><tr><td><code>title</code></td><td>String</td><td>Title of a user, usually related to their position at a specific company<p>Example: “VP of Engineering”</p></td></tr><tr><td><code>username</code></td><td>String</td><td>User’s username<p>This should be unique to each user, like the usernames of Twitter or GitHub.</p></td></tr><tr><td><code>website</code></td><td>String</td><td>Website of a user</td></tr></tbody></table><p><strong>Note:</strong> You might be used to some integrations recognizing special traits by slightly different names. For example, Mixpanel recognizes a <code>$created</code> trait when the user’s account was first created, while Intercom recognizes the same trait as <code>created_at</code> instead. Luckily, you don’t have to worry about those inconsistencies. Just pass us <code>createdAt</code>. <strong>We’ll handle all of the integration-specific conversions for you automatically.</strong> Same goes for the rest of the reserved traits.</p><p><strong>You can pass traits using your preferred naming convention</strong>, so in Javascript you can match the rest of your camel-case code by sending <code>firstName</code>, while in Ruby you can match your snake-case code by sending <code>first_name</code>. That way the API never seems alien to your code base.</p><hr><p>If you have any questions or see anywhere we can improve our documentation, please <a href="/contact/">let us know</a> or kick off a conversation in the <a href="https://community.segment.com/">Segment Community</a>!</p></div><footer class="Page-footer"><span class="Feedback"><span>Was this document helpful?</span> <span class="Feedback-btn-wrapper"><label id="Feedback-yes" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">Yes</span></label><label id="Feedback-no" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">No</span></label></span></span></footer></main></div>
</div>

<div class="section" id="page">
<h2>Page<a class="headerlink" href="#page" title="Permalink to this headline">¶</a></h2>
<div class="Page-body"><main class="Page-main Prose"><h1 class="Page-title"></h1><div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p>The <code>page</code> call lets you record whenever a user sees a page of your website, along with any optional properties about the page. Calling <code>page</code> or <a href="/docs/spec/screen/"><code>screen</code></a> in one of our <a href="/docs/sources/">sources</a> is one of the first steps to getting started with Segment.</p><p><strong>Note:</strong> <strong>In <code>analytics.js</code> a <code>page</code> call is included in the snippet by default</strong> just after <code>analytics.load</code>. We do that because you <strong>must</strong> call this method at least once per page load. However, you can choose to add an optional <code>name</code> or <code>properties</code> to the default call, or call it multiple times if you have a single-page application.</p><p>Here’s the payload of a typical <code>page</code> call with most <a href="/docs/spec/common/">common fields</a> removed:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"page"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Home"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"properties"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"title"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Welcome | Initech"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"url"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"http://www.initech.com"</span>
  <span class="Highlight-punctuation">}</span>
<span class="Highlight-punctuation">}</span>
</code></pre><p>And here’s the corresponding Javascript event that would generate the above payload. If you’re using Segment’s Javascript library, the page name and URL are automatically gathered and passed as properties into the event payload:</p><pre><code class="lang-js">analytics<span class="Highlight-punctuation">.</span><span class="Highlight-function"><span class="Highlight-function">page</span><span class="Highlight-punctuation">(</span></span><span class="Highlight-string">"Home"</span><span class="Highlight-punctuation">)</span><span class="Highlight-punctuation">;</span>
</code></pre><p>Beyond the common fields, the <code>page</code> call takes the following fields:</p><table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>name</code> <em>optional</em></td><td>String</td><td>Name of the page<p>For example, most sites have a “Signup” page that can be useful to tag, so you can see users as they move through your funnel.</p></td></tr><tr><td><code>properties</code> <em>optional</em></td><td>Object</td><td>Free-form dictionary of properties of the page, like <code>url</code> and <code>referrer</code><p>See the <a href="/docs/spec/page#properties">Properties field docs</a> for a list of reserved property names</p></td></tr></tbody></table><h2 id="example" class="Permalink">Example<a class="Permalink-link" href="#example"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Here’s a complete example of a <code>page</code> call:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"anonymousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"507f191e810c19729de860ea"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"channel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"browser"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"context"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"ip"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"8.8.8.8"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"userAgent"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.115 Safari/537.36"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"event"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Registered"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"integrations"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"All"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Mixpanel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Salesforce"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"messageId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"022bb90c-bbac-11e4-8dfc-aa07a5b093db"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Home"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"properties"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"title"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Welcome | Initech"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"url"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"http://www.initech.com"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"receivedAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.387Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"sentAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"timestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"page"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"97980cfea0067"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"1.1"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><h2 id="identities" class="Permalink">Identities<a class="Permalink-link" href="#identities"> <i class="Permalink-icon ss-link"></i> </a></h2><p>The User ID is a unique identifier for the user performing the actions. Check out the <a href="/docs/spec/identify#user-id">User ID docs</a> for more detail.</p><p>The Anonymous ID can be any pseudo-unique identifier, for cases where you don’t know who the user is, but you still want to tie them to an event. Check out the <a href="/docs/spec/identify#anonymous-id">Anonymous ID docs</a> for more detail.</p><p><strong>Note: In our browser and mobile libraries a User ID is automatically added</strong> from the state stored by a previous <a href="/docs/spec/identify/"><code>identify</code></a> call, so you do not need to add it yourself. They will also automatically handle Anonymous ID’s under the covers.</p><h2 id="properties" class="Permalink">Properties<a class="Permalink-link" href="#properties"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Properties are extra pieces of information that describe the page. They can be anything you want.</p><p>We’ve reserved some properties that have semantic meanings, and we handle them in special ways. For example, we always expect <code>path</code> to be the URL path of a page, and <code>referrer</code> to be the URL of the previous page.</p><p>You should <strong>only use reserved properties for their intended meaning</strong>.</p><p>Reserved properties we have standardized:</p><table><tbody><tr><th><strong>Property</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>name</code></td><td>String</td><td>Name of the page<p>This is reserved for future use.</p></td></tr><tr><td><code>path</code></td><td>String</td><td>Path portion of the URL of the page<p>Equivalent to <a href="https://github.com/segmentio/analytics.js/blob/master/analytics.js#L6499-L6503"><code>canonical path</code></a> which defaults to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location"><code>location.pathname</code></a> from the DOM API.</p></td></tr><tr><td><code>referrer</code></td><td>String</td><td>Full URL of the previous page<p>Equivalent to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer"><code>document.referrer</code></a> from the DOM API.</p></td></tr><tr><td><code>search</code></td><td>String</td><td>Query string portion of the URL of the page<p>Equivalent to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location"><code>location.search</code></a> from the DOM API.</p></td></tr><tr><td><code>title</code></td><td>String</td><td>Title of the page<p>Equivalent to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/title"><code>document.title</code></a> from the DOM API.</p></td></tr><tr><td><code>url</code></td><td>String</td><td>Full URL of the page<p>First we look for the canonical url. If the canonical url is not provided, we use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location"><code>location.href</code></a> from the DOM API.</p></td></tr></tbody></table><p><strong>Note:</strong> In <a href="/docs/sources/website/analytics.js/">analytics.js</a>, we automatically send the following properties: <code>title</code>, <code>path</code>, <code>url</code>, <code>referrer</code>, and <code>search</code>.</p><hr><p>If you have any questions or see anywhere we can improve our documentation, please <a href="/contact/">let us know</a> or kick off a conversation in the <a href="https://community.segment.com/">Segment Community</a>!</p></div><footer class="Page-footer"><span class="Feedback"><span>Was this document helpful?</span> <span class="Feedback-btn-wrapper"><label id="Feedback-yes" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">Yes</span></label><label id="Feedback-no" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">No</span></label></span></span></footer></main></div>
</div>

<div class="section" id="screen">
<h2>Screen<a class="headerlink" href="#screen" title="Permalink to this headline">¶</a></h2>
<div class="Page-body"><main class="Page-main Prose"><h1 class="Page-title"></h1><div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p>The <code>screen</code> call lets you record whenever a user sees a screen, the mobile equivalent of <code>page</code>, in your mobile app, along with any properties about the screen. Calling <code>page</code> or <a href="/docs/spec/screen/"><code>screen</code></a> in one of our <a href="/docs/sources/">sources</a> is one of the first steps to getting started with Segment.</p><p>Here’s the payload of a typical <code>screen</code> call, with most <a href="/docs/spec/common/">common fields</a> removed:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"screen"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Photo Feed"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"properties"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"Feed Type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"private"</span>
  <span class="Highlight-punctuation">}</span>
<span class="Highlight-punctuation">}</span>
</code></pre><p>And here’s the corresponding Objective-C event that would generate the above payload:</p><pre><code class="lang-objc"><span class="Highlight-punctuation">[</span><span class="Highlight-method">[SEGAnalytics sharedAnalytics]</span> screen<span class="Highlight-punctuation">:</span><span class="Highlight-string">@"Home"</span>
                            properties<span class="Highlight-punctuation">:</span>@<span class="Highlight-punctuation">{</span> <span class="Highlight-string">@"Feed Type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">@"private"</span> <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">]</span><span class="Highlight-punctuation">;</span>
</code></pre><p>Beyond the common fields, the <code>screen</code> call takes the following fields:</p>_<table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>name</code> <em>optional</em></td><td>String</td><td>Name of the screen<p>See the <a href="/docs/spec/screen#name">Name field docs</a> for more detail</p></td></tr><tr><td><code>properties</code> <em>optional</em></td><td>Object</td><td>Free-form dictionary of properties of the screen, like <code>name</code><p>See the <a href="/docs/spec/screen#properties">Properties field docs</a> for a list of reserved property names</p></td></tr></tbody></table><h2 id="example" class="Permalink">Example<a class="Permalink-link" href="#example"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Here’s a complete example of a <code>screen</code> call:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"anonymousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"3a12eab0-bca7-11e4-8dfc-aa07a5b093db"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"channel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"mobile"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"context"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"ip"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"8.8.8.8"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"integrations"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"All"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Mixpanel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Salesforce"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"messageId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"022bb90c-bbac-11e4-8dfc-aa07a5b093db"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Home"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"properties"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"variation"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"blue signup button"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"receivedAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.387Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"sentAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"timestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"screen"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"97980cfea0067"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"1.1"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><h2 id="identities" class="Permalink">Identities<a class="Permalink-link" href="#identities"> <i class="Permalink-icon ss-link"></i> </a></h2><p>The User ID is a unique identifier for the user performing the actions. Check out the <a href="/docs/spec/identify#user-id">User ID docs</a> for more detail.</p><p>The Anonymous ID can be any pseudo-unique identifier, for cases where you don’t know who the user is, but you still want to tie them to an event. Check out the <a href="/docs/spec/identify#anonymous-id">Anonymous ID docs</a> for more detail.</p><p><strong>Note: In our browser and mobile libraries a User ID is automatically added</strong> from the state stored by a previous <a href="/docs/spec/identify/"><code>identify</code></a> call, so you do not need to add it yourself. They will also automatically handle Anonymous ID’s under the covers.</p><h2 id="name" class="Permalink">Name<a class="Permalink-link" href="#name"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Each screen can be tagged with an optional <code>name</code>. For example, many apps have a “Signup” screen that can be useful to tag so that you can see users as they move through your funnel.</p><h2 id="properties" class="Permalink">Properties<a class="Permalink-link" href="#properties"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Properties are extra pieces of information that describe the screen. They can be anything you want.</p><p>We’ve reserved some properties that have semantic meanings, and we handle them in special ways. You should <strong>only use reserved properties for their intended meaning</strong>.</p><p>Reserved properties we have standardized:</p><table><tbody><tr><th><strong>Property</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>name</code></td><td>String</td><td>Name of the screen<p>This is reserved for future use.</p></td></tr></tbody></table><hr><p>If you have any questions or see anywhere we can improve our documentation, please <a href="/contact/">let us know</a> or kick off a conversation in the <a href="https://community.segment.com/">Segment Community</a>!</p></div><footer class="Page-footer"><span class="Feedback"><span>Was this document helpful?</span> <span class="Feedback-btn-wrapper"><label id="Feedback-yes" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">Yes</span></label><label id="Feedback-no" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">No</span></label></span></span></footer></main></div>
</div>

<div class="section" id="group">
<h2>Group<a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h2>
<div class="Page-body"><main class="Page-main Prose"><h1 class="Page-title"></h1><div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p>The <code>group</code> API call is how you associate an individual user with a group—be it a company, organization, account, project, team or whatever other crazy name you came up with for the same concept!</p><p>A user can be in more than one group; however, not all platforms support multiple groups. It also lets you record custom traits about the group, like industry or number of employees. Calling <code>group</code> is a slightly more advanced feature, but it’s helpful if you have accounts with multiple users.</p><p>Here’s the payload of a typical <code>group</code> call, with most <a href="/docs/spec/common/">common fields</a> removed:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"group"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"groupId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"0e8c78ea9d97a7b8185e8632"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"traits"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Initech"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"industry"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Technology"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"employees"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">329</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"plan"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"enterprise"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"total billed"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">830</span>
  <span class="Highlight-punctuation">}</span>
<span class="Highlight-punctuation">}</span>
</code></pre><p>And here’s the corresponding Javascript event that would generate the above payload:</p><pre><code class="lang-js">analytics<span class="Highlight-punctuation">.</span><span class="Highlight-function"><span class="Highlight-function">group</span><span class="Highlight-punctuation">(</span></span><span class="Highlight-string">"0e8c78ea9d97a7b8185e8632"</span><span class="Highlight-punctuation">,</span> <span class="Highlight-punctuation">{</span>
  name<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Initech"</span><span class="Highlight-punctuation">,</span> 
  industry<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Technology"</span><span class="Highlight-punctuation">,</span>
  employees<span class="Highlight-punctuation">:</span> <span class="Highlight-number">329</span><span class="Highlight-punctuation">,</span> 
  plan<span class="Highlight-punctuation">:</span> <span class="Highlight-string">"enterprise"</span><span class="Highlight-punctuation">,</span> 
  <span class="Highlight-string">"total billed"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">830</span>
<span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">)</span><span class="Highlight-punctuation">;</span>
</code></pre><p>Beyond the common fields, the <code>group</code> call takes the following fields:</p><table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>groupId</code> <em>required</em></td><td>String</td><td>A unique identifier for the group in your database.<p>See the <a href="/docs/spec/group#group-id">Group ID field docs</a> for more detail</p></td></tr><tr><td><code>traits</code> <em>optional</em></td><td>Ojbect</td><td>Free-form dictionary of traits of the group, like <code>email</code> or <code>name</code><p>See the <a href="/docs/spec/group#traits">Traits field docs</a> for a list of reserved trait names</p></td></tr></tbody></table><h2 id="example" class="Permalink">Example<a class="Permalink-link" href="#example"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Here’s a complete example of a <code>group</code> call:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"anonymousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"507f191e810c19729de860ea"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"channel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"browser"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"context"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"ip"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"8.8.8.8"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"userAgent"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.115 Safari/537.36"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"integrations"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"All"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Mixpanel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Salesforce"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"messageId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"022bb90c-bbac-11e4-8dfc-aa07a5b093db"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"receivedAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.387Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"sentAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"timestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"traits"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"name"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Initech"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"industry"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Technology"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"employees"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">329</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"plan"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"enterprise"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"total billed"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-number">830</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"group"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"97980cfea0067"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"groupId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"0e8c78ea9d97a7b8185e8632"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"1.1"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><h2 id="identities" class="Permalink">Identities<a class="Permalink-link" href="#identities"> <i class="Permalink-icon ss-link"></i> </a></h2><p>The User ID is a unique identifier for the user performing the actions. Check out the <a href="/docs/spec/identify#user-id">User ID docs</a> for more detail.</p><p>The Anonymous ID can be any pseudo-unique identifier, for cases where you don’t know who the user is, but you still want to tie them to an event. Check out the <a href="/docs/spec/identify#anonymous-id">Anonymous ID docs</a> for more detail.</p><p><strong>Note: In our browser and mobile libraries a User ID is automatically added</strong> from the state stored by a previous <a href="/docs/spec/identify/"><code>identify</code></a> call, so you do not need to add it yourself. They will also automatically handle Anonymous ID’s under the covers.</p><h2 id="group-id" class="Permalink">Group ID<a class="Permalink-link" href="#group-id"> <i class="Permalink-icon ss-link"></i> </a></h2><p>A Group ID is the unique identifier which you recognize a group by in your own database. For example, if you’re using MongoDB it might look something like <code>507f191e810c19729de860ea</code>.</p><h2 id="traits" class="Permalink">Traits<a class="Permalink-link" href="#traits"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Traits are pieces of information you know about a group that are passed along with the <code>group</code> call, like <code>employees</code> or <code>website</code>.</p><p>We’ve reserved some traits that have semantic meanings for groups, and we handle them in special ways. You should <strong>only use reserved traits for their intended meaning</strong>.</p><p>The following are the reserved traits we have standardized:</p><table><tbody><tr><th><strong>Trait</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>address</code></td><td>Object</td><td>Street address of a group<p>This should be a dictionary containing optional <code>city</code>, <code>country</code>, <code>postalCode</code>, <code>state</code> or <code>street</code>.</p></td></tr><tr><td><code>avatar</code></td><td>String</td><td>URL to an avatar image for the group</td></tr><tr><td><code>createdAt</code></td><td>Date</td><td>Date the group’s account was first created<p>We recommend <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date strings, but also accept Unix timestamps for convenience.</p></td></tr><tr><td><code>description</code></td><td>String</td><td>Description of the group, like their personal bio</td></tr><tr><td><code>email</code></td><td>String</td><td>Email address of group</td></tr><tr><td><code>employees</code></td><td>String</td><td>Number of employees of a group, typically used for companies</td></tr><tr><td><code>id</code></td><td>String</td><td>Unique ID in your database for a group</td></tr><tr><td><code>industry</code></td><td>String</td><td>Industry a user works in, or a group is part of</td></tr><tr><td><code>name</code></td><td>String</td><td>Name of a group</td></tr><tr><td><code>phone</code></td><td>String</td><td>Phone number of a group</td></tr><tr><td><code>website</code></td><td>String</td><td>Website of a group</td></tr><tr><td><code>plan</code></td><td>String</td><td>Plan that a group is in</td></tr></tbody></table><p><strong>Note:</strong> You might be used to some integrations recognizing special properties differently. For example, Mixpanel has a special <code>track_charges</code> method for accepting revenue. Luckily, you don’t have to worry about those inconsistencies. Just pass us <code>revenue</code>. <strong>We’ll handle all of the integration-specific conversions for you automatically.</strong> Same goes for the rest of the reserved properties.</p><p><strong>Traits are case-insensitive</strong>, so in Javascript you can match the rest of your camel-case code by sending <code>createdAt</code>, and in Ruby you can match your snake-case code by sending <code>created_at</code>. That way the API never seems alien to your code base.</p><hr><p>If you have any questions or see anywhere we can improve our documentation, please <a href="/contact/">let us know</a> or kick off a conversation in the <a href="https://community.segment.com/">Segment Community</a>!</p></div><footer class="Page-footer"><span class="Feedback"><span>Was this document helpful?</span> <span class="Feedback-btn-wrapper"><label id="Feedback-yes" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">Yes</span></label><label id="Feedback-no" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">No</span></label></span></span></footer></main></div>
</div>

<div class="section" id="alias">
<h2>Alias<a class="headerlink" href="#alias" title="Permalink to this headline">¶</a></h2>
<div class="Page-body"><main class="Page-main Prose"><h1 class="Page-title"></h1><div class="Page-contents" data-swiftype-name="body" data-swiftype-type="text"><p>The <code>alias</code> method is used to merge two user identities, effectively connecting two sets of user data as one. This is an advanced method, but it is required to manage user identities successfully in some of our integrations.</p><p>Since this is our most advanced method we have added sections to each docs page for integrations that use it:</p><ul><li><a href="/docs/integrations/kissmetrics#alias">KISSmetrics</a></li><li><a href="/docs/integrations/mixpanel#alias">Mixpanel</a></li><li><a href="/docs/integrations/vero#alias">Vero</a></li></ul><p>Here’s the payload of a basic <code>alias</code> call that will associate this user’s existing <code>id</code> (email address) with a new one (a database ID), with most <a href="/docs/spec/common/">common fields</a> removed:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"alias"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"previousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"jen@email.com"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"507f191e81"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><p>If you’re instrumenting a website, then the Anonymous ID is generated in the browser so you’ll want to call <code>alias</code> from the client-side. If you’re using a server-side session ID as the Anonymous ID, then you’ll want to alias from the server-side.</p><p>Here’s the corresponding Javascript event that would generate the above payload. If you’re using Segment’s Javascript library, we’ll automatically pass in the user’s anonymousId as previousId for you:</p><pre><code class="lang-js">analytics<span class="Highlight-punctuation">.</span><span class="Highlight-function"><span class="Highlight-function">alias</span><span class="Highlight-punctuation">(</span></span><span class="Highlight-string">"507f191e81"</span><span class="Highlight-punctuation">)</span><span class="Highlight-punctuation">;</span>
</code></pre><p>Beyond the common fields, the <code>alias</code> call takes the following fields:</p><table><tbody><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr><tr><td><code>previousId</code> <em>required</em></td><td>String</td><td>Previous unique identifier for the user<p>See the <a href="/docs/spec/alias#previous-id">Previous ID field docs</a> for more detail</p></td></tr><tr><td><code>userId</code> <em>required</em></td><td>String</td><td>Unique identifier for the user in your database<p>A <code>userId</code> <em>or</em> <code>anonymousId</code> is required</p><p>See the <a href="/docs/spec/identify#identities">Identities docs</a> for more detail</p></td></tr></tbody></table><h2 id="examples" class="Permalink">Examples<a class="Permalink-link" href="#examples"> <i class="Permalink-icon ss-link"></i> </a></h2><p>Here’s a complete example of an <code>alias</code> call:</p><pre><code class="lang-js"><span class="Highlight-punctuation">{</span>
  <span class="Highlight-string">"anonymousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"507f191e810c19729de860ea"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"channel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"browser"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"context"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"ip"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"8.8.8.8"</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"userAgent"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.115 Safari/537.36"</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"integrations"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-punctuation">{</span>
    <span class="Highlight-string">"All"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">true</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Mixpanel"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span><span class="Highlight-punctuation">,</span>
    <span class="Highlight-string">"Salesforce"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-boolean">false</span>
  <span class="Highlight-punctuation">}</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"messageId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"022bb90c-bbac-11e4-8dfc-aa07a5b093db"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"previousId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"39239-239239-239239-23923"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"receivedAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.387Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"sentAt"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"timestamp"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"2015-02-23T22:28:55.111Z"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"type"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"alias"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"userId"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"507f191e81"</span><span class="Highlight-punctuation">,</span>
  <span class="Highlight-string">"version"</span><span class="Highlight-punctuation">:</span> <span class="Highlight-string">"1.1"</span>
<span class="Highlight-punctuation">}</span>
</code></pre><h2 id="previous-id" class="Permalink">Previous ID<a class="Permalink-link" href="#previous-id"> <i class="Permalink-icon ss-link"></i> </a></h2><p>The <code>previousId</code> is the existing ID you’ve referred to the user by. It might be an Anonymous ID assigned to that user or a User ID you previously identified them with using our <a href="/docs/spec/identify/"><code>identify</code></a> call.</p><h2 id="user-id" class="Permalink">User ID<a class="Permalink-link" href="#user-id"> <i class="Permalink-icon ss-link"></i> </a></h2><p>The <code>userId</code> is a string that will be the user’s new identity, or an existing identity that you wish to merge with the <code>previousId</code>. See the <a href="/docs/spec/identify#user-id">User ID docs</a> for more detail.</p><hr><p>If you have any questions or see anywhere we can improve our documentation, please <a href="/contact/">let us know</a> or kick off a conversation in the <a href="https://community.segment.com/">Segment Community</a>!</p></div><footer class="Page-footer"><span class="Feedback"><span>Was this document helpful?</span> <span class="Feedback-btn-wrapper"><label id="Feedback-yes" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">Yes</span></label><label id="Feedback-no" class="Feedback-btn"><input type="radio"> <span class="Feedback-btn-label">No</span></label></span></span></footer></main></div>
</div>



    </div> <!-- /content -->
  </section> <!-- /container -->
</div> <!-- /body --> 

    <script type="text/javascript" charset="utf-8" src="_static/toc.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.debounce.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.cookie.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.viewport.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/samples.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/scroll_hash.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/underscore-min.js"></script>
    <script type="text/javascript">
        window.underscore = _.noConflict();
    </script>




<!-- Ace editor for editable code -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/ace.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">


   // $('input[type=\"search\"]').wrap('<span style=\"position:relative;\"></span>').after('<i id="clear-search" class="icon-remove-sign" style=\"position:absolute; right:5px;line-height:26px;\"></i><i class="icon-search" style=\"position:absolute; left:5px;line-height:26px;\"></i>');
   // $('#clear-search').click(function(){
   //  $(this).parent().find('input').val('');
   //  $(this).parent().find('input').focus();
   // });
   // $("input").focusout(function() {this.value = "";});

    // Responsive navigation show/hide main nav
	$("#js-show-nav").click(function(){
		$("#js-header-nav").slideToggle();
	});




  // highlight nav on load
  $(document).ready(function(){
      $('.docs-sidebar li').removeClass('active');
      $('.docs-sidebar ul.current li.current a.current').parent().addClass('active');
  });




  // Make sample code snippets editable in the browser
  $('.highlight pre').click(function(){
    ace_activate(this);
  });

  // Ace editor activation
  function ace_activate(container) {
    var editor = ace.edit(container);
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/sh");
    editor.setShowPrintMargin(false);
    editor.renderer.setShowGutter(false);
    editor.setHighlightActiveLine(false);
    editor.getSession().setUseWrapMode(true);
    editor.setBehavioursEnabled(false);
    $(container).height(editor.getSession().getScreenLength() * 20);
  }

</script>

<!-- User information insertion code-->
<script type="text/javascript">
  var cp_hostname = "";
</script>
  
<script type="text/javascript"
  src="_static/insert-api-key.js">
</script>
  </body>

<!-- Mirrored from documentation.mailgun.com/api-events.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:53 GMT -->
</html>