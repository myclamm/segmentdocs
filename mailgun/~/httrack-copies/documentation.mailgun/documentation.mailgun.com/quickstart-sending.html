<!doctype html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7 documentation"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8 documentation"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9 documentation"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="documentation"> <!--<![endif]-->


<html xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from documentation.mailgun.com/quickstart-sending.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to start sending email &#8212; Mailgun API  documentation</title>
    
    <link rel="stylesheet" href="_static/adctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Mailgun API  documentation" href="index-2.html" />
    <link rel="up" title="Quickstart Guide" href="quickstart.html" />
    <link rel="next" title="How to start receiving inbound email" href="quickstart-receiving.html" />
    <link rel="prev" title="Quickstart Guide" href="quickstart.html" />
    <link media="only screen and (max-device-width: 480px)" href="_static/mobile.css" type="text/css" rel="stylesheet" />

    <link rel="icon" type="image/png" href="_static/img/favicon.png" />

    <!-- <link rel="stylesheet" href="_static/docs.css" /> -->
    <link rel="stylesheet" href="https://www.mailgun.com/static/css/main.css" />
    <meta name="viewport" content="width=device-width">
    
 

<!-- i2a tracking code-->
<script type="text/javascript"
  src="_static/i2a.js">
</script>

<!-- GA pageLoadVars -->
<script type="text/javascript">
    var pageLoadVars = {
      'visitor_type' : 'Customer',
      'customer_type' : "",
      'coupon_id' : "",
      'signup_state' : 'Inactive',
      'bamGAVPV' : "",
      'customer_action': []
    }
</script>


  </head>
  <body role="document">

<!-- Google Tag Manager -->
<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-WN2J6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script type="text/javascript" src="_static/google_tag_manager.js"></script>

<!-- SVG Icons -->
<svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="517" height="32" viewBox="0 0 517 32">
<defs>
<g id="icon-search">
  <path class="path1" d="M0 14.857q0-2.554 0.991-4.884t2.679-4.018 4.018-2.679 4.884-0.991 4.884 0.991 4.018 2.679 2.679 4.018 0.991 4.884q0 3.929-2.214 7.125l6.125 6.125q0.661 0.661 0.661 1.607 0 0.929-0.679 1.607t-1.607 0.679q-0.964 0-1.607-0.679l-6.125-6.107q-3.196 2.214-7.125 2.214-2.554 0-4.884-0.991t-4.018-2.679-2.679-4.018-0.991-4.884zM4.571 14.857q0 3.304 2.348 5.652t5.652 2.348 5.652-2.348 2.348-5.652-2.348-5.652-5.652-2.348-5.652 2.348-2.348 5.652z"></path>
</g>
<g id="icon-menu">
  <path class="path1" d="M0 26.286v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 17.143v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804zM0 8v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804z"></path>
</g>
<g id="icon-dropdown">
  <path d="M124.452,10.121 L118.343,4.01 C116.225,2.001 113.753,0.996 110.93,0.996 C108.05,0.996 105.606,2.001 103.596,4.01 L64,43.607 L24.404,4.011 C22.394,2.002 19.95,0.997 17.071,0.997 C14.247,0.997 11.775,2.002 9.657,4.011 L3.628,10.122 C1.564,12.185 0.532,14.657 0.532,17.536 C0.532,20.469 1.565,22.913 3.628,24.868 L56.667,77.907 C58.623,79.971 61.066,81.003 64,81.003 C66.879,81.003 69.35,79.971 71.413,77.907 L124.452,24.868 C126.462,22.858 127.468,20.414 127.468,17.536 C127.468,14.711 126.462,12.24 124.452,10.121 L124.452,10.121 Z" id="Shape" sketch:type="MSShapeGroup"></path>
</g>
</defs></svg>

<header>
  <div class="container">
      <a href="http://www.mailgun.com/" class="logo">Mailgun - Email Automation by Rackspace</a>
      <nav class="header-nav" id="js-header-nav">
          <a href="http://www.mailgun.com/pricing" class="pricing-link"><b>Pricing</b></a>
          <a href="http://www.mailgun.com/customers" class="customers-link"><b>Customers</b></a>
          <div class="dropdown">
                    <a href="http://www.mailgun.com/sending-email" class="js-dropdown-toggle"><b>Features <svg class="icon icon-dropdown" viewBox="0 0 128 80"><use xlink:href="#icon-dropdown"></use></svg>
</b></a>
                    <nav class="dropdown-menu">
                        <a href="http://www.mailgun.com/sending-email">Sending email</a>
                        <a href="http://www.mailgun.com/inbound-routing">Inbound routing</a>
                        <a href="http://www.mailgun.com/analytics">Tracking &amp; analytics</a>
                        <a href="http://www.mailgun.com/email-validation">Email validation</a>
                        <a href="http://www.mailgun.com/deliverability">Deliverability</a>
                    </nav>
                </div>
                <div class="dropdown">
                    <a href="http://resources.mailgun.com/index.html" class="js-dropdown-toggle resources-link"><b>Resources <svg class="icon icon-dropdown active" viewBox="0 0 128 80"><use xlink:href="#icon-dropdown"></use></svg>
</b></a>
                    <nav class="dropdown-menu">
                        <a href="index.html">Docs</a>
                        <a href="http://resources.mailgun.com/index.html">Guides</a>
                        <a href="http://blog.mailgun.com/">Blog</a>
                    </nav>
                </div>
                <a href="http://www.mailgun.com/managed" class="managed-link"><b>Managed</b></a>
                <a href="http://www.mailgun.com/contact" class="contact-link"><b>Contact</b></a>
          <a href="https://www.mailgun.com/sessions/new" class="login-link"><b>Log in</b></a>
          <a href="https://www.mailgun.com/signup" class="signup-link"><b>Sign Up</b></a>
      </nav>
      <button id="js-show-nav"><svg class="icon icon-menu" viewBox="0 0 30 32"><use xlink:href="#icon-menu"></use></svg></button>
  </div>
</header>

<div id="body">
  <section class="subnav">
    <div class="container">
      <a href="https://github.com/mailgun/documentation" class="edit-docs-link" onclick="mixpanel.track('Clicked Edit Docs Link');">Edit</a>
      <ul id="headerButtons" class="nav nav-pills">
        <li class="lang-label">
          Code sample preference:
        </li>
        <li class="lang">
          <a href="#" id="lang_bash" >curl</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_rb" >Ruby</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_py" >Python</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_php" >PHP</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_java" >Java</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_csharp" >C#</a>
        </li>
        <li class="lang">
          <a href="#" id="lang_go" >Go</a>
        </li>
        <div id="searchbox" style="display: none" class="search-box">
          
          <form>
            <svg class="icon icon-search" viewBox="0 0 32 32"><use xlink:href="#icon-search"></use></svg>
            <input type="search" id="st-search-input" class="prettysearch search-input" autofocus />
          <!--<form class="search" action="search.html" method="get">-->
            <!--<div class="search-wrapper">
              <span class="search-left"></span>
              <input class="prettysearch" type="text" name="q" size="18"/>
              <span class="search-right">&nbsp;</span>
            </div>
            <input type="submit" value="Search" class="searchbutton" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />-->
          </form>
        </div>
        <script type="text/javascript">$('#searchbox').show(0);</script>

        <!--
        <li id="page_buttons">
          <div class="headerButton"><a href="quickstart-receiving.html" title="How to start receiving inbound email" accesskey="N">next</a></div>
          <div class="headerButton"><a href="quickstart.html" title="Quickstart Guide" accesskey="P">previous</a></div>
        </li>
        -->
      </ul>
    </div>
  </section>

  <section class="main">

    <div class="container">


  
  <aside id="sphinxsidebar" class="docs-sidebar">
    <div class="sphinxsidebarwrapper">
      <!-- <ul><li class="toctree-l1"><a href="index.html">Main Page</a></li></ul> -->
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="quickstart.html">Quickstart Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Sending Email</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#send-with-smtp-or-api">Send with SMTP or API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verify-your-domain">Verify Your Domain</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-dns-providers">Common DNS Providers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart-receiving.html">Receiving Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart-events.html">Tracking Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="libraries.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html">Email Best Practices</a></li>
</ul>

      <div class="admonition note">You can find your API Key in your <a href="https://mailgun.com/cp" target="_blank">Control Panel</a></div>
    </div>
  </aside>

  

    <div class="document">
  <div id="st-results-container"></div>
        <div class="documentwrapper">
          <div class="bodywrapper">
            <div class="body">
              
  <div class="section" id="how-to-start-sending-email">
<span id="quickstart-sending"></span><h1>How to start sending email<a class="headerlink" href="#how-to-start-sending-email" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sending.png"><img alt="_images/sending.png" src="_images/sending.png" style="width: 800px;" /></a>
</div>
<div class="section" id="send-with-smtp-or-api">
<h2>Send with SMTP or API<a class="headerlink" href="#send-with-smtp-or-api" title="Permalink to this headline">¶</a></h2>
<p>It’s up to you, whatever you find easier is fine with us. Here&#8217;s something to consider:</p>
<table class="docutils tbl-smtpapi">
<thead>
  <tr>
    <th class="head">SMTP</th>
    <th class="head">API</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><i class="icon-ok"></i> Flexible with existing apps</td>
    <td><i class="icon-ok"></i> Faster (x3)</td>
  </tr>
  <tr>
    <td><i class="icon-ok"></i> Open protocol</td>
    <td><i class="icon-ok"></i> Assembly (don't worry about MIME)</td>
  </tr>
  <tr>
    <td></td>
    <td><i class="icon-ok"></i> Scales better (Batch sending)</td>
  </tr>
</tbody>
</table><p>In short, SMTP is an open and established protocol with large ecosystem, while Mailgun API is better long term performance and maintenance wise.</p>
<div class="section" id="send-via-api">
<h3>Send via API<a class="headerlink" href="#send-via-api" title="Permalink to this headline">¶</a></h3>
<p>Run this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -s --user <span class="s1">&#39;api:YOUR_API_KEY&#39;</span> <span class="se">\</span>
    https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/messages <span class="se">\</span>
    -F <span class="nv">from</span><span class="o">=</span><span class="s1">&#39;Excited User &lt;mailgun@YOUR_DOMAIN_NAME&gt;&#39;</span> <span class="se">\</span>
    -F <span class="nv">to</span><span class="o">=</span>YOU@YOUR_DOMAIN_NAME <span class="se">\</span>
    -F <span class="nv">to</span><span class="o">=</span>bar@example.com <span class="se">\</span>
    -F <span class="nv">subject</span><span class="o">=</span><span class="s1">&#39;Hello&#39;</span> <span class="se">\</span>
    -F <span class="nv">text</span><span class="o">=</span><span class="s1">&#39;Testing some Mailgun awesomness!&#39;</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.WebTarget</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Form</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.authentication.HttpAuthenticationFeature</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSample</span> <span class="o">{</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ClientResponse</span> <span class="nf">SendSimple</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
        <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">HttpAuthenticationFeature</span><span class="o">.</span><span class="na">basic</span><span class="o">(</span>
            <span class="s">&quot;api&quot;</span><span class="o">,</span>
            <span class="s">&quot;YOUR_API_KEY&quot;</span>
        <span class="o">));</span>

        <span class="n">WebTarget</span> <span class="n">mgRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="o">);</span>

        <span class="n">Form</span> <span class="n">reqData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Form</span><span class="o">();</span>
        <span class="n">reqData</span><span class="o">.</span><span class="na">param</span><span class="o">(</span><span class="s">&quot;from&quot;</span><span class="o">,</span> <span class="s">&quot;Excited User &lt;YOU@YOUR_DOMAIN_NAME&gt;&quot;</span><span class="o">);</span>
        <span class="n">reqData</span><span class="o">.</span><span class="na">param</span><span class="o">(</span><span class="s">&quot;to&quot;</span><span class="o">,</span> <span class="s">&quot;alice@example.com&quot;</span><span class="o">);</span>
        <span class="n">reqData</span><span class="o">.</span><span class="na">param</span><span class="o">(</span><span class="s">&quot;subject&quot;</span><span class="o">,</span> <span class="s">&quot;Hello&quot;</span><span class="o">);</span>
        <span class="n">reqData</span><span class="o">.</span><span class="na">param</span><span class="o">(</span><span class="s">&quot;text&quot;</span><span class="o">,</span> <span class="s">&quot;Testing out some Mailgun awesomeness!&quot;</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">mgRoot</span>
            <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/{domain}/messages&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">resolveTemplate</span><span class="o">(</span><span class="s">&quot;domain&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">APPLICATION_FORM_URLENCODED</span><span class="o">)</span>
            <span class="o">.</span><span class="na">buildPost</span><span class="o">(</span><span class="n">Entity</span><span class="o">.</span><span class="na">entity</span><span class="o">(</span><span class="n">reqData</span><span class="o">,</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">APPLICATION_FORM_URLENCODED</span><span class="o">))</span>
            <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">ClientResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1"># Include the Autoloader (see &quot;Libraries&quot; for install instructions)</span>
<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Mailgun\Mailgun</span><span class="p">;</span>

<span class="c1"># Instantiate the client.</span>
<span class="nv">$mgClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mailgun</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">);</span>
<span class="nv">$domain</span> <span class="o">=</span> <span class="s2">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">;</span>

<span class="c1"># Make the call to the client.</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$mgClient</span><span class="o">-&gt;</span><span class="na">sendMessage</span><span class="p">(</span><span class="nv">$domain</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;from&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;Excited User &lt;mailgun@YOUR_DOMAIN_NAME&gt;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;to&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Baz &lt;YOU@YOUR_DOMAIN_NAME&gt;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;subject&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;Testing some Mailgun awesomness!&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">send_simple_message</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s2">&quot;https://api.mailgun.net/v3/YOUR_DOMAIN_NAME/messages&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">),</span>
        <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;Excited User &lt;mailgun@YOUR_DOMAIN_NAME&gt;&quot;</span><span class="p">,</span>
              <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar@example.com&quot;</span><span class="p">,</span> <span class="s2">&quot;YOU@YOUR_DOMAIN_NAME&quot;</span><span class="p">],</span>
              <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello&quot;</span><span class="p">,</span>
              <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Testing some Mailgun awesomness!&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">send_simple_message</span>
  <span class="no">RestClient</span><span class="o">.</span><span class="n">post</span> <span class="s2">&quot;https://api:YOUR_API_KEY&quot;</span><span class="p">\</span>
  <span class="s2">&quot;@api.mailgun.net/v3/YOUR_DOMAIN_NAME/messages&quot;</span><span class="p">,</span>
  <span class="ss">:from</span> <span class="o">=&gt;</span> <span class="s2">&quot;Excited User &lt;mailgun@YOUR_DOMAIN_NAME&gt;&quot;</span><span class="p">,</span>
  <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s2">&quot;bar@example.com, YOU@YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span>
  <span class="ss">:subject</span> <span class="o">=&gt;</span> <span class="s2">&quot;Hello&quot;</span><span class="p">,</span>
  <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;Testing some Mailgun awesomness!&quot;</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">SendSimpleMessageChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="n">SendSimpleMessage</span> <span class="p">().</span><span class="n">Content</span><span class="p">.</span><span class="n">ToString</span> <span class="p">());</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">IRestResponse</span> <span class="nf">SendSimpleMessage</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">RestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestClient</span> <span class="p">();</span>
        <span class="n">client</span><span class="p">.</span><span class="n">BaseUrl</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span> <span class="p">(</span><span class="s">&quot;https://api.mailgun.net/v3&quot;</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span>
            <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span> <span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span>
                                        <span class="s">&quot;YOUR_API_KEY&quot;</span><span class="p">);</span>
        <span class="n">RestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span> <span class="p">();</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;domain&quot;</span><span class="p">,</span> <span class="s">&quot;YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">UrlSegment</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Resource</span> <span class="p">=</span> <span class="s">&quot;{domain}/messages&quot;</span><span class="p">;</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;from&quot;</span><span class="p">,</span> <span class="s">&quot;Excited User &lt;mailgun@YOUR_DOMAIN_NAME&gt;&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;to&quot;</span><span class="p">,</span> <span class="s">&quot;bar@example.com&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;to&quot;</span><span class="p">,</span> <span class="s">&quot;YOU@YOUR_DOMAIN_NAME&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;subject&quot;</span><span class="p">,</span> <span class="s">&quot;Hello&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span> <span class="p">(</span><span class="s">&quot;text&quot;</span><span class="p">,</span> <span class="s">&quot;Testing some Mailgun awesomness!&quot;</span><span class="p">);</span>
        <span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span> <span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">SendSimpleMessage</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mg</span> <span class="o">:=</span> <span class="nx">mailgun</span><span class="p">.</span><span class="nx">NewMailgun</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="nx">publicApiKey</span><span class="p">)</span>
  <span class="nx">m</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">NewMessage</span><span class="p">(</span>
    <span class="s">&quot;Excited User &lt;mailgun@YOUR_DOMAIN_NAME&gt;&quot;</span><span class="p">,</span>
    <span class="s">&quot;Hello&quot;</span><span class="p">,</span>
    <span class="s">&quot;Testing some Mailgun awesomeness!&quot;</span><span class="p">,</span>
    <span class="s">&quot;YOU@YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nx">_</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">mg</span><span class="p">.</span><span class="nx">Send</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">err</span>
<span class="p">}</span>
</pre></div>
</div>
<p>What&#8217;s actually happening:</p>
<ul class="simple">
<li>Mailgun assembles a MIME message.</li>
<li>Added the log entries to our full text search index.</li>
<li>Delivered the email.</li>
</ul>
<p>You can find your secret API key on your <a class="reference external" href="https://mailgun.com/app/dashboard">dashboard</a>.</p>
</div>
<div class="section" id="send-via-smtp">
<h3>Send via SMTP<a class="headerlink" href="#send-via-smtp" title="Permalink to this headline">¶</a></h3>
<p>Run this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># Swaks is an smtp of CURL, install it first:</span>
curl http://www.jetmore.org/john/code/swaks/files/swaks-20130209.0/swaks -o swaks
<span class="c1"># Set the permissions for the script so you can run it</span>
chmod +x swaks
<span class="c1"># It&#39;s based on perl, so install perl</span>
sudo apt-get -y install perl
<span class="c1"># now send!</span>
./swaks --auth <span class="se">\</span>
        --server smtp.mailgun.org <span class="se">\</span>
        --au postmaster@YOUR_DOMAIN_NAME <span class="se">\</span>
        --ap 3kh9umujora5 <span class="se">\</span>
        --to bar@example.com <span class="se">\</span>
        --h-Subject: <span class="s2">&quot;Hello&quot;</span> <span class="se">\</span>
        --body <span class="s1">&#39;Testing some Mailgun awesomness!&#39;</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.InetAddress</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Properties</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.mail.*</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.mail.internet.*</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.sun.mail.smtp.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MGSendSimpleSMTP</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">Properties</span> <span class="n">props</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">getProperties</span><span class="o">();</span>
        <span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;mail.smtps.host&quot;</span><span class="o">,</span> <span class="s">&quot;smtp.mailgun.org&quot;</span><span class="o">);</span>
        <span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;mail.smtps.auth&quot;</span><span class="o">,</span> <span class="s">&quot;true&quot;</span><span class="o">);</span>

        <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">props</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
        <span class="n">Message</span> <span class="n">msg</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MimeMessage</span><span class="o">(</span><span class="n">session</span><span class="o">);</span>
        <span class="n">msg</span><span class="o">.</span><span class="na">setFrom</span><span class="o">(</span><span class="k">new</span> <span class="n">InternetAddress</span><span class="o">(</span><span class="s">&quot;YOU@YOUR_DOMAIN_NAME&quot;</span><span class="o">));</span>

        <span class="n">InternetAddress</span><span class="o">[]</span> <span class="n">addrs</span> <span class="o">=</span> <span class="n">InternetAddress</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;bar@example.com&quot;</span><span class="o">,</span> <span class="kc">false</span><span class="o">));</span>
        <span class="n">msg</span><span class="o">.</span><span class="na">setRecipients</span><span class="o">(</span><span class="n">Message</span><span class="o">.</span><span class="na">RecipientType</span><span class="o">.</span><span class="na">TO</span><span class="o">,</span> <span class="n">addrs</span><span class="o">)</span>

        <span class="n">msg</span><span class="o">.</span><span class="na">setSubject</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">);</span>
        <span class="n">msg</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;Testing some Mailgun awesomness&quot;</span><span class="o">);</span>
        <span class="n">msg</span><span class="o">.</span><span class="na">setSentDate</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>

        <span class="n">SMTPTransport</span> <span class="n">t</span> <span class="o">=</span>
            <span class="o">(</span><span class="n">SMTPTransport</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getTransport</span><span class="o">(</span><span class="s">&quot;smtps&quot;</span><span class="o">);</span>
        <span class="n">t</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="s">&quot;smtp.mailgun.com&quot;</span><span class="o">,</span> <span class="s">&quot;postmaster@YOUR_DOMAIN_NAME&quot;</span><span class="o">,</span> <span class="s">&quot;YOUR_SMTP_PASSWORD&quot;</span><span class="o">);</span>
        <span class="n">t</span><span class="o">.</span><span class="na">sendMessage</span><span class="o">(</span><span class="n">msg</span><span class="o">,</span> <span class="n">msg</span><span class="o">.</span><span class="na">getAllRecipients</span><span class="o">());</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Response: &quot;</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="na">getLastServerResponse</span><span class="o">());</span>

        <span class="n">t</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="c1">// Using Awesome https://github.com/PHPMailer/PHPMailer</span>
<span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">require</span> <span class="s1">&#39;PHPMailerAutoload.php&#39;</span><span class="p">;</span>

<span class="nv">$mail</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PHPMailer</span><span class="p">;</span>

<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">isSMTP</span><span class="p">();</span>                                      <span class="c1">// Set mailer to use SMTP</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Host</span> <span class="o">=</span> <span class="s1">&#39;smtp.mailgun.org&#39;</span><span class="p">;</span>                     <span class="c1">// Specify main and backup SMTP servers</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">SMTPAuth</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>                               <span class="c1">// Enable SMTP authentication</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Username</span> <span class="o">=</span> <span class="s1">&#39;postmaster@YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>   <span class="c1">// SMTP username</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Password</span> <span class="o">=</span> <span class="s1">&#39;secret&#39;</span><span class="p">;</span>                           <span class="c1">// SMTP password</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">SMTPSecure</span> <span class="o">=</span> <span class="s1">&#39;tls&#39;</span><span class="p">;</span>                            <span class="c1">// Enable encryption, only &#39;tls&#39; is accepted</span>

<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">From</span> <span class="o">=</span> <span class="s1">&#39;YOU@YOUR_DOMAIN_NAME&#39;</span><span class="p">;</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">FromName</span> <span class="o">=</span> <span class="s1">&#39;Mailer&#39;</span><span class="p">;</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">addAddress</span><span class="p">(</span><span class="s1">&#39;bar@example.com&#39;</span><span class="p">);</span>                 <span class="c1">// Add a recipient</span>

<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">WordWrap</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>                                 <span class="c1">// Set word wrap to 50 characters</span>

<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Subject</span> <span class="o">=</span> <span class="s1">&#39;Hello&#39;</span><span class="p">;</span>
<span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Body</span>    <span class="o">=</span> <span class="s1">&#39;Testing some Mailgun awesomness&#39;</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Message could not be sent.&#39;</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s1">&#39;Mailer Error: &#39;</span> <span class="o">.</span> <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">ErrorInfo</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Message has been sent&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span>

<span class="kn">from</span> <span class="nn">email.mime.text</span> <span class="kn">import</span> <span class="n">MIMEText</span>

<span class="n">msg</span> <span class="o">=</span> <span class="n">MIMEText</span><span class="p">(</span><span class="s1">&#39;Testing some Mailgun awesomness&#39;</span><span class="p">)</span>
<span class="n">msg</span><span class="p">[</span><span class="s1">&#39;Subject&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span>
<span class="n">msg</span><span class="p">[</span><span class="s1">&#39;From&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="s2">&quot;foo@YOUR_DOMAIN_NAME&quot;</span>
<span class="n">msg</span><span class="p">[</span><span class="s1">&#39;To&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="s2">&quot;bar@example.com&quot;</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s1">&#39;smtp.mailgun.org&#39;</span><span class="p">,</span> <span class="mi">587</span><span class="p">)</span>

<span class="n">s</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;postmaster@YOUR_DOMAIN_NAME&#39;</span><span class="p">,</span> <span class="s1">&#39;3kh9umujora5&#39;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;From&#39;</span><span class="p">],</span> <span class="n">msg</span><span class="p">[</span><span class="s1">&#39;To&#39;</span><span class="p">],</span> <span class="n">msg</span><span class="o">.</span><span class="n">as_string</span><span class="p">())</span>
<span class="n">s</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-rb"><div class="highlight"><pre><span></span><span class="c1"># install `mail` gem first: `gem install mail`</span>

<span class="nb">require</span> <span class="s1">&#39;mail&#39;</span>

<span class="no">Mail</span><span class="o">.</span><span class="n">defaults</span> <span class="k">do</span>
  <span class="n">delivery_method</span> <span class="ss">:smtp</span><span class="p">,</span> <span class="p">{</span>
    <span class="ss">:port</span>      <span class="o">=&gt;</span> <span class="mi">587</span><span class="p">,</span>
    <span class="ss">:address</span>   <span class="o">=&gt;</span> <span class="s2">&quot;smtp.mailgun.org&quot;</span><span class="p">,</span>
    <span class="ss">:user_name</span> <span class="o">=&gt;</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="ss">:password</span>  <span class="o">=&gt;</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="p">}</span>
<span class="k">end</span>

<span class="n">mail</span> <span class="o">=</span> <span class="no">Mail</span><span class="o">.</span><span class="n">deliver</span> <span class="k">do</span>
  <span class="n">to</span>      <span class="s1">&#39;bar@example.com&#39;</span>
  <span class="n">from</span>    <span class="s1">&#39;foo@YOUR_DOMAIN_NAME&#39;</span>
  <span class="n">subject</span> <span class="s1">&#39;Hello&#39;</span>

  <span class="n">text_part</span> <span class="k">do</span>
    <span class="n">body</span> <span class="s1">&#39;Testing some Mailgun awesomness&#39;</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">MailKit</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">MailKit.Net.Smtp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">MimeKit</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">RestSharp.Authenticators</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">SmtpMessageChunk</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">SendMessageSmtp</span> <span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SendMessageSmtp</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Compose a message</span>
        <span class="n">MimeMessage</span> <span class="n">mail</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MimeMessage</span> <span class="p">();</span>
        <span class="n">mail</span><span class="p">.</span><span class="n">From</span><span class="p">.</span><span class="n">Add</span> <span class="p">(</span><span class="k">new</span> <span class="n">MailboxAddress</span> <span class="p">(</span><span class="s">&quot;Excited Admin&quot;</span><span class="p">,</span> <span class="s">&quot;foo@YOUR_DOMAIN_NAME&quot;</span><span class="p">));</span>
        <span class="n">mail</span><span class="p">.</span><span class="n">To</span><span class="p">.</span><span class="n">Add</span> <span class="p">(</span><span class="k">new</span> <span class="n">MailboxAddress</span> <span class="p">(</span><span class="s">&quot;Excited User&quot;</span><span class="p">,</span> <span class="s">&quot;bar@example.com&quot;</span><span class="p">));</span>
        <span class="n">mail</span><span class="p">.</span><span class="n">Subject</span> <span class="p">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
        <span class="n">mail</span><span class="p">.</span><span class="n">Body</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TextPart</span> <span class="p">(</span><span class="s">&quot;plain&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Text</span> <span class="p">=</span> <span class="s">@&quot;Testing some Mailgun awesomesauce!&quot;</span><span class="p">,</span>
        <span class="p">};</span>

        <span class="c1">// Send it!</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SmtpClient</span> <span class="p">())</span> <span class="p">{</span>
            <span class="c1">// XXX - Should this be a little different?</span>
            <span class="n">client</span><span class="p">.</span><span class="n">ServerCertificateValidationCallback</span> <span class="p">=</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">true</span><span class="p">;</span>

            <span class="n">client</span><span class="p">.</span><span class="n">Connect</span> <span class="p">(</span><span class="s">&quot;smtp.mailgun.org&quot;</span><span class="p">,</span> <span class="m">587</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
            <span class="n">client</span><span class="p">.</span><span class="n">AuthenticationMechanisms</span><span class="p">.</span><span class="n">Remove</span> <span class="p">(</span><span class="s">&quot;XOAUTH2&quot;</span><span class="p">);</span>
            <span class="n">client</span><span class="p">.</span><span class="n">Authenticate</span> <span class="p">(</span><span class="s">&quot;postmaster@YOUR_DOMAIN_NAME&quot;</span><span class="p">,</span> <span class="s">&quot;3kh9umujora5&quot;</span><span class="p">);</span>

            <span class="n">client</span><span class="p">.</span><span class="n">Send</span> <span class="p">(</span><span class="n">mail</span><span class="p">);</span>
            <span class="n">client</span><span class="p">.</span><span class="n">Disconnect</span> <span class="p">(</span><span class="k">true</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go"><div class="highlight"><pre><span></span><span class="c1">// Not supported.</span>
</pre></div>
</div>
<p>You can find your SMTP credentials for each domain on your <a class="reference external" href="https://mailgun.com/app/domains">domains tab</a>.</p>
</div>
</div>
<div class="section" id="verify-your-domain">
<h2>Verify Your Domain<a class="headerlink" href="#verify-your-domain" title="Permalink to this headline">¶</a></h2>
<p>Add a domain you own and verify it by setting up the DNS records we provide (known as SPF and DKIM) at your DNS provider.</p>
<div class="figure align-left">
<a class="reference internal image-reference" href="_images/verify.png"><img alt="_images/verify.png" src="_images/verify.png" style="width: 800px;" /></a>
</div>
<p>Why you <strong>need to verify</strong> your domain:</p>
<ul class="simple">
<li>To prove that you are an <strong>authorized sender</strong> for the domain.</li>
<li>Verified domains are not subject to a <strong>sending limit of 300</strong> emails per day.</li>
<li>No more <strong>&#8220;sent via Mailgun.org&#8221;</strong> message in your emails.</li>
<li>Establishing a <strong>positive email reputation</strong> for your own domain.</li>
<li>Mailgun is <strong>less suspicious</strong> of traffic that is being sent on verified domains and so using one reduces the likelihood of being disabled.</li>
</ul>
<div class="section" id="how-to-verify-your-domain">
<h3>How to verify your domain<a class="headerlink" href="#how-to-verify-your-domain" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Add your domain or subdomain.</li>
<li>Open your DNS provider and add the <strong>two TXT DNS records</strong> provided.</li>
<li>If you want Mailgun to <strong>track clicks and opens</strong> you can also add the <strong>CNAME</strong> record.</li>
<li>MX records should also be added, <strong>unless you already have MX records</strong> for your domain pointed at another email service provider (e.g. Gmail).</li>
</ol>
<p>Once you&#8217;ve added the records and they&#8217;ve propagated, your domain will be verified.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It can take 24-48 hours for DNS changes to propagate.</p>
</div>
<p>If you will be creating a lot of domains, Mailgun offers an API endpoint for adding/editing/removing domains from your account. See the <a class="reference internal" href="api-domains.html#api-domains"><span class="std std-ref">Domains</span></a> endpoint for more information.</p>
</div>
<div class="section" id="add-sending-tracking-dns-records">
<h3>Add Sending &amp; Tracking DNS Records<a class="headerlink" href="#add-sending-tracking-dns-records" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>SPF</strong>: Sending server IP validation. Used by majority of inbound mail servers. <a class="reference external" href="http://www.openspf.org/Introduction">SPF Information</a>.</li>
<li><strong>DKIM</strong>: Like SPF, but uses cryptographic methods for validation. Supported by many inbound mail servers. <a class="reference external" href="http://www.dkim.org/#introduction">DKIM Information</a></li>
<li><strong>CNAME</strong>: Used for tracking opens and clicks, when enabled. <a class="reference internal" href="user_manual.html#tracking-messages"><span class="std std-ref">Tracking Messages</span></a></li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="67%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Value</th>
<th class="head">Purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>TXT</td>
<td>&#8220;v=spf1 include:mailgun.org ~all&#8221;</td>
<td>SPF (Required)</td>
</tr>
<tr class="row-odd"><td>TXT</td>
<td><em>Find this record in your Control Panel, Domains Tab</em></td>
<td>DKIM (Required)</td>
</tr>
<tr class="row-even"><td>CNAME</td>
<td>&#8220;mailgun.org&#8221;</td>
<td>Tracking (Optional)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While the CNAME is listed as optional, it is required to enable Unsubscribe and Click tracking links.</p>
</div>
</div>
<div class="section" id="add-receiving-mx-records">
<h3>Add Receiving MX Records<a class="headerlink" href="#add-receiving-mx-records" title="Permalink to this headline">¶</a></h3>
<p>Mail server for handling inbound messages.  <a class="reference external" href="http://en.wikipedia.org/wiki/MX_record">MX Information</a></p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="45%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Value</th>
<th class="head">Purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>MX</td>
<td>mxa.mailgun.org</td>
<td>Receiving (Optional)</td>
</tr>
<tr class="row-odd"><td>MX</td>
<td>mxb.mailgun.org</td>
<td>Receiving (Optional)</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not configure Receiving MX DNS records if you already have another provider handling inbound
mail delivery (e.g. Gmail).</p>
</div>
</div>
</div>
<div class="section" id="common-dns-providers">
<h2>Common DNS Providers<a class="headerlink" href="#common-dns-providers" title="Permalink to this headline">¶</a></h2>
<p>Common providers are listed below. If yours is not listed, contact your DNS provider for assistance.</p>
<p>GoDaddy: <a class="reference external" href="http://support.godaddy.com/help/article/7924/adding-or-editing-mx-records?locale=en">MX</a> - <a class="reference external" href="http://support.godaddy.com/help/article/7921/adding-or-editing-cname-records?locale=en">CNAME</a> - <a class="reference external" href="http://support.godaddy.com/help/article/7925/adding-or-editing-txt-records?locale=en">TXT</a></p>
<p>NameCheap: <a class="reference external" href="http://www.namecheap.com/support/knowledgebase/article.aspx/473/2/demo-changing-host-record-settings">All Records</a></p>
<p>Network Solutions: <a class="reference external" href="http://www.networksolutions.com/support/mx-records-mail-servers-2/">MX</a> - <a class="reference external" href="http://www.networksolutions.com/support/cname-records-host-aliases-2/">CNAME</a> - <a class="reference external" href="http://www.networksolutions.com/support/how-to-manage-advanced-dns-records/">TXT</a></p>
<p>Rackspace Email &amp; Apps: <a class="reference external" href="http://www.rackspace.com/apps/support/portal/1172">All Records</a></p>
<p>Rackspace Cloud DNS: <a class="reference external" href="http://www.rackspace.com/knowledge_center/article/rackspace-cloud-dns">Developer Guide</a></p>
<p>Amazon Route 53: <a class="reference external" href="http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/R53Console.html">Developer Guide</a></p>
<p>DigitalOcean: <a class="reference external" href="http://code.krister.ee/mailgun-digitalocean/">Mailgun and DigitalOcean Guide</a></p>
<p>You are all set!</p>
<p>Read more about <a class="reference internal" href="quickstart-receiving.html#quickstart-receiving"><span class="std std-ref">How to start receiving inbound email</span></a> and <a class="reference internal" href="quickstart-events.html#quickstart-events"><span class="std std-ref">How to start tracking email events</span></a>.</p>
</div>
</div>


            </div>
          </div>
    </div>
      <div class="clearer"></div>
    </div>

    </div> <!-- /content -->
  </section> <!-- /container -->
</div> <!-- /body --> 

    <script type="text/javascript" charset="utf-8" src="_static/toc.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.debounce.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.cookie.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/jquery.viewport.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/samples.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/scroll_hash.js"></script>
    <script type="text/javascript" charset="utf-8" src="_static/underscore-min.js"></script>
    <script type="text/javascript">
        window.underscore = _.noConflict();
    </script>


<script type="text/javascript">
  var Swiftype = window.Swiftype || {};
  (function() {
    Swiftype.key = 'dpKXg3Qg6P5paq8LDpDu';
    Swiftype.inputElement = '#st-search-input';
    Swiftype.resultContainingElement = '#st-results-container';
    Swiftype.attachElement = '#st-search-input';
    Swiftype.renderStyle = "overlay";


    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.async = true;
    script.src = "http://swiftype.com/embed.js";
    var entry = document.getElementsByTagName('script')[0];
    entry.parentNode.insertBefore(script, entry);
  }());
</script>

<!-- Ace editor for editable code -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/ace.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  (function() {
    var timer;
    function waitForSwiftype() {
      if (Swiftype.Util && Swiftype.Util.pingSearchResultClick) {
        clearInterval(timer);
        Swiftype.Util.pingSearchResultClick = function(docId, query, destinationUrl, theWindow) {
          var url = Swiftype.root_url + "/api/v1/public/analytics/pc?engine_key=" + Swiftype.key + "&doc_id=" + docId + "&q=" + query;
          var queryAnchor = query.replace(/\s+/g, '-').toLowerCase();
          Swiftype.Util.pingUrl(url, destinationUrl + '?highlight=' + query + '#' + queryAnchor, theWindow);
        };
      }
    }
    timer = setInterval(waitForSwiftype, 500);
  })();

   // $('input[type=\"search\"]').wrap('<span style=\"position:relative;\"></span>').after('<i id="clear-search" class="icon-remove-sign" style=\"position:absolute; right:5px;line-height:26px;\"></i><i class="icon-search" style=\"position:absolute; left:5px;line-height:26px;\"></i>');
   // $('#clear-search').click(function(){
   //  $(this).parent().find('input').val('');
   //  $(this).parent().find('input').focus();
   // });
   // $("input").focusout(function() {this.value = "";});

    // Responsive navigation show/hide main nav
	$("#js-show-nav").click(function(){
		$("#js-header-nav").slideToggle();
	});




  // highlight nav on load
  $(document).ready(function(){
      $('.docs-sidebar li').removeClass('active');
      $('.docs-sidebar ul.current li.current a.current').parent().addClass('active');
  });




  // Make sample code snippets editable in the browser
  $('.highlight pre').click(function(){
    ace_activate(this);
  });

  // Ace editor activation
  function ace_activate(container) {
    var editor = ace.edit(container);
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/sh");
    editor.setShowPrintMargin(false);
    editor.renderer.setShowGutter(false);
    editor.setHighlightActiveLine(false);
    editor.getSession().setUseWrapMode(true);
    editor.setBehavioursEnabled(false);
    $(container).height(editor.getSession().getScreenLength() * 20);
  }

</script>

<!-- User information insertion code-->
<script type="text/javascript">
  var cp_hostname = "";
</script>
  
<script type="text/javascript"
  src="_static/insert-api-key.js">
</script>
  </body>

<!-- Mirrored from documentation.mailgun.com/quickstart-sending.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jan 2017 00:06:52 GMT -->
</html>