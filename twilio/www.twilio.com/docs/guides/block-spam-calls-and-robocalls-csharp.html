


<!DOCTYPE html>
<html class="no-js">
  
<!-- Mirrored from www.twilio.com/docs/guides/block-spam-calls-and-robocalls-csharp by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:10:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
	<!-- Optimizely -->
	<script src="https://cdn.optimizely.com/js/6082066.js"></script>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    
    
    <meta name="description" content="Use the Twilio API, Twilio Marketplace, and C# to block spam callers, robocallers, and scammers.">
    
    
    

    <title>
      Block Spam Calls and Robocalls with C# - Twilio
    </title>

    <link rel="canonical" href="https://www.twilio.com/docs/guides/block-spam-calls-and-robocalls-csharp" />

    
    <link rel="shortcut icon" href="https://www.twilio.com/docs/static/img/favicons/favicon.db41f19ea294.ico"/>
    <link rel="apple-touch-icon" href="https://www.twilio.com/docs/static/img/favicons/favicon_57.98200b6899e6.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.twilio.com/docs/static/img/favicons/favicon_72.86ae17486256.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.twilio.com/docs/static/img/favicons/favicon_114.ee1859950ad4.png"/>

    
    <link rel="stylesheet" type="text/css" href="http://cloud.typography.com/6230892/752864/css/fonts.css">
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-awesome.min.295235b28b6e.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/twilio-icons.45de73e993f2.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-mfizz.818f36cb00cc.css" />

    
    
    <meta property="og:title" content="Block Spam Calls and Robocalls with C#">
    
    
    <meta property="og:description" content="Use the Twilio API, Twilio Marketplace, and C# to block spam callers, robocallers, and scammers.">
    
    
    <meta property="og:url" content="https://www.twilio.com/docs/guides/block-spam-calls-and-robocalls-csharp?utm_source=docs&utm_medium=social&utm_campaign=guides_tags">

    
    
    <meta name="twitter:title" content="Block Spam Calls and Robocalls with C#">
    
    
    <meta name="twitter:description" content="Use the Twilio API, Twilio Marketplace, and C# to block spam callers, robocallers, and scammers.">
    
    

    
    

    

    
      <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/docs.min.05ed18599e08.css" />
    

    
    

    
    <script>
  var twilio = twilio || {};
  twilio.realm = "prod";
  twilio.SWIFTYPE_ENGINE_KEY = "T68bXEBf7NaKzyRpvbnG";
</script>


<script>
  twilio.account = twilio.account || {};
  

  twilio.user = twilio.user || {};
  
  

</script>


    <script>
  
  window.userBetaFeatures = ["enable-video-rooms", "marketplace"];
</script>

  </head>

  <body class="
    
      guides
    
    
    
  ">

    

	
	<!-- Google Tag Manager -->
	<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-MWRD6S"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window, document, 'script', 'dataLayer', 'GTM-MWRD6S');</script>
	<!-- End Google Tag Manager -->
	



    
    <div role="drawer" class="nav__drawer">
  <div role="drawer__wrapper" class="nav__drawer-wrapper">
    <div role="drawer__nav" class="nav__drawer-nav"><span class="nav__drawer-auth"><a href="https://www.twilio.com/login" class="nav__drawer-auth-link">Log In</a><a href="https://www.twilio.com/try-twilio" class="nav__drawer-auth-link">Sign Up</a></span><a href="#close" role="drawer__close" class="nav__drawer-close">Close</a></div>
    <div class="nav__drawer-menu">
      <div class="nav__drawer-container">
        <div class="nav__drawer-grid">
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Products</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/voice-video" class="nav__drawer-link nav__drawer-link--category">Voice &amp; Video</a></li>
                  <li><a href="https://www.twilio.com/voice" class="nav__drawer-link">Programmable Voice</a></li>
                  <li><a href="https://www.twilio.com/video" class="nav__drawer-link">Programmable Video</a></li>
                  <li><a href="https://www.twilio.com/sip-trunking" class="nav__drawer-link">Elastic SIP Trunking</a></li>
                  <li><a href="https://www.twilio.com/taskrouter" class="nav__drawer-link">TaskRouter</a></li>
                  <li><a href="https://www.twilio.com/stun-turn" class="nav__drawer-link">Network Traversal</a></li>
                </ul>
                <ul>
                  <li><a href="https://www.twilio.com/messaging" class="nav__drawer-link nav__drawer-link--category">Messaging</a></li>
                  <li><a href="https://www.twilio.com/sms" class="nav__drawer-link">Programmable SMS</a></li>
                  <li><a href="https://www.twilio.com/chat" class="nav__drawer-link">Programmable Chat</a></li>
                  <li><a href="https://www.twilio.com/notify" class="nav__drawer-link">Notify</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Authentication</div>
                  </li>
                  <li><a href="https://www.twilio.com/authy" class="nav__drawer-link">Authy</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Connectivity</div>
                  </li>
                  <li><a href="https://www.twilio.com/lookup" class="nav__drawer-link">Lookup</a></li>
                  <li><a href="https://www.twilio.com/phone-numbers" class="nav__drawer-link">Phone Numbers</a></li>
                  <li><a href="https://www.twilio.com/wireless" class="nav__drawer-link">Programmable Wireless</a></li>
                  <li><a href="https://www.twilio.com/sync" class="nav__drawer-link">Sync</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Marketplace</div>
                  </li>
                  <li><a href="https://www.twilio.com/marketplace/add-ons" class="nav__drawer-link">Add-ons</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Platform</div>
                  </li>
                  <li><a href="https://www.twilio.com/enterprise" class="nav__drawer-link">Enterprise Plan</a></li>
                  <li><a href="https://www.twilio.com/interconnect" class="nav__drawer-link">Interconnect</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Use Cases</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <ul>
                <li><a href="https://www.twilio.com/use-cases/access-security" class="nav__drawer-link nav__drawer-link--category">Access Security</a></li>
                <li><a href="https://www.twilio.com/use-cases/call-and-text-marketing" class="nav__drawer-link nav__drawer-link--category">Call &amp; Text Marketing</a></li>
                <li><a href="https://www.twilio.com/use-cases/collaboration" class="nav__drawer-link nav__drawer-link--category">Collaboration</a></li>
                <li><a href="https://www.twilio.com/use-cases/commerce-communications" class="nav__drawer-link nav__drawer-link--category">Commerce Communications</a></li>
                <li><a href="https://www.twilio.com/use-cases/contact-center" class="nav__drawer-link nav__drawer-link--category">Contact Center</a></li>
              </ul>
              <hr>
            </div>
            <div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://customers.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Customer Stories</a></li>
                  <li><a href="https://www.twilio.com/showcase" class="nav__drawer-link nav__drawer-link--small">Partner Showcase</a></li>
                  <li><a href="https://www.twilio.com/what-is-cloud-communications?" class="nav__drawer-link nav__drawer-link--small">Why Twilio?</a></li>
                  <li><a href="https://www.twilio.com/support-plans" class="nav__drawer-link nav__drawer-link--small">Support Plans</a></li>
                  <li><a href="http://status.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Status</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/docs" class="nav__drawer-link nav__drawer-link--small">API &amp; Docs</a></li>
                  <li><a href="https://www.twilio.com/blog" class="nav__drawer-link nav__drawer-link--small">Blog</a></li>
                  <li><a href="https://www.twilio.com/help" class="nav__drawer-link nav__drawer-link--small">Help</a></li>
                  <li><a href="https://www.twilio.com/company/jobs" class="nav__drawer-link nav__drawer-link--small">Jobs at Twilio</a></li>
                </ul>
              </div>
            </div>
            <div class="nav__sales"><a href="https://www.twilio.com/help/sales" class="nav__sales-button">Talk to Sales</a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div role="nav" class="nav nav--subnav nav--inverted nav--transparent " data-subnav-length="40">
  <div role="nav__menu" class="nav__header">
    <div class="nav__title"><a href="https://www.twilio.com/" class="nav__logo">Twilio</a></div>
    <nav class="nav__menu">
      <ul class="nav__menu-items">
        <li class="nav__menu-item"></li>
        
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/login" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="10.2" height="13.5" viewBox="0 0 10.2 13.5">
              <circle fill="none" stroke="#F22F46" stroke-miterlimit="10" cx="5.1" cy="3" r="2.5"></circle>
              <path fill="none" stroke="#F22F46" stroke-miterlimit="10" d="M.5 13.5c0-2.5 2.1-4.6 4.6-4.6s4.6 2.1 4.6 4.6"></path>
            </svg>
            Log In
          </a>
        </li>
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/try-twilio" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">
              <path d="M0 6.5h13M6.5 0v13" fill="none" stroke="#F22F46" stroke-miterlimit="10"></path>
            </svg>
            Sign Up
          </a>
        </li>
        
        <li class="nav__menu-item"><a href="#menu" role="nav__activate" class="nav__menu-link nav__menu-activate"><span></span>Menu &amp; Products</a></li>
      </ul>
    </nav>
    <nav role="subnav" class="nav__subnav">
      <header class="nav__subnav-header">
        <a href="https://www.twilio.com/docs" class="nav__subnav-header-link">Docs</a>
        
          <a href="https://www.twilio.com/docs/guides" role="subnav__dropdown" 
            class="nav__subnav-link nav__subnav-current">Guides</a>
        
      </header>
      <ul role="subnav__items" class="nav__subnav-items">
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/quickstart" class="nav__subnav-link">Quickstart</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/guides" class="nav__subnav-link">Guides</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/tutorials" class="nav__subnav-link">Tutorials</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/api" class="nav__subnav-link">API Reference</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/libraries" class="nav__subnav-link">SDKs</a>
        </li>
      </ul>
    </nav>
  </div>
</div>



    
    
      

<div class="docs__pagenav">
  <div class="uk-container uk-container-center">
    <div class="uk-grid">
      <div class="uk-width-3-4 uk-hidden-small">
      
      
        <div class="breadcrumbs">
          
            
          
            
          
            
              <a href="https://www.twilio.com/docs/guides">Guides</a> &gt;
            
          
          <span>Block Spam Calls and Robocalls with C#</span>
        </div>
      
      </div>

      
      <div class="uk-width-1-1 uk-width-medium-1-4">
  <div class="search">
    <form action="https://www.twilio.com/docs/search" method="GET">
      <div class="wrapper">
        <input id="search-box" name="q" type="text" value=""/>
      </div>
      <button type="submit">
        <i class="fa fa-fw fa-search"></i>
      </button>
    </form>
  </div>
</div>

    </div>
  </div>
</div>

    

    <div class="docs-container">
      <div class="uk-container">
        
        
  <div class="coderail-container">

    <div class="sidenav-column">
      <div class="theme-switcher uk-hidden-small">
  <div class="theme-wrapper">
    <a data-theme="light" class="selected">
      <i class="fa fa-fw fa-sun-o"></i>
    </a>
    <a data-theme="dark" >
      <i class="fa fa-fw fa-moon-o"></i>
    </a>
  </div>
</div>
      
        <div class="sidenav" data-uk-sticky="{boundary: true}">
          

<ul id="doc_menu" class="sidenav__section" data-swiftype-index="false">

  <!-- Page entries -->
  
    <li id="dynamic-menu">
      <ul>
        
          
            
<li class="menu-title expanded" role="menu-title" id="doc-navigation-parent">
  Block Spam Calls and Robocalls with C#
</li>
<ul class="menu-accordion expanded" role="menu-accordion" id="doc-navigation"></ul>

          
          
<li class="menu-title expanded" role="menu-title">

    <span class="heading">Related Guides</span>
</li>


<ul class="menu-accordion expanded" role="menu-accordion">

    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/guides/voice/how-to-respond-to-incoming-phone-calls-in-csharp">
          Respond to Incoming Phone Calls in C#
      </a>
  </li>



    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/guides/voice/how-to-gather-user-input-via-keypad-in-csharp">
          Gather User Input via Keypad (DTMF Tones) in C#
      </a>
  </li>



    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/guides/voice/how-to-record-phone-calls-in-csharp">
          Record Phone Calls in C#
      </a>
  </li>



    
</ul>

        
        
      </ul>
    </li>
  
</ul>

        </div>
      
    </div>

    <div class="primary-column 
        ">
      <div class="docs-prose">
        
  
    
    <h1 class="page-title ">
      Block Spam Calls and Robocalls with C#
    </h1>
    
      
<div class="authors">
  <div class="authors-body">
    <div class="author">
      <img src="https://www.gravatar.com/avatar/560630d6945c6a8777533e7ea3b4e69b?d=mm&amp;s=50" title="David Prothero" alt="David Prothero" />
      David Prothero
    </div>
  </div>
  <div class="authors-footer"></div>
</div>


    
  
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><p>Spam, scams, and robocalls are at best annoying. For high-volume customer service centers, they can significantly impact the bottom line. Let’s leverage the Twilio Marketplace and our C# skills to block spam callers, robocallers, and scammers.</p>
<p><em>Before getting started, you should already know how to </em><em><a href="https://www.twilio.com/docs/guides/voice/how-to-respond-to-incoming-phone-calls-in-csharp">handle incoming calls</a></em><em> with Twilio.</em></p>
<h2 id="get-a-spam-filtering-add-on"><a class="toclink" href="#get-a-spam-filtering-add-on">Get a Spam Filtering Add-on</a></h2>
<p>The <a href="https://www.twilio.com/marketplace/add-ons">Twilio Add-ons Marketplace</a> is a great place to find Add-ons for your Twilio apps. You can integrate third-party technologies without leaving the comfort of the Twilio API. You can access the Add-ons <a href="https://www.twilio.com/console/add-ons">from your Twilio Console</a>. Today, we’re going to look at a few Voice Add-ons that can help us with this spam problem. They are, in no particular order, <a href="https://www.twilio.com/console/add-ons/XB56520d8bffd66533ca92b398596b8438">Whitepages Pro Phone Reputation</a>, <a href="https://www.twilio.com/console/add-ons/XBac2c99d9c684a765ced0b18cf0e5e1c7">Marchex Clean Call</a>, and <a href="https://www.twilio.com/console/add-ons/XBac2c99d9c684a765ced0b18cf0e5e1c7">Nomorobo Spam Score</a>:</p>
<p><img alt="Voice Spam Add-ons" class="richtext-image full-width" height="317" src="https://s3.amazonaws.com/com.twilio.prod.twilio-docs/images/Voice_Spam_Add-ons.width-800.png" width="800"/></p>
<p>We’ll be writing code to work with all three of these Add-ons, but you can research which one you think will work best for your requirements. Also, keep an eye on the Marketplace, as new Add-ons are always showing up.</p>
<h3 id="installing-the-add-on"><a class="toclink" href="#installing-the-add-on">Installing the Add-on</a></h3>
<p>Once you’ve decided on the Add-on you’d like to use, click the <img alt="Install" src="https://s3.amazonaws.com/com.twilio.prod.twilio-docs/images/Install_Add-on_button.original.png"/> button and agree to the terms. In our use case today, we want to make use of these Add-ons while handling incoming voice calls, so make sure the “Incoming Voice Call” box for “Use In” is checked and click “Save” to save any changes:</p>
<p><img alt="Use in incoming voice call" class="richtext-image full-width" height="382" src="https://s3.amazonaws.com/com.twilio.prod.twilio-docs/images/Use_in_incoming_voice_call.width-800.png" width="512"/></p>
<p>Note the “Unique Name” setting. You need to use this in the code that you will write to read the Add-on’s results. In the code for this guide, we are sticking with the default names.</p>
<h2 id="check-phone-number-score-in-c"><a class="toclink" href="#check-phone-number-score-in-c">Check Phone Number Score in C#</a></h2>
<p>When Twilio receives a phone call for your phone number, it will <a href="https://www.twilio.com/api/twiml/twilio_request">send details of the call to your webhook</a> (more on how to configure that later). In your webhook code, you <a href="https://www.twilio.com/api/twiml/your_response">create a TwiML response</a> to tell Twilio how to handle the call.</p>
<p>For spam-checking, our code needs to check the spam score of the number and deal with the call differently depending on whether the Add-on considers the caller to be a spammer or not. In our example code here, we’ll return a <a href="https://www.twilio.com/api/twiml/reject">&lt;Reject&gt; TwiML tag</a> to send spammers packing and a <a href="https://www.twilio.com/api/twiml/say">&lt;Say&gt; TwiML tag</a> to welcome legit callers.</p>
<p>The code for our controller is part of a <a href="https://www.twilio.com/guides/creating-aspnet-mvc-webhook-project">standard ASP.NET MVC project</a>:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-block-spam-calls-with-c" 
  data-title="Block Spam Calls with C#" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-block-spam-calls-with-c">Block Spam Calls with C#</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="cs">C#</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="cs" data-version="default" class="codehilite"><code><span class="code-line"><span class="k">using</span> <span class="nn">System.Diagnostics</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">System.Web.Mvc</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Newtonsoft.Json.Linq</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Twilio.Mvc</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Twilio.TwiML</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Twilio.TwiML.Mvc</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="k">namespace</span> <span class="nn">BlockSpamCalls.Controllers</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="k">public</span> <span class="k">class</span> <span class="nc">VoiceController</span> <span class="p">:</span> <span class="n">TwilioController</span>
</span><span class="code-line">    <span class="p">{</span>
</span><span class="code-line"><span class="na">        [HttpPost]</span>
</span><span class="code-line">        <span class="k">public</span> <span class="n">TwiMLResult</span> <span class="nf">Index</span><span class="p">(</span><span class="n">VoiceRequest</span> <span class="n">request</span><span class="p">,</span> <span class="kt">string</span> <span class="n">addOns</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TwilioResponse</span><span class="p">();</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">blockCall</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">addOns</span><span class="p">))</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="n">Trace</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">addOns</span><span class="p">);</span>
</span><span class="code-line">
</span><span class="code-line">                <span class="kt">var</span> <span class="n">addOnData</span> <span class="p">=</span> <span class="n">JObject</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">addOns</span><span class="p">);</span>
</span><span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">==</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span>
</span><span class="code-line">                <span class="p">{</span>
</span><span class="code-line">                    <span class="n">blockCall</span> <span class="p">=</span> <span class="n">ShouldBeBlockedByNomoRobo</span><span class="p">(</span><span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">                             <span class="p">||</span> <span class="n">ShouldBeBlockedByWhitePages</span><span class="p">(</span><span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">                             <span class="p">||</span> <span class="n">ShouldBeBlockedByMarchex</span><span class="p">(</span><span class="n">addOnData</span><span class="p">);</span>
</span><span class="code-line">                <span class="p">}</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">blockCall</span><span class="p">)</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="n">response</span><span class="p">.</span><span class="n">Reject</span><span class="p">();</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">            <span class="k">else</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="n">response</span><span class="p">.</span><span class="n">Say</span><span class="p">(</span><span class="s">&quot;Welcome to the jungle.&quot;</span><span class="p">);</span>
</span><span class="code-line">                <span class="n">response</span><span class="p">.</span><span class="n">Hangup</span><span class="p">();</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">            <span class="k">return</span> <span class="nf">TwiML</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByNomoRobo</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">nomorobo</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;nomorobo_spamscore&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nomorobo</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="kt">var</span> <span class="n">score</span> <span class="p">=</span> <span class="n">nomorobo</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;score&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">            <span class="k">return</span> <span class="n">score</span> <span class="p">==</span> <span class="m">1</span><span class="p">;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByWhitePages</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">whitePages</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;whitepages_pro_phone_rep&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">whitePages</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="kt">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">whitePages</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;results&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">results</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">result</span> <span class="k">in</span> <span class="n">results</span><span class="p">)</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="kt">var</span> <span class="n">level</span> <span class="p">=</span> <span class="n">result</span><span class="p">[</span><span class="s">&quot;reputation&quot;</span><span class="p">]?[</span><span class="s">&quot;level&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="p">==</span> <span class="m">4</span><span class="p">)</span> <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByMarchex</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">cleanCall</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;marchex_cleancall&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">cleanCall</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="kt">var</span> <span class="n">recommendation</span> <span class="p">=</span>
</span><span class="code-line">                <span class="n">cleanCall</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;recommendation&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">();</span>
</span><span class="code-line">            <span class="k">return</span> <span class="n">recommendation</span> <span class="p">==</span> <span class="s">&quot;BLOCK&quot;</span><span class="p">;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Block Spam Calls with C#
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><p>Notice the code has checks for all three of the Add-ons we mentioned before. The code is written to be very flexible and handle missing data in the JSON response, so feel free to copy and paste even if you only plan to use one of the Add-ons.</p>
<h3 id="how-to-check-whitepages-pro-phone-reputation"><a class="toclink" href="#how-to-check-whitepages-pro-phone-reputation">How to Check Whitepages Pro Phone Reputation</a></h3>
<p>Here’s an example of what Whitepages Pro Phone Reputation will return in the “AddOns” form parameter:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-white-pages-pro-reputation-add-on-json-response" 
  data-title="White Pages Pro Reputation Add-on JSON Response" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-white-pages-pro-reputation-add-on-json-response">White Pages Pro Reputation Add-on JSON Response</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="json">JSON</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="json" data-version="default" class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;whitepages_pro_phone_rep&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">          <span class="p">{</span>
</span><span class="code-line">            <span class="nt">&quot;phone_number&quot;</span><span class="p">:</span> <span class="s2">&quot;2095551212&quot;</span><span class="p">,</span>
</span><span class="code-line">            <span class="nt">&quot;reputation&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">              <span class="nt">&quot;level&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class="code-line">              <span class="nt">&quot;details&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">                <span class="p">{</span>
</span><span class="code-line">                  <span class="nt">&quot;score&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class="code-line">                  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;NotApplicable&quot;</span><span class="p">,</span>
</span><span class="code-line">                  <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;NotApplicable&quot;</span>
</span><span class="code-line">                <span class="p">}</span>
</span><span class="code-line">              <span class="p">],</span>
</span><span class="code-line">              <span class="nt">&quot;volume_score&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class="code-line">              <span class="nt">&quot;report_count&quot;</span><span class="p">:</span> <span class="mi">0</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">          <span class="p">}</span>
</span><span class="code-line">        <span class="p">],</span>
</span><span class="code-line">        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">]</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      White Pages Pro Reputation Add-on JSON Response
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><p>Parsing that data in C# is done as follows:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-whitepages-pro-phone-reputation-c" 
  data-title="Whitepages Pro Phone Reputation C#" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-whitepages-pro-phone-reputation-c">Whitepages Pro Phone Reputation C#</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="cs">C#</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="cs" data-version="default" class="codehilite"><code><span class="code-line"><span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByWhitePages</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">whitePages</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;whitepages_pro_phone_rep&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">whitePages</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="kt">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">whitePages</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;results&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">results</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">result</span> <span class="k">in</span> <span class="n">results</span><span class="p">)</span>
</span><span class="code-line">    <span class="p">{</span>
</span><span class="code-line">        <span class="kt">var</span> <span class="n">level</span> <span class="p">=</span> <span class="n">result</span><span class="p">[</span><span class="s">&quot;reputation&quot;</span><span class="p">]?[</span><span class="s">&quot;level&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="p">==</span> <span class="m">4</span><span class="p">)</span> <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Whitepages Pro Phone Reputation C#
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><h3 id="how-to-check-marchex-clean-call"><a class="toclink" href="#how-to-check-marchex-clean-call">How to Check Marchex Clean Call</a></h3>
<p>Here’s an example of what Marchex Clean Call will return:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-marchex-clean-call-add-on-json-result" 
  data-title="Marchex Clean Call Add-on JSON result" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-marchex-clean-call-add-on-json-result">Marchex Clean Call Add-on JSON result</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="json">JSON</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="json" data-version="default" class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;marchex_cleancall&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">          <span class="nt">&quot;recommendation&quot;</span><span class="p">:</span> <span class="s2">&quot;PASS&quot;</span><span class="p">,</span>
</span><span class="code-line">          <span class="nt">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;CleanCall&quot;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Marchex Clean Call Add-on JSON result
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><p>Working with that data in C# can be handled with:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-marchex-clean-call-c" 
  data-title="Marchex Clean Call C#" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-marchex-clean-call-c">Marchex Clean Call C#</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="cs">C#</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="cs" data-version="default" class="codehilite"><code><span class="code-line"><span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByMarchex</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">cleanCall</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;marchex_cleancall&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">cleanCall</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="kt">var</span> <span class="n">recommendation</span> <span class="p">=</span>
</span><span class="code-line">        <span class="n">cleanCall</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;recommendation&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">();</span>
</span><span class="code-line">    <span class="k">return</span> <span class="n">recommendation</span> <span class="p">==</span> <span class="s">&quot;BLOCK&quot;</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Marchex Clean Call C#
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><h3 id="how-to-check-nomorobo-spam-score"><a class="toclink" href="#how-to-check-nomorobo-spam-score">How to Check Nomorobo Spam Score</a></h3>
<p>Here’s an example of what Nomorobo Spam Score will return:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-nomorobo-add-on-json-result" 
  data-title="Nomorobo Add-on JSON result" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-nomorobo-add-on-json-result">Nomorobo Add-on JSON result</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="json">JSON</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="json" data-version="default" class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;nomorobo_spamscore&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;score&quot;</span><span class="p">:</span> <span class="mi">0</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Nomorobo Add-on JSON result
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><p>Finally, handling that data in C#:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-nomorobo-c" 
  data-title="Nomorobo C#" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-nomorobo-c">Nomorobo C#</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="cs">C#</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="cs" data-version="default" class="codehilite"><code><span class="code-line"><span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByNomoRobo</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">nomorobo</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;nomorobo_spamscore&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">nomorobo</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="kt">var</span> <span class="n">score</span> <span class="p">=</span> <span class="n">nomorobo</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;score&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">    <span class="k">return</span> <span class="n">score</span> <span class="p">==</span> <span class="m">1</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Nomorobo C#
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><h3 id="other-rejection-options"><a class="toclink" href="#other-rejection-options">Other Rejection Options</a></h3>
<p>Using &lt;Reject&gt; is the simplest way to turn away spammers. However, you may want to handle them differently. The whole <a href="https://www.twilio.com/api/twiml">universe of TwiML</a> is open to you. For example, you might want to record the call, have the recording <a href="https://www.twilio.com/guides/voice/how-to-use-recordings-add-ons-in-python">transcribed using another Add-on</a>, and log the transcription somewhere for someone to review.</p>
<h3 id="other-call-accept-options"><a class="toclink" href="#other-call-accept-options">Other Call Accept Options</a></h3>
<p>For this example, we’re just greeting the caller. In a real-world scenario, you would likely want to connect the call using <a href="https://www.twilio.com/api/twiml/dial">&lt;Dial&gt;</a> (to call another number or <a href="https://www.twilio.com/api/client">Twilio Client</a>), <a href="https://www.twilio.com/api/twiml/enqueue">&lt;Enqueue&gt;</a> the call to be handled by <a href="https://www.twilio.com/api/taskrouter">TaskRouter</a>, or <a href="https://www.twilio.com/tutorials/walkthrough/ivr-phone-tree/csharp/mvc">build an IVR</a> using <a href="https://www.twilio.com/api/twiml/gather">&lt;Gather&gt;</a>.</p>
<h2 id="configure-phone-number-webhook"><a class="toclink" href="#configure-phone-number-webhook">Configure Phone Number Webhook</a></h2>
<p>Now we need to configure our Twilio phone number to call our VoiceController whenever a call comes in. The URL for our controller is /voice, so we just need a public host for our ASP.NET application. You can <a href="https://www.twilio.com/guides/creating-aspnet-mvc-webhook-project#deploying-and-testing-the-app">publish your app to Azure</a> or use <a href="https://www.twilio.com/guides/how-use-ngrok-windows-and-visual-studio-test-webhooks">ngrok to test locally</a>.</p>
<p>Armed with the URL to the VoiceController, open the <a href="https://www.twilio.com/console">Twilio Console</a> and <a href="https://www.twilio.com/console/phone-numbers/incoming">find the phone number</a> you want to use (or <a href="https://www.twilio.com/console/phone-numbers/search">buy a new number</a>). On the configuration page for the number, scroll down to "Voice" and next to "A CALL COMES IN," select "Webhook" and paste in the function URL. (Be sure "HTTP POST" is selected, as well.)</p>
<p><img alt="Voice Webhook Configuration" class="richtext-image full-width" height="135" src="https://s3.amazonaws.com/com.twilio.prod.twilio-docs/images/Webhook.width-800.png" width="773"/></p>
<h2 id="testing-a-blocked-call"><a class="toclink" href="#testing-a-blocked-call">Testing a Blocked Call</a></h2>
<p>You can quickly call your Twilio number to make sure your call goes through. However, how can we test a blocked spam result? The easiest way is to write some unit tests that pass some dummied up JSON to our controller action. For example, if we wanted to test a Nomorobo “BLOCK” recommendation, we could use the following JSON:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-nomorobo-add-on-json-result-blocked" 
  data-title="Nomorobo Add-on JSON result (blocked)" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-nomorobo-add-on-json-result-blocked">Nomorobo Add-on JSON result (blocked)</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="json">JSON</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="json" data-version="default" class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;nomorobo_spamscore&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;score&quot;</span><span class="p">:</span> <span class="mi">1</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Nomorobo Add-on JSON result (blocked)
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><p>With that as our test fixture, we can write a test like the following to ensure that our call is blocked when we see the right data in the AddOns JSON:</p></div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-nomorobo-c-unit-test" 
  data-title="Nomorobo C# Unit Test" data-pref="server">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-nomorobo-c-unit-test">Nomorobo C# Unit Test</a>
        <ul style="visibility:hidden" >
          
            <li class="sample-tab active" 
              data-ext="cs">C#</li>
          
        </ul>
      </div>

      
        
      
          
      
        <pre data-ext="cs" data-version="default" class="codehilite"><code><span class="code-line"><span class="na">[TestMethod]</span>
</span><span class="code-line"><span class="k">public</span> <span class="k">void</span> <span class="nf">TestBlockedWithNomoRobo</span><span class="p">()</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">addOns</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="n">ReadAllText</span><span class="p">(</span><span class="s">&quot;spam_nomorobo.json&quot;</span><span class="p">);</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">controller</span> <span class="p">=</span> <span class="k">new</span> <span class="n">VoiceController</span><span class="p">();</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">controller</span><span class="p">.</span><span class="n">Index</span><span class="p">(</span><span class="k">new</span> <span class="n">VoiceRequest</span><span class="p">(),</span> <span class="n">addOns</span><span class="p">);</span>
</span><span class="code-line">    <span class="n">Assert</span><span class="p">.</span><span class="n">IsTrue</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">ToString</span><span class="p">().</span><span class="n">Contains</span><span class="p">(</span><span class="s">&quot;&lt;Reject&quot;</span><span class="p">));</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Nomorobo C# Unit Test
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-rich_text ">
      
        

<div class="rich-text"><p>For a full solution with all the tests for each of the Add-on providers, see our <a href="https://github.com/TwilioDevEd/twilio-samples-csharp/blob/master/BlockSpamCalls.Test/VoiceControllerTest.cs">GitHub repository</a>.</p>
<h2 id="whats-next"><a class="toclink" href="#whats-next">What’s Next?</a></h2>
<p>As you can see, the Twilio Add-ons Marketplace gives you a lot of options for extending your Twilio apps. Next, you might want to dig into the <a href="https://www.twilio.com/api/add-ons">Add-ons reference</a> or perhaps glean some pearls from our other <a href="https://www.twilio.com/tutorials?filter-language=csharp">C# tutorials</a>. Wherever you’re headed next, you can confidently put spammers in your rearview mirror.</p></div>

      
    </div>
  

    
      
<div class="contributors">
  <div class="contributors-body">
  
    <div class="contributor">
      
        <label>Contributors:</label>
      
      <img src="https://www.gravatar.com/avatar/560630d6945c6a8777533e7ea3b4e69b?d=mm&amp;s=50" title="David Prothero" alt="David Prothero" />
    </div>
  
  </div>
  <div class="contributors-footer"></div>
</div>


    

        
          
<div id="disqus_thread"></div>


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

// Unique identifiers
PAGE_URL = "https://www.twilio.com/docs/guides/block-spam-calls-and-robocalls-csharp";

var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'http://twiliodocumentation.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        
      </div>
    </div>

    <div class="code-column">
      
  <div id="coderail" class="code-rail" data-uk-sticky="{boundary: true}">

  <div class="rail-placeholder"></div>

  <div class="rail-header uk-hidden">

    <div class="rail-header-wrapper">

      <div class="rail-navigation">
        <div class="inner">
          <a href="#previous" class="inactive" data-previous>
            <i class="fa fa-fw fa-arrow-left left"></i>
          </a>
        </div>
        <div class="inner">
          <span>
            <span class="current-index">1</span>
            <span>/</span>
            <span class="snippet-total">1</span>
          </span>
        </div>
        <div class="inner">
          <a href="#next" data-next>
            <i class="fa fa-fw fa-arrow-right"></i>
          </a>
        </div>
      </div>

      <div class="rail-title">
        <div class="title-content inner">
          <span>Loading Code Samples...</span>
          <i class="fa fa-fw fa-chevron-down"></i>
        </div>
      </div>

    </div>

  </div>

  <div class="rail-toolbar uk-hidden">

    <div class="rail-current-language">
      <div class="inner">
        <span>Language</span>
        <i class="fa fa-fw fa-chevron-down"></i>
      </div>
    </div>

    <div class="toolbar">
      <a href="#code" class="uk-hidden tab" data-code>Code</a>
      <a href="#output" class="uk-hidden inactive" data-output>Output</a>

      <span class="separator"></span>

      <a id="download" class="uk-hidden">
        <i class="fa fa-fw fa-download"></i>
        <span>Download Project</span>
      </a>

      <a id="github" class="uk-hidden" target="_blank">
        <i class="fa fa-fw fa-github-square"></i>
        <span>View on GitHub</span>
      </a>

      <a id="defrosty" class="fr-on" href="#defrosty">
        <i class="fa fa-fw fa-eye"></i>
        <span class="wider-tooltip">Toggle Highlighted Lines</span>
      </a>

      <a id="clippy" href="#copy">
        <i class="fa fa-fw fa-copy"></i>
        <span>Copy to Clipboard</span>
      </a>

      <a id="linkcode" href="#linkcode">
        <i class="fa fa-fw fa-link"></i>
        <span>Link to this Code</span>
      </a>

      <a href="#expand" data-expand>
        <i class="fa fa-fw fa-arrows-alt"></i>
        <span>Full Screen</span>
      </a>
      <a href="#collapse" class="uk-hidden" data-collapse>
        <i class="fa fa-fw fa-compress"></i>
        <span>Normal Size</span>
      </a>
    </div>
  </div>

  <div class="rail-samples">
    <ul>
      
        <li>
          <a href="#code-block-spam-calls-with-c">
            Block Spam Calls with C#
          </a>
        </li>
      
        <li>
          <a href="#code-white-pages-pro-reputation-add-on-json-response">
            White Pages Pro Reputation Add-on JSON Response
          </a>
        </li>
      
        <li>
          <a href="#code-whitepages-pro-phone-reputation-c">
            Whitepages Pro Phone Reputation C#
          </a>
        </li>
      
        <li>
          <a href="#code-marchex-clean-call-add-on-json-result">
            Marchex Clean Call Add-on JSON result
          </a>
        </li>
      
        <li>
          <a href="#code-marchex-clean-call-c">
            Marchex Clean Call C#
          </a>
        </li>
      
        <li>
          <a href="#code-nomorobo-add-on-json-result">
            Nomorobo Add-on JSON result
          </a>
        </li>
      
        <li>
          <a href="#code-nomorobo-c">
            Nomorobo C#
          </a>
        </li>
      
        <li>
          <a href="#code-nomorobo-add-on-json-result-blocked">
            Nomorobo Add-on JSON result (blocked)
          </a>
        </li>
      
        <li>
          <a href="#code-nomorobo-c-unit-test">
            Nomorobo C# Unit Test
          </a>
        </li>
      
    </ul>
  </div>

  <div class="rail-languages"></div>

  <div class="rail-content">
    <div class="rail-content-inner">
      
        
        <div data-sample-title="Block Spam Calls with C#"
            data-sample="code-block-spam-calls-with-c" 
            data-pref="server"
            data-download-url="https://github.com/TwilioDevEd/twilio-samples-csharp/archive/master.zip"
            data-github-url="https://github.com/TwilioDevEd/twilio-samples-csharp/blob/master/BlockSpamCalls/Controllers/VoiceController.cs"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="cs">C#</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="cs" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="k">using</span> <span class="nn">System.Diagnostics</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">System.Web.Mvc</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Newtonsoft.Json.Linq</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Twilio.Mvc</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Twilio.TwiML</span><span class="p">;</span>
</span><span class="code-line"><span class="k">using</span> <span class="nn">Twilio.TwiML.Mvc</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="k">namespace</span> <span class="nn">BlockSpamCalls.Controllers</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="k">public</span> <span class="k">class</span> <span class="nc">VoiceController</span> <span class="p">:</span> <span class="n">TwilioController</span>
</span><span class="code-line">    <span class="p">{</span>
</span><span class="code-line"><span class="na">        [HttpPost]</span>
</span><span class="code-line">        <span class="k">public</span> <span class="n">TwiMLResult</span> <span class="nf">Index</span><span class="p">(</span><span class="n">VoiceRequest</span> <span class="n">request</span><span class="p">,</span> <span class="kt">string</span> <span class="n">addOns</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TwilioResponse</span><span class="p">();</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">blockCall</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">addOns</span><span class="p">))</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="n">Trace</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">addOns</span><span class="p">);</span>
</span><span class="code-line">
</span><span class="code-line">                <span class="kt">var</span> <span class="n">addOnData</span> <span class="p">=</span> <span class="n">JObject</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">addOns</span><span class="p">);</span>
</span><span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">==</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span>
</span><span class="code-line">                <span class="p">{</span>
</span><span class="code-line">                    <span class="n">blockCall</span> <span class="p">=</span> <span class="n">ShouldBeBlockedByNomoRobo</span><span class="p">(</span><span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">                             <span class="p">||</span> <span class="n">ShouldBeBlockedByWhitePages</span><span class="p">(</span><span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">                             <span class="p">||</span> <span class="n">ShouldBeBlockedByMarchex</span><span class="p">(</span><span class="n">addOnData</span><span class="p">);</span>
</span><span class="code-line">                <span class="p">}</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">blockCall</span><span class="p">)</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="n">response</span><span class="p">.</span><span class="n">Reject</span><span class="p">();</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">            <span class="k">else</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="n">response</span><span class="p">.</span><span class="n">Say</span><span class="p">(</span><span class="s">&quot;Welcome to the jungle.&quot;</span><span class="p">);</span>
</span><span class="code-line">                <span class="n">response</span><span class="p">.</span><span class="n">Hangup</span><span class="p">();</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">            <span class="k">return</span> <span class="nf">TwiML</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByNomoRobo</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">nomorobo</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;nomorobo_spamscore&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nomorobo</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="kt">var</span> <span class="n">score</span> <span class="p">=</span> <span class="n">nomorobo</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;score&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">            <span class="k">return</span> <span class="n">score</span> <span class="p">==</span> <span class="m">1</span><span class="p">;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByWhitePages</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">whitePages</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;whitepages_pro_phone_rep&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">whitePages</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="kt">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">whitePages</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;results&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">results</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">result</span> <span class="k">in</span> <span class="n">results</span><span class="p">)</span>
</span><span class="code-line">            <span class="p">{</span>
</span><span class="code-line">                <span class="kt">var</span> <span class="n">level</span> <span class="p">=</span> <span class="n">result</span><span class="p">[</span><span class="s">&quot;reputation&quot;</span><span class="p">]?[</span><span class="s">&quot;level&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="p">==</span> <span class="m">4</span><span class="p">)</span> <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByMarchex</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line">        <span class="p">{</span>
</span><span class="code-line">            <span class="kt">var</span> <span class="n">cleanCall</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;marchex_cleancall&quot;</span><span class="p">];</span>
</span><span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">cleanCall</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">            <span class="kt">var</span> <span class="n">recommendation</span> <span class="p">=</span>
</span><span class="code-line">                <span class="n">cleanCall</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;recommendation&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">();</span>
</span><span class="code-line">            <span class="k">return</span> <span class="n">recommendation</span> <span class="p">==</span> <span class="s">&quot;BLOCK&quot;</span><span class="p">;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="White Pages Pro Reputation Add-on JSON Response"
            data-sample="code-white-pages-pro-reputation-add-on-json-response" 
            data-pref="server"
            data-download-url="https://github.com/TwilioDevEd/twilio-samples-csharp/archive/master.zip"
            data-github-url="https://github.com/TwilioDevEd/twilio-samples-csharp/blob/master/BlockSpamCalls.Test/Fixtures/successful_whitepages.json"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="json">JSON</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="json" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;whitepages_pro_phone_rep&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">          <span class="p">{</span>
</span><span class="code-line">            <span class="nt">&quot;phone_number&quot;</span><span class="p">:</span> <span class="s2">&quot;2095551212&quot;</span><span class="p">,</span>
</span><span class="code-line">            <span class="nt">&quot;reputation&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">              <span class="nt">&quot;level&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class="code-line">              <span class="nt">&quot;details&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">                <span class="p">{</span>
</span><span class="code-line">                  <span class="nt">&quot;score&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class="code-line">                  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;NotApplicable&quot;</span><span class="p">,</span>
</span><span class="code-line">                  <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;NotApplicable&quot;</span>
</span><span class="code-line">                <span class="p">}</span>
</span><span class="code-line">              <span class="p">],</span>
</span><span class="code-line">              <span class="nt">&quot;volume_score&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class="code-line">              <span class="nt">&quot;report_count&quot;</span><span class="p">:</span> <span class="mi">0</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">          <span class="p">}</span>
</span><span class="code-line">        <span class="p">],</span>
</span><span class="code-line">        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">]</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Whitepages Pro Phone Reputation C#"
            data-sample="code-whitepages-pro-phone-reputation-c" 
            data-pref="server"
            data-download-url=""
            data-github-url=""
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="cs">C#</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="cs" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByWhitePages</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">whitePages</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;whitepages_pro_phone_rep&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">whitePages</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="kt">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">whitePages</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;results&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">results</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">result</span> <span class="k">in</span> <span class="n">results</span><span class="p">)</span>
</span><span class="code-line">    <span class="p">{</span>
</span><span class="code-line">        <span class="kt">var</span> <span class="n">level</span> <span class="p">=</span> <span class="n">result</span><span class="p">[</span><span class="s">&quot;reputation&quot;</span><span class="p">]?[</span><span class="s">&quot;level&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="p">==</span> <span class="m">4</span><span class="p">)</span> <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Marchex Clean Call Add-on JSON result"
            data-sample="code-marchex-clean-call-add-on-json-result" 
            data-pref="server"
            data-download-url="https://github.com/TwilioDevEd/twilio-samples-csharp/archive/master.zip"
            data-github-url="https://github.com/TwilioDevEd/twilio-samples-csharp/blob/master/BlockSpamCalls.Test/Fixtures/successful_marchex.json"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="json">JSON</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="json" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;marchex_cleancall&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">          <span class="nt">&quot;recommendation&quot;</span><span class="p">:</span> <span class="s2">&quot;PASS&quot;</span><span class="p">,</span>
</span><span class="code-line">          <span class="nt">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;CleanCall&quot;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Marchex Clean Call C#"
            data-sample="code-marchex-clean-call-c" 
            data-pref="server"
            data-download-url=""
            data-github-url=""
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="cs">C#</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="cs" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByMarchex</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">cleanCall</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;marchex_cleancall&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">cleanCall</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="kt">var</span> <span class="n">recommendation</span> <span class="p">=</span>
</span><span class="code-line">        <span class="n">cleanCall</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;recommendation&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">();</span>
</span><span class="code-line">    <span class="k">return</span> <span class="n">recommendation</span> <span class="p">==</span> <span class="s">&quot;BLOCK&quot;</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Nomorobo Add-on JSON result"
            data-sample="code-nomorobo-add-on-json-result" 
            data-pref="server"
            data-download-url="https://github.com/TwilioDevEd/twilio-samples-csharp/archive/master.zip"
            data-github-url="https://github.com/TwilioDevEd/twilio-samples-csharp/blob/master/BlockSpamCalls.Test/Fixtures/successful_nomorobo.json"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="json">JSON</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="json" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;nomorobo_spamscore&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;score&quot;</span><span class="p">:</span> <span class="mi">0</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Nomorobo C#"
            data-sample="code-nomorobo-c" 
            data-pref="server"
            data-download-url=""
            data-github-url=""
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="cs">C#</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="cs" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="k">private</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ShouldBeBlockedByNomoRobo</span><span class="p">(</span><span class="n">JObject</span> <span class="n">addOnData</span><span class="p">)</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">nomorobo</span> <span class="p">=</span> <span class="n">addOnData</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">]?[</span><span class="s">&quot;nomorobo_spamscore&quot;</span><span class="p">];</span>
</span><span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">nomorobo</span><span class="p">?[</span><span class="s">&quot;status&quot;</span><span class="p">]?.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">!=</span> <span class="s">&quot;successful&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="kt">var</span> <span class="n">score</span> <span class="p">=</span> <span class="n">nomorobo</span><span class="p">[</span><span class="s">&quot;result&quot;</span><span class="p">]?[</span><span class="s">&quot;score&quot;</span><span class="p">]?.</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
</span><span class="code-line">    <span class="k">return</span> <span class="n">score</span> <span class="p">==</span> <span class="m">1</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Nomorobo Add-on JSON result (blocked)"
            data-sample="code-nomorobo-add-on-json-result-blocked" 
            data-pref="server"
            data-download-url="https://github.com/TwilioDevEd/twilio-samples-csharp/archive/master.zip"
            data-github-url="https://github.com/TwilioDevEd/twilio-samples-csharp/blob/master/BlockSpamCalls.Test/Fixtures/spam_nomorobo.json"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="json">JSON</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="json" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;nomorobo_spamscore&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span class="code-line">        <span class="nt">&quot;score&quot;</span><span class="p">:</span> <span class="mi">1</span>
</span><span class="code-line">      <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Nomorobo C# Unit Test"
            data-sample="code-nomorobo-c-unit-test" 
            data-pref="server"
            data-download-url=""
            data-github-url=""
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="cs">C#</option>
              
            </select>
          </div>

          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="cs" 
                data-version="default"
                data-filename=""
                class="codehilite"><code><span class="code-line"><span class="na">[TestMethod]</span>
</span><span class="code-line"><span class="k">public</span> <span class="k">void</span> <span class="nf">TestBlockedWithNomoRobo</span><span class="p">()</span>
</span><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">addOns</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="n">ReadAllText</span><span class="p">(</span><span class="s">&quot;spam_nomorobo.json&quot;</span><span class="p">);</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">controller</span> <span class="p">=</span> <span class="k">new</span> <span class="n">VoiceController</span><span class="p">();</span>
</span><span class="code-line">    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">controller</span><span class="p">.</span><span class="n">Index</span><span class="p">(</span><span class="k">new</span> <span class="n">VoiceRequest</span><span class="p">(),</span> <span class="n">addOns</span><span class="p">);</span>
</span><span class="code-line">    <span class="n">Assert</span><span class="p">.</span><span class="n">IsTrue</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">ToString</span><span class="p">().</span><span class="n">Contains</span><span class="p">(</span><span class="s">&quot;&lt;Reject&quot;</span><span class="p">));</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
    </div>
  </div>
</div>


    </div>

  </div>

      </div>
    </div>

    
    


<div class="footer" data-swiftype-index="false">
  <div class="uk-container uk-container-center">
    <div class="footer__statement">We can’t wait to see what you build.</div>
    <div class="uk-grid">
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Products</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/voice-video" class="footer__link">Voice &amp; Video</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/messaging" class="footer__link">Messaging</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/authy" class="footer__link">Authentication</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/wireless" class="footer__link">Connected Devices</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Use Cases</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/access-security" class="footer__link">Access Security</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/contextual-call-center" class="footer__link">Contextual Call Center</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/marketplace-communications" class="footer__link">Marketplace Communications</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/mobile-messaging" class="footer__link">Mobile Messaging</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">About</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/what-is-cloud-communications?" class="footer__link">What is Twilio?</a>
            </li>
            <li class="footer__list-item">
              <a href="https://customers.twilio.com/" class="footer__link">Customers</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help" class="footer__link">Get Help</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help/sales" class="footer__link">Talk to Sales</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-medium-2-5">
        <section class="footer__section">
  <header class="footer__header">Hits From The Blog</header>
  <ul class="footer__list footer__list">
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/building-an-ivr-with-no-code-by-using-taskrouter-as-a-state-machine.html" class="footer__link">Building an IVR with no code by using TaskRouter as a state machine</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/logrole-gives-you-permissions-based-granular-searching-for-twilio-logs.html" class="footer__link">Logrole Gives You Permissions Based, Granular Searching For Twilio Logs</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-callbacks-with-stamplay-twilio-and-unbounce.html" class="footer__link">Build Callbacks With Stamplay, Twilio and Unbounce</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-a-basic-call-center-in-just-a-few-minutes-with-twilio.html" class="footer__link">Build a Basic Call Center in Just a Few Minutes with Twilio</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/redact-delete-sms-messages-node-js.html" class="footer__link">Redact or Delete SMS Messages as They Arrive with Node.js</a>
    </li>
    
  </ul>

</section>
      </div>
    </div>
    <footer class="footer__footer">
      <div class="footer__logo" title="Twilio">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">
          <path d="M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11z"/>
          <circle cx="18.7" cy="11.3" r="3.1"/>
          <circle cx="18.7" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="11.3" r="3.1"/>
        </svg>
      </div>
      <ul class="legal__list">
        <li class="legal__list-item">
          <a href="https://www.twilio.com/company" class="legal__link">About Twilio</a>
        </li>
        <li class="legal__list-item">
          <a href="https://www.twilio.com/legal" class="legal__link">Legal</a>
        </li>
        <li class="legal__list-item">Copyright &copy; 2016 Twilio, Inc. 
          <br class="uk-visible-small">All Rights Reserved.
        </li>
      </ul>
    </footer>
  </div>
</div>


    
    <script src="https://www.twilio.com/docs/static/js/vendor.min.16abf41c42de.js"></script>
    

  

  <!-- Mixpanel -->
  <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
  typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,
    e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
    mixpanel.init("f71c19735fa6ecc5225ff563285e1794");
    </script>
  

  
    <!-- Heap -->
    <script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
    heap.load('1541905715');
    </script>
  

  
    <!-- GA -->
    <script type="text/javascript">
    try {
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2900316-1']);
      _gaq.push(['_setSiteSpeedSampleRate', 50]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    } catch(err) {}

    var _kmq = _kmq || [];
    </script>
  

  
    <!-- Eloqua -->
    <script type="text/javascript">
    var _elqQ = _elqQ || [];
    _elqQ.push(['elqSetSiteId', '815114181']);
    _elqQ.push(['elqTrackPageView']);
    _elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);

    (function () {
      function async_load() {
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
        s.src = 'http://img03.en25.com/i/elqCfg.min.js';
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
      }
      if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
      else if (window.attachEvent) window.attachEvent('onload', async_load);
    })();
    </script>
  

  
    <!-- Transifex -->
    <script type="text/javascript">
    window.liveSettings = {
      api_key: '4c06c1c5a6b341e591d969476fe2675f'
    };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>
    <style>
    .txlive-langselector { display: none; }
    </style>
  

  



    
      <script src="https://www.twilio.com/docs/static/js/docs.min.0c5bb1abb16f.js"></script>
    

    
    



    

  </body>

<!-- Mirrored from www.twilio.com/docs/guides/block-spam-calls-and-robocalls-csharp by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:10:05 GMT -->
</html>
