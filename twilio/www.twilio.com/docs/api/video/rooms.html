


<!DOCTYPE html>
<html class="no-js">
  
<!-- Mirrored from www.twilio.com/docs/api/video/rooms by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
	<!-- Optimizely -->
	<script src="https://cdn.optimizely.com/js/6082066.js"></script>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    
    
    
    

    <title>
      Working with Rooms - Twilio
    </title>

    <link rel="canonical" href="https://www.twilio.com/docs/api/video/rooms" />

    
    <link rel="shortcut icon" href="https://www.twilio.com/docs/static/img/favicons/favicon.db41f19ea294.ico"/>
    <link rel="apple-touch-icon" href="https://www.twilio.com/docs/static/img/favicons/favicon_57.98200b6899e6.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.twilio.com/docs/static/img/favicons/favicon_72.86ae17486256.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.twilio.com/docs/static/img/favicons/favicon_114.ee1859950ad4.png"/>

    
    <link rel="stylesheet" type="text/css" href="http://cloud.typography.com/6230892/752864/css/fonts.css">
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-awesome.min.295235b28b6e.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/twilio-icons.45de73e993f2.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-mfizz.818f36cb00cc.css" />

    
    
    <meta property="og:title" content="Working with Rooms">
    
    
    
    <meta property="og:url" content="https://www.twilio.com/docs/api/video/rooms?utm_source=docs&utm_medium=social&utm_campaign=guides_tags">

    
    
    <meta name="twitter:title" content="Working with Rooms">
    
    
    

    
    

    

    
      <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/docs.min.05ed18599e08.css" />
    

    
    

    
    <script>
  var twilio = twilio || {};
  twilio.realm = "prod";
  twilio.SWIFTYPE_ENGINE_KEY = "T68bXEBf7NaKzyRpvbnG";
</script>


<script>
  twilio.account = twilio.account || {};
  

  twilio.user = twilio.user || {};
  
  

</script>


    <script>
  
  window.userBetaFeatures = ["marketplace", "enable-video-rooms"];
</script>

  </head>

  <body class="
    
      apireference
    
    
    
  ">

    

	
	<!-- Google Tag Manager -->
	<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-MWRD6S"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window, document, 'script', 'dataLayer', 'GTM-MWRD6S');</script>
	<!-- End Google Tag Manager -->
	



    
    <div role="drawer" class="nav__drawer">
  <div role="drawer__wrapper" class="nav__drawer-wrapper">
    <div role="drawer__nav" class="nav__drawer-nav"><span class="nav__drawer-auth"><a href="https://www.twilio.com/login" class="nav__drawer-auth-link">Log In</a><a href="https://www.twilio.com/try-twilio" class="nav__drawer-auth-link">Sign Up</a></span><a href="#close" role="drawer__close" class="nav__drawer-close">Close</a></div>
    <div class="nav__drawer-menu">
      <div class="nav__drawer-container">
        <div class="nav__drawer-grid">
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Products</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/voice-video" class="nav__drawer-link nav__drawer-link--category">Voice &amp; Video</a></li>
                  <li><a href="https://www.twilio.com/voice" class="nav__drawer-link">Programmable Voice</a></li>
                  <li><a href="https://www.twilio.com/video" class="nav__drawer-link">Programmable Video</a></li>
                  <li><a href="https://www.twilio.com/sip-trunking" class="nav__drawer-link">Elastic SIP Trunking</a></li>
                  <li><a href="https://www.twilio.com/taskrouter" class="nav__drawer-link">TaskRouter</a></li>
                  <li><a href="https://www.twilio.com/stun-turn" class="nav__drawer-link">Network Traversal</a></li>
                </ul>
                <ul>
                  <li><a href="https://www.twilio.com/messaging" class="nav__drawer-link nav__drawer-link--category">Messaging</a></li>
                  <li><a href="https://www.twilio.com/sms" class="nav__drawer-link">Programmable SMS</a></li>
                  <li><a href="https://www.twilio.com/chat" class="nav__drawer-link">Programmable Chat</a></li>
                  <li><a href="https://www.twilio.com/notify" class="nav__drawer-link">Notify</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Authentication</div>
                  </li>
                  <li><a href="https://www.twilio.com/authy" class="nav__drawer-link">Authy</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Connectivity</div>
                  </li>
                  <li><a href="https://www.twilio.com/lookup" class="nav__drawer-link">Lookup</a></li>
                  <li><a href="https://www.twilio.com/phone-numbers" class="nav__drawer-link">Phone Numbers</a></li>
                  <li><a href="https://www.twilio.com/wireless" class="nav__drawer-link">Programmable Wireless</a></li>
                  <li><a href="https://www.twilio.com/sync" class="nav__drawer-link">Sync</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Marketplace</div>
                  </li>
                  <li><a href="https://www.twilio.com/marketplace/add-ons" class="nav__drawer-link">Add-ons</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Platform</div>
                  </li>
                  <li><a href="https://www.twilio.com/enterprise" class="nav__drawer-link">Enterprise Plan</a></li>
                  <li><a href="https://www.twilio.com/interconnect" class="nav__drawer-link">Interconnect</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Use Cases</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <ul>
                <li><a href="https://www.twilio.com/use-cases/access-security" class="nav__drawer-link nav__drawer-link--category">Access Security</a></li>
                <li><a href="https://www.twilio.com/use-cases/call-and-text-marketing" class="nav__drawer-link nav__drawer-link--category">Call &amp; Text Marketing</a></li>
                <li><a href="https://www.twilio.com/use-cases/collaboration" class="nav__drawer-link nav__drawer-link--category">Collaboration</a></li>
                <li><a href="https://www.twilio.com/use-cases/commerce-communications" class="nav__drawer-link nav__drawer-link--category">Commerce Communications</a></li>
                <li><a href="https://www.twilio.com/use-cases/contact-center" class="nav__drawer-link nav__drawer-link--category">Contact Center</a></li>
              </ul>
              <hr>
            </div>
            <div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://customers.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Customer Stories</a></li>
                  <li><a href="https://www.twilio.com/showcase" class="nav__drawer-link nav__drawer-link--small">Partner Showcase</a></li>
                  <li><a href="https://www.twilio.com/what-is-cloud-communications?" class="nav__drawer-link nav__drawer-link--small">Why Twilio?</a></li>
                  <li><a href="https://www.twilio.com/support-plans" class="nav__drawer-link nav__drawer-link--small">Support Plans</a></li>
                  <li><a href="http://status.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Status</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/docs" class="nav__drawer-link nav__drawer-link--small">API &amp; Docs</a></li>
                  <li><a href="https://www.twilio.com/blog" class="nav__drawer-link nav__drawer-link--small">Blog</a></li>
                  <li><a href="https://www.twilio.com/help" class="nav__drawer-link nav__drawer-link--small">Help</a></li>
                  <li><a href="https://www.twilio.com/company/jobs" class="nav__drawer-link nav__drawer-link--small">Jobs at Twilio</a></li>
                </ul>
              </div>
            </div>
            <div class="nav__sales"><a href="https://www.twilio.com/help/sales" class="nav__sales-button">Talk to Sales</a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div role="nav" class="nav nav--subnav nav--inverted nav--transparent " data-subnav-length="40">
  <div role="nav__menu" class="nav__header">
    <div class="nav__title"><a href="https://www.twilio.com/" class="nav__logo">Twilio</a></div>
    <nav class="nav__menu">
      <ul class="nav__menu-items">
        <li class="nav__menu-item"></li>
        
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/login" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="10.2" height="13.5" viewBox="0 0 10.2 13.5">
              <circle fill="none" stroke="#F22F46" stroke-miterlimit="10" cx="5.1" cy="3" r="2.5"></circle>
              <path fill="none" stroke="#F22F46" stroke-miterlimit="10" d="M.5 13.5c0-2.5 2.1-4.6 4.6-4.6s4.6 2.1 4.6 4.6"></path>
            </svg>
            Log In
          </a>
        </li>
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/try-twilio" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">
              <path d="M0 6.5h13M6.5 0v13" fill="none" stroke="#F22F46" stroke-miterlimit="10"></path>
            </svg>
            Sign Up
          </a>
        </li>
        
        <li class="nav__menu-item"><a href="#menu" role="nav__activate" class="nav__menu-link nav__menu-activate"><span></span>Menu &amp; Products</a></li>
      </ul>
    </nav>
    <nav role="subnav" class="nav__subnav">
      <header class="nav__subnav-header">
        <a href="https://www.twilio.com/docs" class="nav__subnav-header-link">Docs</a>
        
          <a href="https://www.twilio.com/docs/api" role="subnav__dropdown" 
            class="nav__subnav-link nav__subnav-current">API Reference</a>
        
      </header>
      <ul role="subnav__items" class="nav__subnav-items">
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/quickstart" class="nav__subnav-link">Quickstart</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/guides" class="nav__subnav-link">Guides</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/tutorials" class="nav__subnav-link">Tutorials</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/api" class="nav__subnav-link">API Reference</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/libraries" class="nav__subnav-link">SDKs</a>
        </li>
      </ul>
    </nav>
  </div>
</div>



    
    
      

<div class="docs__pagenav">
  <div class="uk-container uk-container-center">
    <div class="uk-grid">
      <div class="uk-width-3-4 uk-hidden-small">
      
      
        <div class="breadcrumbs">
          
            
          
            
          
            
              <a href="https://www.twilio.com/docs/api">API Reference</a> &gt;
            
          
            
              <a href="https://www.twilio.com/docs/api/video">Programmable Video</a> &gt;
            
          
          <span>Working with Rooms</span>
        </div>
      
      </div>

      
      <div class="uk-width-1-1 uk-width-medium-1-4">
  <div class="search">
    <form action="https://www.twilio.com/docs/search" method="GET">
      <div class="wrapper">
        <input id="search-box" name="q" type="text" value=""/>
      </div>
      <button type="submit">
        <i class="fa fa-fw fa-search"></i>
      </button>
    </form>
  </div>
</div>

    </div>
  </div>
</div>

    

    <div class="docs-container">
      <div class="uk-container">
        
        
  <div class="coderail-container">

    <div class="sidenav-column">
      <div class="theme-switcher uk-hidden-small">
  <div class="theme-wrapper">
    <a data-theme="light" class="selected">
      <i class="fa fa-fw fa-sun-o"></i>
    </a>
    <a data-theme="dark" >
      <i class="fa fa-fw fa-moon-o"></i>
    </a>
  </div>
</div>
      
        <div class="sidenav" data-uk-sticky="{boundary: true}">
          

<ul id="doc_menu" class="sidenav__section" data-swiftype-index="false">

  <!-- Page entries -->
  
    <li id="dynamic-menu">
      <ul>
        
          
          



  <li 
    >
      <a href="https://www.twilio.com/docs/api/video">
          Programmable Video
      </a>
  </li>



        
          
            
<li class="menu-title expanded" role="menu-title" id="doc-navigation-parent">
  Working with Rooms
</li>
<ul class="menu-accordion expanded" role="menu-accordion" id="doc-navigation"></ul>

          
          
<li class="menu-title expanded" role="menu-title">

    <span class="heading">Usage Guide</span>
</li>


<ul class="menu-accordion expanded" role="menu-accordion">

    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/api/video/getting-started">
          Getting Started
      </a>
  </li>



    
        



  <li 
    data-beta-feature="enable-video-rooms">
      <a href="https://www.twilio.com/docs/api/video/download-video-sdks">
          Download Video SDKs
      </a>
  </li>



    
        <ul class="menu-accordion expanded">
    
        <li>
    <a href="https://www.twilio.com/docs/api/video/download-video-sdks#android-sdk" >
        Android

        
    </a>
</li>

    
        <li>
    <a href="https://www.twilio.com/docs/api/video/download-video-sdks#ios-sdk" >
        iOS

        
    </a>
</li>

    
        <li>
    <a href="https://www.twilio.com/docs/api/video/download-video-sdks#javascript-sdk" >
        JavaScript

        
    </a>
</li>

    
</ul>
    
        



  <li 
    data-beta-feature="enable-video-rooms">
      <a href="https://www.twilio.com/docs/api/video/quickstart-sample-apps">
          Sample Applications
      </a>
  </li>



    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/api/video/identity">
          User Identity and Access Tokens
      </a>
  </li>



    
        



  <li class="active"
    >
      <a href="https://www.twilio.com/docs/api/video/rooms">
          Working with Rooms
      </a>
  </li>



    
</ul>

        
          
          
<li class="menu-title" role="menu-title">

    <span class="heading">API Reference</span>
</li>


<ul class="menu-accordion" role="menu-accordion">

    
        <li>
    <a href="https://media.twiliocdn.com/sdk/android/video/latest/docs" target="_blank">
        Android

        
            <i class="fa fa-external-link"></i>
        
    </a>
</li>

    
        <li>
    <a href="https://media.twiliocdn.com/sdk/ios/video/latest/docs" target="_blank">
        iOS

        
            <i class="fa fa-external-link"></i>
        
    </a>
</li>

    
        <li>
    <a href="https://media.twiliocdn.com/sdk/js/video/releases/1.0.0-beta3/docs/" target="_blank">
        JavaScript

        
            <i class="fa fa-external-link"></i>
        
    </a>
</li>

    
</ul>

        
          
          
<li class="menu-title" role="menu-title">

    <span class="heading">Changelogs</span>
</li>


<ul class="menu-accordion" role="menu-accordion">

    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/api/video/changelogs/android">
          Android
      </a>
  </li>



    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/api/video/changelogs/ios">
          iOS
      </a>
  </li>



    
        <li>
    <a href="https://github.com/twilio/twilio-conversations.js/blob/master/CHANGELOG.md" target="_blank">
        Javascript

        
            <i class="fa fa-external-link"></i>
        
    </a>
</li>

    
</ul>

        
          
          



  <li 
    data-beta-feature="video.conversations.doc">
      <a href="https://www.twilio.com/docs/api/video/conversations-api-deprecated">
          Conversations API (Deprecated)
      </a>
  </li>



        
        
      </ul>
    </li>
  
</ul>

        </div>
      
    </div>

    <div class="primary-column 
        ">
      <div class="docs-prose">
        
  
    
    <h1 class="page-title ">
      Working with Rooms
    </h1>
    
  
  
    <div class="block-markdown ">
      
        

<div>
    <p>A <code>Room</code> represents a multi-party communications session.
Connected users (Participants) can share video and audio Tracks to the
Room. These tracks will be received by other Participants.</p>
<p>The following code samples illustrate common tasks that you as a developer may
wish to perform related to a Room and its Participants. It is important to note that the code examples that follow require an
authenticated Video Client. Find out how to create one in the <a href="https://www.twilio.com/docs/api/video/identity">identity
and access token guide</a>.</p>
<h2 id="setting-up-a-room"><a class="toclink" href="#setting-up-a-room">Setting up a Room</a></h2>
<h3 id="create-room"><a class="toclink" href="#create-room">Create a Room</a></h3>
<p>To create a Room, you need to call <code>connect</code> with the name of a
Room. The room, if it doesn't already exist, will be created and 
you will become the first Participant:</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-create-a-room" 
  data-title="Create a Room" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-create-a-room">Create a Room</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="js">JavaScript</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">connectToRoom</span><span class="o">(</span><span class="n">String</span> <span class="n">roomName</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">  <span class="n">ConnectOptions</span> <span class="n">connectOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ConnectOptions</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">roomName</span><span class="o">(</span><span class="n">roomName</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">localMedia</span><span class="o">(</span><span class="n">localMedia</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span><span class="code-line">  <span class="n">room</span> <span class="o">=</span> <span class="n">videoClient</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">connectOptions</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
</span><span class="code-line"><span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">      <span class="nd">@Override</span>
</span><span class="code-line">      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&quot;Connected to &quot;</span> <span class="o">+</span> <span class="n">room</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</span><span class="code-line">      <span class="o">}</span>
</span><span class="code-line">  <span class="o">}</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
      
        <pre data-ext="js" data-version="default" class="codehilite"><code><span class="code-line"><span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span><span class="nx">to</span><span class="o">:</span><span class="s1">&#39;my-new-room&#39;</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">room</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Successfully joined a Room: &#39;</span><span class="p">,</span> <span class="nx">room</span><span class="p">);</span>
</span><span class="code-line">  <span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A remote Participant connected: &#39;</span><span class="p">,</span> <span class="nx">participant</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">})</span>
</span><span class="code-line"><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Unable to connect to Room: &#39;</span> <span class="o">+</span>  <span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">createARoom</span> <span class="p">{</span>
</span><span class="code-line">	<span class="c1">// Create a room </span>
</span><span class="code-line">	<span class="n">TVIConnectOptions</span> <span class="o">*</span><span class="n">connectOptions</span> <span class="o">=</span> <span class="p">[</span><span class="n">TVIConnectOptions</span> <span class="nl">optionsWithBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">TVIConnectOptionsBuilder</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">builder</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">		<span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;my-new-room&quot;</span><span class="p">;</span>
</span><span class="code-line">	<span class="p">}];</span>
</span><span class="code-line">	<span class="n">TVIRoom</span> <span class="o">*</span><span class="n">room</span> <span class="o">=</span> <span class="p">[</span><span class="n">videoClient</span> <span class="nl">connectWithOptions</span><span class="p">:</span><span class="n">connectOptions</span> <span class="nl">delegate</span><span class="p">:</span><span class="nb">self</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">participantDidConnect:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="p">{</span>
</span><span class="code-line">	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant did connect:%@&quot;</span><span class="p">,</span> <span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="kr">@IBAction</span> <span class="kd">func</span> <span class="nf">createARoom</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="nb">AnyObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="kd">let</span> <span class="nv">connectOptions</span> <span class="p">=</span> <span class="n">TVIConnectOptions</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">block</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">builder</span><span class="p">)</span> <span class="k">in</span>
</span><span class="code-line">        <span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;my-room&quot;</span>
</span><span class="code-line">    <span class="p">})</span>
</span><span class="code-line">    <span class="n">room</span> <span class="p">=</span> <span class="n">videoClient</span><span class="p">.</span><span class="n">connectWithOptions</span><span class="p">(</span><span class="n">connectOptions</span><span class="p">,</span> <span class="n">delegate</span><span class="p">:</span> <span class="kc">self</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">didConnectToRoom</span><span class="p">(</span><span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Did connect to room&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Create a Room
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-markdown ">
      
        

<div>
    <h3 id="join-room"><a class="toclink" href="#join-room">Join a Room</a></h3>
<p>If you'd like to join a Room you know already exists, you handle
that exactly the same way as creating a room: just pass the
Room name to the <code>connect</code> method:</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-join-a-room" 
  data-title="Join a Room" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-join-a-room">Join a Room</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="js">JavaScript</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">connectToRoom</span><span class="o">(</span><span class="n">String</span> <span class="n">roomName</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">  <span class="n">ConnectOptions</span> <span class="n">connectOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ConnectOptions</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">roomName</span><span class="o">(</span><span class="n">roomName</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">localMedia</span><span class="o">(</span><span class="n">localMedia</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span><span class="code-line">  <span class="n">room</span> <span class="o">=</span> <span class="n">videoClient</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">connectOptions</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
</span><span class="code-line"><span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&quot;Connected to &quot;</span> <span class="o">+</span> <span class="n">room</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">  <span class="o">}</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
      
        <pre data-ext="js" data-version="default" class="codehilite"><code><span class="code-line"><span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span><span class="s1">&#39;to&#39;</span><span class="o">:</span><span class="s1">&#39;existing-room&#39;</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">room</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Successfully joined a Room: &#39;</span><span class="p">,</span> <span class="nx">room</span><span class="p">);</span>
</span><span class="code-line">  <span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A remote Participant connected: &#39;</span><span class="p">,</span> <span class="nx">participant</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">})</span>
</span><span class="code-line"><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Unable to connect to Room: &#39;</span> <span class="o">+</span>  <span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">joinRoom</span> <span class="p">{</span>
</span><span class="code-line">	<span class="c1">// Join an existing room </span>
</span><span class="code-line">	<span class="n">TVIConnectOptions</span> <span class="o">*</span><span class="n">connectOptions</span> <span class="o">=</span> <span class="p">[</span><span class="n">TVIConnectOptions</span> <span class="nl">optionsWithBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">TVIConnectOptionsBuilder</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">builder</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">		<span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;existing-room&quot;</span><span class="p">;</span>
</span><span class="code-line">	<span class="p">}];</span>
</span><span class="code-line">	<span class="n">TVIRoom</span> <span class="o">*</span><span class="n">room</span> <span class="o">=</span> <span class="p">[</span><span class="n">videoClient</span> <span class="nl">connectWithOptions</span><span class="p">:</span><span class="n">connectOptions</span> <span class="nl">delegate</span><span class="p">:</span><span class="nb">self</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">participantDidConnect:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="p">{</span>
</span><span class="code-line">	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant did connect:%@&quot;</span><span class="p">,</span> <span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="kr">@IBAction</span> <span class="kd">func</span> <span class="nf">joinRoom</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="nb">AnyObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="kd">let</span> <span class="nv">connectOptions</span> <span class="p">=</span> <span class="n">TVIConnectOptions</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">block</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">builder</span><span class="p">)</span> <span class="k">in</span>
</span><span class="code-line">        <span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;existing-room&quot;</span>
</span><span class="code-line">    <span class="p">})</span>
</span><span class="code-line">    <span class="n">room</span> <span class="p">=</span> <span class="n">videoClient</span><span class="p">.</span><span class="n">connectWithOptions</span><span class="p">(</span><span class="n">connectOptions</span><span class="p">,</span> <span class="n">delegate</span><span class="p">:</span> <span class="kc">self</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">didConnectToRoom</span><span class="p">(</span><span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Did connect to room&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Join a Room
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-markdown ">
      
        

<div>
    <p>Once in a Room, you'll receive a
<code>participantConnected</code> event for each Participant that successfully joins. Querying the <code>participants</code> getter will return any existing Participants who have already joined the Room.</p>
<h3 id="specify-local-media-when-creating-room"><a class="toclink" href="#specify-local-media-when-creating-room">Specify Local Media Properties when Creating a Room</a></h3>
<p>LocalMedia objects contain your local video and audio tracks. That is to
say, the Media Tracks that you will be sending to other Participants in the
Room. You can configure a LocalMedia object before joining a 
Room. This will determine what media Tracks other Participants receive
from you when you connect:</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-specify-constraints" 
  data-title="Specify Constraints" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-specify-constraints">Specify Constraints</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="js">JavaScript</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="k">if</span> <span class="o">(</span><span class="n">localMedia</span><span class="o">.</span><span class="na">getVideoTracks</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">  <span class="n">CameraCapturer</span> <span class="n">cameraCapturer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CameraCapturer</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">CameraSource</span><span class="o">.</span><span class="na">FRONT_CAMERA</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class="code-line">  <span class="n">LocalVideoTrack</span> <span class="n">localVideoTrack</span> <span class="o">=</span> <span class="n">localMedia</span><span class="o">.</span><span class="na">addVideoTrack</span><span class="o">(</span><span class="kc">true</span><span class="o">,</span> <span class="n">cameraCapturer</span><span class="o">);</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
      
        <pre data-ext="js" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// Create LocalMedia with a camera track and no microphone track</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nx">localMedia</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twilio</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">LocalMedia</span><span class="p">();</span>
</span><span class="code-line"><span class="nx">localMedia</span><span class="p">.</span><span class="nx">addCamera</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">&#39;my-room&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">localMedia</span><span class="o">:</span> <span class="nx">localMedia</span> <span class="p">});</span>
</span><span class="code-line"><span class="p">});</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Or, more simply:</span>
</span><span class="code-line"><span class="k">return</span> <span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">&#39;my-room&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">localStreamConstraints</span><span class="o">:</span> <span class="p">{</span> <span class="nx">audio</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="k">if</span> <span class="p">([</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span><span class="p">.</span><span class="n">videoTracks</span> <span class="n">count</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="nb">self</span><span class="p">.</span><span class="n">camera</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVICameraCapturer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line">	<span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="nl">addVideoTrack</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">capturer</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">camera</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="k">if</span> <span class="p">(</span><span class="n">localMedia</span><span class="p">?.</span><span class="n">videoTracks</span><span class="p">.</span><span class="bp">count</span> <span class="p">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">      <span class="n">camera</span> <span class="p">=</span> <span class="n">TVICameraCapturer</span><span class="p">()</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span> <span class="p">=</span> <span class="n">localMedia</span><span class="p">?.</span><span class="n">addVideoTrack</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">capturer</span><span class="p">:</span> <span class="n">camera</span><span class="p">!)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">        
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Specify Constraints
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-markdown ">
      
        

<div>
    <p>Now that we are connected to a Room, let's see how we can work with it.</p>
<hr/>

<h2 id="dealing-with-remote-participants"><a class="toclink" href="#dealing-with-remote-participants">Dealing with Remote Participants</a></h2>
<h3 id="handle-connected-participants"><a class="toclink" href="#handle-connected-participants">Handle Connected Participants</a></h3>
<p>When you join a Room, Participants may already be present. You can check for existing Participants in the <code>connected</code> event callback by using the <code>participants</code> getter.</p>
<h3 id="handle-participant-events"><a class="toclink" href="#handle-participant-events">Handle Participant Connection Events</a></h3>
<p>When Participants connect to or disconnect from a Room that you're
connected to, you'll be notified via an event listener:</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-handle-participant-events" 
  data-title="Handle Participant Events" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-handle-participant-events">Handle Participant Events</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="js">JavaScript</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onParticipantConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">Participant</span> <span class="n">participant</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">&quot;Participant connected: &quot;</span> <span class="o">+</span> <span class="n">participant</span><span class="o">.</span><span class="na">getIdentity</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onParticipantDisconnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">Participant</span> <span class="n">participant</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">&quot;Participant disconnected: &quot;</span> <span class="o">+</span> <span class="n">participant</span><span class="o">.</span><span class="na">getIdentity</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
      
        <pre data-ext="js" data-version="default" class="codehilite"><code><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Participant connected: &#39;</span> <span class="o">+</span> <span class="nx">participant</span><span class="p">.</span><span class="nx">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span><span class="code-line">
</span><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantDisconnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Participant disconnected: &#39;</span> <span class="o">+</span> <span class="nx">participant</span><span class="p">.</span><span class="nx">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="cp">#pragma mark - TVIParticipantDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">participant:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="nf">addedVideoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">videoTrack</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant %@ added a video track&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">participant:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="nf">removedVideoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">videoTrack</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant %@ removed a video track&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIParticipantDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">participant</span><span class="p">(</span><span class="kc">_</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">,</span> <span class="n">addedVideoTrack</span> <span class="n">videoTrack</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Participant </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="si">)</span><span class="s"> added video track&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="kd">func</span> <span class="nf">participant</span><span class="p">(</span><span class="kc">_</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">,</span> <span class="n">removedVideoTrack</span> <span class="n">videoTrack</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Participant </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="si">)</span><span class="s"> removed video track&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Handle Participant Events
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-markdown ">
      
        

<div>
    <h3 id="display-participant-video"><a class="toclink" href="#display-participant-video">Display a Remote Participant's Video</a></h3>
<p>To see the Video Tracks being sent by remote Participants, we need to render
them to the screen:</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-display-participants-video" 
  data-title="Display Participants Video" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-display-participants-video">Display Participants Video</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="js">JavaScript</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// First, we set a Media Listener when a Participant first connects:</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onParticipantConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">Participant</span> <span class="n">participant</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">participant</span><span class="o">.</span><span class="na">getMedia</span><span class="o">().</span><span class="na">setListener</span><span class="o">(</span><span class="n">mediaListener</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* In the Media Listener, we can respond when the Participant adds a Video</span>
</span><span class="code-line"><span class="cm">Track by rendering it on screen: */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">Media</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">mediaListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Media</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">      <span class="nd">@Override</span>
</span><span class="code-line">      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onVideoTrackAdded</span><span class="o">(</span><span class="n">Media</span> <span class="n">media</span><span class="o">,</span> <span class="n">VideoTrack</span> <span class="n">videoTrack</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">        <span class="n">primaryVideoView</span><span class="o">.</span><span class="na">setMirror</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
</span><span class="code-line">        <span class="n">videoTrack</span><span class="o">.</span><span class="na">addRenderer</span><span class="o">(</span><span class="n">primaryVideoView</span><span class="o">);</span>
</span><span class="code-line">      <span class="o">}</span>
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
      
        <pre data-ext="js" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// Attach the Participant&#39;s Media to a &lt;div&gt; element.</span>
</span><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Participant &#39;&quot;</span> <span class="o">+</span>  <span class="nx">participant</span><span class="p">.</span><span class="nx">identity</span>  <span class="o">+</span> <span class="s2">&quot;&#39; connected&quot;</span><span class="p">);</span>
</span><span class="code-line">  <span class="nx">participant</span><span class="p">.</span><span class="nx">media</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="s1">&#39;#remote-media-div&#39;</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate methods</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// First, we set a Participant Delegate when a Participant first connects: </span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">participantDidConnect:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant did connect:%@&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line">	<span class="n">participant</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="nb">self</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* In the Participant Delegate, we can respond when the Participant adds a Video</span>
</span><span class="code-line"><span class="cm">Track by rendering it on screen:*/</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cp">#pragma mark - TVIParticipantDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">participant:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="nf">addedVideoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">videoTrack</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant %@ added a video track&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line">    <span class="n">videoTrack</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="nb">self</span><span class="p">;</span>
</span><span class="code-line">    <span class="p">[</span><span class="n">videoTrack</span> <span class="nl">attach</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">remoteMediaView</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Lastly, we can subscribe to important events on the Video Track</span>
</span><span class="code-line"><span class="cp">#pragma mark - TVIVideoTrackDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">videoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">track</span> <span class="nf">dimensionsDidChange:</span><span class="p">(</span><span class="n">CMVideoDimensions</span><span class="p">)</span><span class="nv">dimensions</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Dimensions changed to: %d x %d&quot;</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
</span><span class="code-line">    <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span> <span class="n">setNeedsUpdateConstraints</span><span class="p">];</span>
</span><span class="code-line">    
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// First, we set a Participant Delegate when a Participant first connects: </span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">room</span><span class="p">(</span><span class="kc">_</span> <span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">,</span> <span class="n">participantDidConnect</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Participant connected: </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">!</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line">	<span class="n">participant</span><span class="p">.</span><span class="n">delegate</span> <span class="p">=</span> <span class="kc">self</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* In the Participant Delegate, we can respond when the Participant adds a Video</span>
</span><span class="code-line"><span class="cm">Track by rendering it on screen: */</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIParticipantDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">participant</span><span class="p">(</span><span class="kc">_</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">,</span> <span class="n">addedVideoTrack</span> <span class="n">videoTrack</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Participant </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="si">)</span><span class="s"> added video track&quot;</span><span class="p">)</span>
</span><span class="code-line">	<span class="n">videoTrack</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="kc">self</span><span class="p">.</span><span class="n">remoteMediaView</span><span class="p">)</span>
</span><span class="code-line">	<span class="n">videoTrack</span><span class="p">.</span><span class="n">delegate</span> <span class="p">=</span> <span class="kc">self</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Lastly, we can subscribe to important events on the Video Track</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIVideoTrackDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">videoTrack</span><span class="p">(</span><span class="kc">_</span> <span class="n">track</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">,</span> <span class="n">dimensionsDidChange</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">CMVideoDimensions</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="bp">print</span><span class="p">(</span><span class="s">&quot;The dimensions of the video track changed to: </span><span class="si">\(</span><span class="n">dimensions</span><span class="p">.</span><span class="n">width</span><span class="si">)</span><span class="s">x</span><span class="si">\(</span><span class="n">dimensions</span><span class="p">.</span><span class="n">height</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Display Participants Video
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-markdown ">
      
        

<div>
    <h2 id="participating-in-a-room"><a class="toclink" href="#participating-in-a-room">Participating in a Room</a></h2>
<h3 id="render-camera-preview"><a class="toclink" href="#render-camera-preview">Display a Camera Preview</a></h3>
<p>Sometimes you need to make sure you're looking fantastic before entering a
Room. We get it. Each SDK provides a means to render a local camera
preview outside the context of an active Room:</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-display-a-camera-preview" 
  data-title="Display a Camera Preview" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-display-a-camera-preview">Display a Camera Preview</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="js">JavaScript</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="cm">/* The CameraCapturer is a default video capturer provided by Twilio which can</span>
</span><span class="code-line"><span class="cm">   capture video from the front or rear-facing device camera */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">CameraCapturer</span> <span class="n">cameraCapturer</span><span class="o">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* A VideoView receives frames from a local or remote video track and renders them</span>
</span><span class="code-line"><span class="cm">   to an associated view. */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">VideoView</span> <span class="n">primaryVideoView</span><span class="o">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/*  LocalMedia represents our local camera and microphone (media) configuration</span>
</span><span class="code-line"><span class="cm">    that can be sent to other Participants in Rooms, or previewed locally */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">LocalMedia</span> <span class="n">localMedia</span> <span class="o">=</span> <span class="n">LocalMedia</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Initialize the camera capturer and start the camera preview</span>
</span><span class="code-line"><span class="n">cameraCapturer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CameraCapturer</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">CameraSource</span><span class="o">.</span><span class="na">FRONT_CAMERA</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class="code-line"><span class="n">LocalVideoTrack</span> <span class="n">localVideoTrack</span> <span class="o">=</span> <span class="n">localMedia</span><span class="o">.</span><span class="na">addVideoTrack</span><span class="o">(</span><span class="kc">true</span><span class="o">,</span> <span class="n">cameraCapturer</span><span class="o">);</span>
</span><span class="code-line"><span class="n">primaryVideoView</span><span class="o">.</span><span class="na">setMirror</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span><span class="code-line"><span class="n">localVideoTrack</span><span class="o">.</span><span class="na">addRenderer</span><span class="o">(</span><span class="n">primaryVideoView</span><span class="o">);</span>
</span></code></pre>
      
        <pre data-ext="js" data-version="default" class="codehilite"><code><span class="code-line"><span class="kd">var</span> <span class="nx">previewMedia</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twilio</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">LocalMedia</span><span class="p">();</span>
</span><span class="code-line"><span class="nx">Twilio</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">getUserMedia</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span>
</span><span class="code-line">  <span class="kd">function</span> <span class="p">(</span><span class="nx">mediaStream</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">previewMedia</span><span class="p">.</span><span class="nx">addStream</span><span class="p">(</span><span class="nx">mediaStream</span><span class="p">);</span>
</span><span class="code-line">    <span class="nx">previewMedia</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="s1">&#39;#local-media&#39;</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">},</span>
</span><span class="code-line">  <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Unable to access local media&#39;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">});</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="cm">/* The CameraCapturer is a default video capturer provided by Twilio which can</span>
</span><span class="code-line"><span class="cm">capture video from the front or rear-facing device camera  */</span>
</span><span class="code-line"><span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">strong</span><span class="p">)</span> <span class="n">TVICameraCapturer</span> <span class="o">*</span><span class="n">camera</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Video Tracks (local or remote) can be attached to any UIView </span>
</span><span class="code-line"><span class="k">@property</span> <span class="p">(</span><span class="k">weak</span><span class="p">,</span> <span class="k">nonatomic</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="bp">UIView</span> <span class="o">*</span><span class="n">previewView</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* LocalMedia represents our local camera and microphone (media) configuration</span>
</span><span class="code-line"><span class="cm">that can be sent to other Participants in Rooms, or previewed locally */</span>
</span><span class="code-line"><span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">strong</span><span class="p">)</span> <span class="n">TVILocalMedia</span> <span class="o">*</span><span class="n">localMedia</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Create a local video track, and render it in the preview view</span>
</span><span class="code-line"><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVILocalMedia</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line"><span class="nb">self</span><span class="p">.</span><span class="n">camera</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVICameraCapturer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line"><span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="nl">addVideoTrack</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">capturer</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">camera</span><span class="p">];</span>
</span><span class="code-line"><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed to add video track&quot;</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="code-line">	<span class="c1">// Attach view to video track for local preview</span>
</span><span class="code-line">	<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span> <span class="nl">attach</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">previewView</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="cm">/* The CameraCapturer is a default video capturer provided by Twilio which can</span>
</span><span class="code-line"><span class="cm">capture video from the front or rear-facing device camera  */</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">camera</span> <span class="p">=</span> <span class="n">TVICameraCapturer</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Video Tracks (local or remote) can be attached to any UIView </span>
</span><span class="code-line"><span class="kr">@IBOutlet</span> <span class="kr">weak</span> <span class="kd">var</span> <span class="nv">previewView</span><span class="p">:</span> <span class="bp">UIView</span><span class="p">!</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* LocalMedia represents our local camera and microphone (media) configuration</span>
</span><span class="code-line"><span class="cm">that can be sent to other Participants in Rooms, or previewed locally */</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">localMedia</span> <span class="p">=</span> <span class="n">TVILocalMedia</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Create a local video track, and render it in the preview view</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">localVideoTrack</span> <span class="p">=</span> <span class="n">localMedia</span><span class="p">?.</span><span class="n">addVideoTrack</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">capturer</span><span class="p">:</span> <span class="n">camera</span><span class="p">!)</span>
</span><span class="code-line"><span class="k">if</span> <span class="p">(</span><span class="n">localVideoTrack</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">logMessage</span><span class="p">(</span><span class="n">messageText</span><span class="p">:</span> <span class="s">&quot;Failed to add video track&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="code-line">    <span class="c1">// Attach view to video track for local preview</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span><span class="p">!.</span><span class="n">attach</span><span class="p">(</span><span class="n">reviewView</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Display a Camera Preview
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-markdown ">
      
        

<div>
    <h3 id="disconnect-room"><a class="toclink" href="#disconnect-room">Disconnect from a Room</a></h3>
<p>You can disconnect from a Room you're currently participating in. Other
Participants will receive a <code>participantDisconnected</code> event.</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-disconnect-from-a-room" 
  data-title="Disconnect from a Room" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-disconnect-from-a-room">Disconnect from a Room</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="js">JavaScript</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// To disconnect from a Room, we call:</span>
</span><span class="code-line"><span class="n">room</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// This results in a call to Room.Listener#onDisconnected</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDisconnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">TwilioException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&quot;Disconnected from &quot;</span> <span class="o">+</span> <span class="n">room</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span> 
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
      
        <pre data-ext="js" data-version="default" class="codehilite"><code><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;disconnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">room</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="cm">/* Release the local camera and microphone if we&#39;re no longer using this </span>
</span><span class="code-line"><span class="cm">  LocalMedia instance in another Room */</span>
</span><span class="code-line">  <span class="nx">room</span><span class="p">.</span><span class="nx">localParticipant</span><span class="p">.</span><span class="nx">media</span><span class="p">.</span><span class="nx">detach</span><span class="p">();</span>
</span><span class="code-line"><span class="p">});</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// To disconnect from a Room</span>
</span><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// To disconnect from a room, we call:</span>
</span><span class="code-line"><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">room</span> <span class="n">disconnect</span><span class="p">];</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// This results in a callback to TVIRoomDelegate#room:didDisconnectWithError</span>
</span><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">didDisconnectWithError:</span><span class="p">(</span><span class="bp">NSError</span> <span class="o">*</span><span class="p">)</span><span class="nv">error</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Did disconnect from room&quot;</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// To disconnect from a Room, we call:</span>
</span><span class="code-line"><span class="n">room</span><span class="p">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// This results in a callback to TVIRoomDelegate#room:didDisconnectWithError</span>
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">room</span><span class="p">(</span><span class="kc">_</span> <span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">,</span> <span class="n">didDisconnectWithError</span> <span class="n">error</span><span class="p">:</span> <span class="n">Error</span><span class="p">?)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Disconnected from room </span><span class="si">\(</span><span class="n">room</span><span class="p">.</span><span class="n">name</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Disconnect from a Room
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  
    <div class="block-markdown ">
      
        

<div>
    <h2 id="video-constraints"><a class="toclink" href="#video-constraints">Video Constraints</a></h2>
<p>You can customize the video capture by setting video constraints on a local video track. You can set size constraints, frame rate constraints or the aspect ratio constraints of your choice. Note that video constraints are used to resolve the capture format, but the actual video sent to Participant may be downscaled temporally or spatially in response to network and device conditions.</p>
</div>

      
    </div>
  
    <div class="block-code_sample ">
      
        

<div class="md-code-sample" id="code-video-constraints" 
  data-title="Video Constraints" data-pref="mobile">

  <div class="inline-mode">
    <div class="code-snippets">
      <div class="sample-tabs">
      <a class="title" href="#code-video-constraints">Video Constraints</a>
        <ul>
          
            <li class="sample-tab active" 
              data-ext="java">Java</li>
          
            <li class="sample-tab " 
              data-ext="m">Objective-C</li>
          
            <li class="sample-tab " 
              data-ext="swift">Swift</li>
          
        </ul>
      </div>

      
        
      
        
      
        
      
          
      
        <pre data-ext="java" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// Create camera capturer</span>
</span><span class="code-line"><span class="n">CameraCapturer</span> <span class="n">cameraCapturer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CameraCapturer</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> 
</span><span class="code-line">    <span class="n">CameraCapturer</span><span class="o">.</span><span class="na">CameraSource</span><span class="o">.</span><span class="na">FRONT_CAMERA</span><span class="o">);</span>
</span><span class="code-line">    
</span><span class="code-line"><span class="c1">// Setup video constraints</span>
</span><span class="code-line"><span class="n">VideoConstraints</span> <span class="n">videoConstraints</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VideoConstraints</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">aspectRatio</span><span class="o">(</span><span class="n">VideoConstraints</span><span class="o">.</span><span class="na">ASPECT_RATIO_16_9</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">minVideoDimensions</span><span class="o">(</span><span class="n">VideoDimensions</span><span class="o">.</span><span class="na">CIF_VIDEO_DIMENSIONS</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">maxVideoDimensions</span><span class="o">(</span><span class="n">VideoDimensions</span><span class="o">.</span><span class="na">HD_720P_VIDEO_DIMENSIONS</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">minFps</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">maxFps</span><span class="o">(</span><span class="mi">24</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Add a video track with constraints</span>
</span><span class="code-line"><span class="n">LocalVideoTrack</span> <span class="n">localVideoTrack</span> <span class="o">=</span> <span class="n">localMedia</span><span class="o">.</span><span class="na">addVideoTrack</span><span class="o">(</span><span class="kc">true</span><span class="o">,</span> <span class="n">cameraCapturer</span><span class="o">,</span> <span class="n">videoConstraints</span><span class="o">);</span>
</span></code></pre>
      
        <pre data-ext="m" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// Create camera object</span>
</span><span class="code-line"><span class="n">TVICameraCapturer</span> <span class="o">*</span><span class="n">camera</span> <span class="o">=</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVICameraCapturer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Setup the video constraints</span>
</span><span class="code-line"><span class="n">TVIVideoConstraints</span> <span class="o">*</span><span class="n">videoConstraints</span> <span class="o">=</span> <span class="p">[</span><span class="n">TVIVideoConstraints</span> <span class="nl">constraintsWithBlock</span><span class="p">:</span>
</span><span class="code-line">                              <span class="o">^</span><span class="p">(</span><span class="n">TVIVideoConstraintsBuilder</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">builder</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">maxSize</span> <span class="o">=</span><span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">minSize</span> <span class="o">=</span><span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">maxFrameRate</span> <span class="o">=</span><span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">minFrameRate</span> <span class="o">=</span><span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line">                              <span class="p">}];</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Add local video track with camera and video constraints</span>
</span><span class="code-line"><span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class="code-line"><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="n">localVideoTrack</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="nl">addVideoTrack</span><span class="p">:</span><span class="nb">YES</span>
</span><span class="code-line">                                                       <span class="nl">capturer</span><span class="p">:</span><span class="n">camera</span>
</span><span class="code-line">                                                    <span class="nl">constraints</span><span class="p">:</span><span class="n">videoConstraints</span>
</span><span class="code-line">                                                          <span class="nl">error</span><span class="p">:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>
</span></code></pre>
      
        <pre data-ext="swift" data-version="default" class="codehilite"><code><span class="code-line"><span class="c1">// Create camera object</span>
</span><span class="code-line"><span class="kd">let</span> <span class="nv">camera</span> <span class="p">=</span> <span class="n">TVICameraCapturer</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Setup the video constraints</span>
</span><span class="code-line"><span class="kd">let</span> <span class="nv">videoConstraints</span> <span class="p">=</span> <span class="n">TVIVideoConstraints</span> <span class="p">{</span> <span class="p">(</span><span class="n">constraints</span><span class="p">)</span> <span class="k">in</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">maxSize</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">minSize</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">maxFrameRate</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">minFrameRate</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Add local video track with camera and video constraints</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">localVideoTrack</span><span class="p">:</span><span class="n">TVILocalVideoTrack</span><span class="p">?</span>
</span><span class="code-line"><span class="k">do</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span> <span class="p">=</span> <span class="n">try</span> <span class="n">localMedia</span><span class="p">?.</span><span class="n">addVideoTrack</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">capturer</span><span class="p">:</span> <span class="n">camera</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">videoConstraints</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span> <span class="n">catch</span> <span class="kd">let</span> <span class="nv">error</span> <span class="kc">as</span> <span class="bp">NSError</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span> <span class="p">(</span><span class="s">&quot;Error: Failed to create a video track using the local camera. error = </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span> <span class="p">=</span> <span class="kc">nil</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
      
    </div>

    
  </div>

  <div class="button-mode">
    <h5 class="title">
      <i class="fa fa-fw fa-code"></i>
      Video Constraints
    </h5>
    
    <div class="active-tail"></div>
  </div>
</div>



      
    </div>
  

    

        
          
<div id="disqus_thread"></div>


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

// Unique identifiers
PAGE_URL = "https://www.twilio.com/docs/api/video/rooms";

var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'http://twiliodocumentation.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        
      </div>
    </div>

    <div class="code-column">
      
  <div id="coderail" class="code-rail" data-uk-sticky="{boundary: true}">

  <div class="rail-placeholder"></div>

  <div class="rail-header uk-hidden">

    <div class="rail-header-wrapper">

      <div class="rail-navigation">
        <div class="inner">
          <a href="#previous" class="inactive" data-previous>
            <i class="fa fa-fw fa-arrow-left left"></i>
          </a>
        </div>
        <div class="inner">
          <span>
            <span class="current-index">1</span>
            <span>/</span>
            <span class="snippet-total">1</span>
          </span>
        </div>
        <div class="inner">
          <a href="#next" data-next>
            <i class="fa fa-fw fa-arrow-right"></i>
          </a>
        </div>
      </div>

      <div class="rail-title">
        <div class="title-content inner">
          <span>Loading Code Samples...</span>
          <i class="fa fa-fw fa-chevron-down"></i>
        </div>
      </div>

    </div>

  </div>

  <div class="rail-toolbar uk-hidden">

    <div class="rail-current-language">
      <div class="inner">
        <span>Language</span>
        <i class="fa fa-fw fa-chevron-down"></i>
      </div>
    </div>

    <div class="toolbar">
      <a href="#code" class="uk-hidden tab" data-code>Code</a>
      <a href="#output" class="uk-hidden inactive" data-output>Output</a>

      <span class="separator"></span>

      <a id="download" class="uk-hidden">
        <i class="fa fa-fw fa-download"></i>
        <span>Download Project</span>
      </a>

      <a id="github" class="uk-hidden" target="_blank">
        <i class="fa fa-fw fa-github-square"></i>
        <span>View on GitHub</span>
      </a>

      <a id="defrosty" class="fr-on" href="#defrosty">
        <i class="fa fa-fw fa-eye"></i>
        <span class="wider-tooltip">Toggle Highlighted Lines</span>
      </a>

      <a id="clippy" href="#copy">
        <i class="fa fa-fw fa-copy"></i>
        <span>Copy to Clipboard</span>
      </a>

      <a id="linkcode" href="#linkcode">
        <i class="fa fa-fw fa-link"></i>
        <span>Link to this Code</span>
      </a>

      <a href="#expand" data-expand>
        <i class="fa fa-fw fa-arrows-alt"></i>
        <span>Full Screen</span>
      </a>
      <a href="#collapse" class="uk-hidden" data-collapse>
        <i class="fa fa-fw fa-compress"></i>
        <span>Normal Size</span>
      </a>
    </div>
  </div>

  <div class="rail-samples">
    <ul>
      
        <li>
          <a href="#code-create-a-room">
            Create a Room
          </a>
        </li>
      
        <li>
          <a href="#code-join-a-room">
            Join a Room
          </a>
        </li>
      
        <li>
          <a href="#code-specify-constraints">
            Specify Constraints
          </a>
        </li>
      
        <li>
          <a href="#code-handle-participant-events">
            Handle Participant Events
          </a>
        </li>
      
        <li>
          <a href="#code-display-participants-video">
            Display Participants Video
          </a>
        </li>
      
        <li>
          <a href="#code-display-a-camera-preview">
            Display a Camera Preview
          </a>
        </li>
      
        <li>
          <a href="#code-disconnect-from-a-room">
            Disconnect from a Room
          </a>
        </li>
      
        <li>
          <a href="#code-video-constraints">
            Video Constraints
          </a>
        </li>
      
    </ul>
  </div>

  <div class="rail-languages"></div>

  <div class="rail-content">
    <div class="rail-content-inner">
      
        
        <div data-sample-title="Create a Room"
            data-sample="code-create-a-room" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/create-room/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="js">JavaScript</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="create-room.java"
                class="codehilite"><code><span class="code-line"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">connectToRoom</span><span class="o">(</span><span class="n">String</span> <span class="n">roomName</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">  <span class="n">ConnectOptions</span> <span class="n">connectOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ConnectOptions</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">roomName</span><span class="o">(</span><span class="n">roomName</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">localMedia</span><span class="o">(</span><span class="n">localMedia</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span><span class="code-line">  <span class="n">room</span> <span class="o">=</span> <span class="n">videoClient</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">connectOptions</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
</span><span class="code-line"><span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">      <span class="nd">@Override</span>
</span><span class="code-line">      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&quot;Connected to &quot;</span> <span class="o">+</span> <span class="n">room</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</span><span class="code-line">      <span class="o">}</span>
</span><span class="code-line">  <span class="o">}</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
            
              <pre data-ext="js" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/create-room.js"
                class="codehilite"><code><span class="code-line"><span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span><span class="nx">to</span><span class="o">:</span><span class="s1">&#39;my-new-room&#39;</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">room</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Successfully joined a Room: &#39;</span><span class="p">,</span> <span class="nx">room</span><span class="p">);</span>
</span><span class="code-line">  <span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A remote Participant connected: &#39;</span><span class="p">,</span> <span class="nx">participant</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">})</span>
</span><span class="code-line"><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Unable to connect to Room: &#39;</span> <span class="o">+</span>  <span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/create-room.m"
                class="codehilite"><code><span class="code-line"><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">createARoom</span> <span class="p">{</span>
</span><span class="code-line">	<span class="c1">// Create a room </span>
</span><span class="code-line">	<span class="n">TVIConnectOptions</span> <span class="o">*</span><span class="n">connectOptions</span> <span class="o">=</span> <span class="p">[</span><span class="n">TVIConnectOptions</span> <span class="nl">optionsWithBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">TVIConnectOptionsBuilder</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">builder</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">		<span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;my-new-room&quot;</span><span class="p">;</span>
</span><span class="code-line">	<span class="p">}];</span>
</span><span class="code-line">	<span class="n">TVIRoom</span> <span class="o">*</span><span class="n">room</span> <span class="o">=</span> <span class="p">[</span><span class="n">videoClient</span> <span class="nl">connectWithOptions</span><span class="p">:</span><span class="n">connectOptions</span> <span class="nl">delegate</span><span class="p">:</span><span class="nb">self</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">participantDidConnect:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="p">{</span>
</span><span class="code-line">	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant did connect:%@&quot;</span><span class="p">,</span> <span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="create-room.swift"
                class="codehilite"><code><span class="code-line"><span class="kr">@IBAction</span> <span class="kd">func</span> <span class="nf">createARoom</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="nb">AnyObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="kd">let</span> <span class="nv">connectOptions</span> <span class="p">=</span> <span class="n">TVIConnectOptions</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">block</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">builder</span><span class="p">)</span> <span class="k">in</span>
</span><span class="code-line">        <span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;my-room&quot;</span>
</span><span class="code-line">    <span class="p">})</span>
</span><span class="code-line">    <span class="n">room</span> <span class="p">=</span> <span class="n">videoClient</span><span class="p">.</span><span class="n">connectWithOptions</span><span class="p">(</span><span class="n">connectOptions</span><span class="p">,</span> <span class="n">delegate</span><span class="p">:</span> <span class="kc">self</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">didConnectToRoom</span><span class="p">(</span><span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Did connect to room&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Join a Room"
            data-sample="code-join-a-room" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/join-room/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="js">JavaScript</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="join-room.java"
                class="codehilite"><code><span class="code-line"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">connectToRoom</span><span class="o">(</span><span class="n">String</span> <span class="n">roomName</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">  <span class="n">ConnectOptions</span> <span class="n">connectOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ConnectOptions</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">roomName</span><span class="o">(</span><span class="n">roomName</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">localMedia</span><span class="o">(</span><span class="n">localMedia</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span><span class="code-line">  <span class="n">room</span> <span class="o">=</span> <span class="n">videoClient</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">connectOptions</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
</span><span class="code-line"><span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&quot;Connected to &quot;</span> <span class="o">+</span> <span class="n">room</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">  <span class="o">}</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
            
              <pre data-ext="js" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/join-room.js"
                class="codehilite"><code><span class="code-line"><span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span><span class="s1">&#39;to&#39;</span><span class="o">:</span><span class="s1">&#39;existing-room&#39;</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">room</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Successfully joined a Room: &#39;</span><span class="p">,</span> <span class="nx">room</span><span class="p">);</span>
</span><span class="code-line">  <span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A remote Participant connected: &#39;</span><span class="p">,</span> <span class="nx">participant</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">})</span>
</span><span class="code-line"><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Unable to connect to Room: &#39;</span> <span class="o">+</span>  <span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/join-room.m"
                class="codehilite"><code><span class="code-line"><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">joinRoom</span> <span class="p">{</span>
</span><span class="code-line">	<span class="c1">// Join an existing room </span>
</span><span class="code-line">	<span class="n">TVIConnectOptions</span> <span class="o">*</span><span class="n">connectOptions</span> <span class="o">=</span> <span class="p">[</span><span class="n">TVIConnectOptions</span> <span class="nl">optionsWithBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">TVIConnectOptionsBuilder</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">builder</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">		<span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;existing-room&quot;</span><span class="p">;</span>
</span><span class="code-line">	<span class="p">}];</span>
</span><span class="code-line">	<span class="n">TVIRoom</span> <span class="o">*</span><span class="n">room</span> <span class="o">=</span> <span class="p">[</span><span class="n">videoClient</span> <span class="nl">connectWithOptions</span><span class="p">:</span><span class="n">connectOptions</span> <span class="nl">delegate</span><span class="p">:</span><span class="nb">self</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">participantDidConnect:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="p">{</span>
</span><span class="code-line">	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant did connect:%@&quot;</span><span class="p">,</span> <span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="join-room.swift"
                class="codehilite"><code><span class="code-line"><span class="kr">@IBAction</span> <span class="kd">func</span> <span class="nf">joinRoom</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="nb">AnyObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="kd">let</span> <span class="nv">connectOptions</span> <span class="p">=</span> <span class="n">TVIConnectOptions</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">block</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">builder</span><span class="p">)</span> <span class="k">in</span>
</span><span class="code-line">        <span class="n">builder</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;existing-room&quot;</span>
</span><span class="code-line">    <span class="p">})</span>
</span><span class="code-line">    <span class="n">room</span> <span class="p">=</span> <span class="n">videoClient</span><span class="p">.</span><span class="n">connectWithOptions</span><span class="p">(</span><span class="n">connectOptions</span><span class="p">,</span> <span class="n">delegate</span><span class="p">:</span> <span class="kc">self</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">didConnectToRoom</span><span class="p">(</span><span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Did connect to room&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Specify Constraints"
            data-sample="code-specify-constraints" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/specify-constraints/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="js">JavaScript</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="specify-constraints.java"
                class="codehilite"><code><span class="code-line"><span class="k">if</span> <span class="o">(</span><span class="n">localMedia</span><span class="o">.</span><span class="na">getVideoTracks</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">  <span class="n">CameraCapturer</span> <span class="n">cameraCapturer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CameraCapturer</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">CameraSource</span><span class="o">.</span><span class="na">FRONT_CAMERA</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class="code-line">  <span class="n">LocalVideoTrack</span> <span class="n">localVideoTrack</span> <span class="o">=</span> <span class="n">localMedia</span><span class="o">.</span><span class="na">addVideoTrack</span><span class="o">(</span><span class="kc">true</span><span class="o">,</span> <span class="n">cameraCapturer</span><span class="o">);</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
            
              <pre data-ext="js" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/specify-constraints.js"
                class="codehilite"><code><span class="code-line"><span class="c1">// Create LocalMedia with a camera track and no microphone track</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nx">localMedia</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twilio</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">LocalMedia</span><span class="p">();</span>
</span><span class="code-line"><span class="nx">localMedia</span><span class="p">.</span><span class="nx">addCamera</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">&#39;my-room&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">localMedia</span><span class="o">:</span> <span class="nx">localMedia</span> <span class="p">});</span>
</span><span class="code-line"><span class="p">});</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Or, more simply:</span>
</span><span class="code-line"><span class="k">return</span> <span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">&#39;my-room&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">localStreamConstraints</span><span class="o">:</span> <span class="p">{</span> <span class="nx">audio</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/specify-constraints.m"
                class="codehilite"><code><span class="code-line"><span class="k">if</span> <span class="p">([</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span><span class="p">.</span><span class="n">videoTracks</span> <span class="n">count</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="nb">self</span><span class="p">.</span><span class="n">camera</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVICameraCapturer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line">	<span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="nl">addVideoTrack</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">capturer</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">camera</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="specify-constraints.swift"
                class="codehilite"><code><span class="code-line"><span class="k">if</span> <span class="p">(</span><span class="n">localMedia</span><span class="p">?.</span><span class="n">videoTracks</span><span class="p">.</span><span class="bp">count</span> <span class="p">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">      <span class="n">camera</span> <span class="p">=</span> <span class="n">TVICameraCapturer</span><span class="p">()</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span> <span class="p">=</span> <span class="n">localMedia</span><span class="p">?.</span><span class="n">addVideoTrack</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">capturer</span><span class="p">:</span> <span class="n">camera</span><span class="p">!)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">        
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Handle Participant Events"
            data-sample="code-handle-participant-events" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/handle-participant-events/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="js">JavaScript</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="handle-participant-events.java"
                class="codehilite"><code><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onParticipantConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">Participant</span> <span class="n">participant</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">&quot;Participant connected: &quot;</span> <span class="o">+</span> <span class="n">participant</span><span class="o">.</span><span class="na">getIdentity</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onParticipantDisconnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">Participant</span> <span class="n">participant</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">&quot;Participant disconnected: &quot;</span> <span class="o">+</span> <span class="n">participant</span><span class="o">.</span><span class="na">getIdentity</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
            
              <pre data-ext="js" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/handle-participant-events.js"
                class="codehilite"><code><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Participant connected: &#39;</span> <span class="o">+</span> <span class="nx">participant</span><span class="p">.</span><span class="nx">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span><span class="code-line">
</span><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantDisconnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Participant disconnected: &#39;</span> <span class="o">+</span> <span class="nx">participant</span><span class="p">.</span><span class="nx">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/handle-participant-events.m"
                class="codehilite"><code><span class="code-line"><span class="cp">#pragma mark - TVIParticipantDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">participant:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="nf">addedVideoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">videoTrack</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant %@ added a video track&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">participant:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="nf">removedVideoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">videoTrack</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant %@ removed a video track&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="handle-participant-events.swift"
                class="codehilite"><code><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIParticipantDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">participant</span><span class="p">(</span><span class="kc">_</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">,</span> <span class="n">addedVideoTrack</span> <span class="n">videoTrack</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Participant </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="si">)</span><span class="s"> added video track&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="kd">func</span> <span class="nf">participant</span><span class="p">(</span><span class="kc">_</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">,</span> <span class="n">removedVideoTrack</span> <span class="n">videoTrack</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Participant </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="si">)</span><span class="s"> removed video track&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Display Participants Video"
            data-sample="code-display-participants-video" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/display-participants-video/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="js">JavaScript</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="display-participants-video.java"
                class="codehilite"><code><span class="code-line"><span class="c1">// First, we set a Media Listener when a Participant first connects:</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onParticipantConnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">Participant</span> <span class="n">participant</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">      <span class="n">participant</span><span class="o">.</span><span class="na">getMedia</span><span class="o">().</span><span class="na">setListener</span><span class="o">(</span><span class="n">mediaListener</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span>
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* In the Media Listener, we can respond when the Participant adds a Video</span>
</span><span class="code-line"><span class="cm">Track by rendering it on screen: */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">Media</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">mediaListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Media</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">      <span class="nd">@Override</span>
</span><span class="code-line">      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onVideoTrackAdded</span><span class="o">(</span><span class="n">Media</span> <span class="n">media</span><span class="o">,</span> <span class="n">VideoTrack</span> <span class="n">videoTrack</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">        <span class="n">primaryVideoView</span><span class="o">.</span><span class="na">setMirror</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
</span><span class="code-line">        <span class="n">videoTrack</span><span class="o">.</span><span class="na">addRenderer</span><span class="o">(</span><span class="n">primaryVideoView</span><span class="o">);</span>
</span><span class="code-line">      <span class="o">}</span>
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
            
              <pre data-ext="js" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/display-participants-video.js"
                class="codehilite"><code><span class="code-line"><span class="c1">// Attach the Participant&#39;s Media to a &lt;div&gt; element.</span>
</span><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;participantConnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">participant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Participant &#39;&quot;</span> <span class="o">+</span>  <span class="nx">participant</span><span class="p">.</span><span class="nx">identity</span>  <span class="o">+</span> <span class="s2">&quot;&#39; connected&quot;</span><span class="p">);</span>
</span><span class="code-line">  <span class="nx">participant</span><span class="p">.</span><span class="nx">media</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="s1">&#39;#remote-media-div&#39;</span><span class="p">);</span>
</span><span class="code-line"><span class="p">});</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/display-participants-video.m"
                class="codehilite"><code><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate methods</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// First, we set a Participant Delegate when a Participant first connects: </span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">participantDidConnect:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant did connect:%@&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line">	<span class="n">participant</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="nb">self</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* In the Participant Delegate, we can respond when the Participant adds a Video</span>
</span><span class="code-line"><span class="cm">Track by rendering it on screen:*/</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cp">#pragma mark - TVIParticipantDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">participant:</span><span class="p">(</span><span class="n">TVIParticipant</span> <span class="o">*</span><span class="p">)</span><span class="nv">participant</span> <span class="nf">addedVideoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">videoTrack</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Participant %@ added a video track&quot;</span><span class="p">,</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
</span><span class="code-line">    <span class="n">videoTrack</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="nb">self</span><span class="p">;</span>
</span><span class="code-line">    <span class="p">[</span><span class="n">videoTrack</span> <span class="nl">attach</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">remoteMediaView</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Lastly, we can subscribe to important events on the Video Track</span>
</span><span class="code-line"><span class="cp">#pragma mark - TVIVideoTrackDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">videoTrack:</span><span class="p">(</span><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="p">)</span><span class="nv">track</span> <span class="nf">dimensionsDidChange:</span><span class="p">(</span><span class="n">CMVideoDimensions</span><span class="p">)</span><span class="nv">dimensions</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Dimensions changed to: %d x %d&quot;</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
</span><span class="code-line">    <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span> <span class="n">setNeedsUpdateConstraints</span><span class="p">];</span>
</span><span class="code-line">    
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="display-participants-video.swift"
                class="codehilite"><code><span class="code-line"><span class="c1">// First, we set a Participant Delegate when a Participant first connects: </span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">room</span><span class="p">(</span><span class="kc">_</span> <span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">,</span> <span class="n">participantDidConnect</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Participant connected: </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="p">!</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line">	<span class="n">participant</span><span class="p">.</span><span class="n">delegate</span> <span class="p">=</span> <span class="kc">self</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* In the Participant Delegate, we can respond when the Participant adds a Video</span>
</span><span class="code-line"><span class="cm">Track by rendering it on screen: */</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIParticipantDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">participant</span><span class="p">(</span><span class="kc">_</span> <span class="n">participant</span><span class="p">:</span> <span class="n">TVIParticipant</span><span class="p">,</span> <span class="n">addedVideoTrack</span> <span class="n">videoTrack</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Participant </span><span class="si">\(</span><span class="n">participant</span><span class="p">.</span><span class="n">identity</span><span class="si">)</span><span class="s"> added video track&quot;</span><span class="p">)</span>
</span><span class="code-line">	<span class="n">videoTrack</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="kc">self</span><span class="p">.</span><span class="n">remoteMediaView</span><span class="p">)</span>
</span><span class="code-line">	<span class="n">videoTrack</span><span class="p">.</span><span class="n">delegate</span> <span class="p">=</span> <span class="kc">self</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Lastly, we can subscribe to important events on the Video Track</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIVideoTrackDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">videoTrack</span><span class="p">(</span><span class="kc">_</span> <span class="n">track</span><span class="p">:</span> <span class="n">TVIVideoTrack</span><span class="p">,</span> <span class="n">dimensionsDidChange</span> <span class="n">dimensions</span><span class="p">:</span> <span class="n">CMVideoDimensions</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="bp">print</span><span class="p">(</span><span class="s">&quot;The dimensions of the video track changed to: </span><span class="si">\(</span><span class="n">dimensions</span><span class="p">.</span><span class="n">width</span><span class="si">)</span><span class="s">x</span><span class="si">\(</span><span class="n">dimensions</span><span class="p">.</span><span class="n">height</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Display a Camera Preview"
            data-sample="code-display-a-camera-preview" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/display-camera-preview/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="js">JavaScript</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="display-camera-preview.java"
                class="codehilite"><code><span class="code-line"><span class="cm">/* The CameraCapturer is a default video capturer provided by Twilio which can</span>
</span><span class="code-line"><span class="cm">   capture video from the front or rear-facing device camera */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">CameraCapturer</span> <span class="n">cameraCapturer</span><span class="o">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* A VideoView receives frames from a local or remote video track and renders them</span>
</span><span class="code-line"><span class="cm">   to an associated view. */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">VideoView</span> <span class="n">primaryVideoView</span><span class="o">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/*  LocalMedia represents our local camera and microphone (media) configuration</span>
</span><span class="code-line"><span class="cm">    that can be sent to other Participants in Rooms, or previewed locally */</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">LocalMedia</span> <span class="n">localMedia</span> <span class="o">=</span> <span class="n">LocalMedia</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Initialize the camera capturer and start the camera preview</span>
</span><span class="code-line"><span class="n">cameraCapturer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CameraCapturer</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">CameraSource</span><span class="o">.</span><span class="na">FRONT_CAMERA</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class="code-line"><span class="n">LocalVideoTrack</span> <span class="n">localVideoTrack</span> <span class="o">=</span> <span class="n">localMedia</span><span class="o">.</span><span class="na">addVideoTrack</span><span class="o">(</span><span class="kc">true</span><span class="o">,</span> <span class="n">cameraCapturer</span><span class="o">);</span>
</span><span class="code-line"><span class="n">primaryVideoView</span><span class="o">.</span><span class="na">setMirror</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span><span class="code-line"><span class="n">localVideoTrack</span><span class="o">.</span><span class="na">addRenderer</span><span class="o">(</span><span class="n">primaryVideoView</span><span class="o">);</span>
</span></code></pre>
            
              <pre data-ext="js" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/display-camera-preview.js"
                class="codehilite"><code><span class="code-line"><span class="kd">var</span> <span class="nx">previewMedia</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twilio</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">LocalMedia</span><span class="p">();</span>
</span><span class="code-line"><span class="nx">Twilio</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">getUserMedia</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span>
</span><span class="code-line">  <span class="kd">function</span> <span class="p">(</span><span class="nx">mediaStream</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">previewMedia</span><span class="p">.</span><span class="nx">addStream</span><span class="p">(</span><span class="nx">mediaStream</span><span class="p">);</span>
</span><span class="code-line">    <span class="nx">previewMedia</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="s1">&#39;#local-media&#39;</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">},</span>
</span><span class="code-line">  <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Unable to access local media&#39;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span><span class="code-line">  <span class="p">});</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/display-camera-preview.m"
                class="codehilite"><code><span class="code-line"><span class="cm">/* The CameraCapturer is a default video capturer provided by Twilio which can</span>
</span><span class="code-line"><span class="cm">capture video from the front or rear-facing device camera  */</span>
</span><span class="code-line"><span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">strong</span><span class="p">)</span> <span class="n">TVICameraCapturer</span> <span class="o">*</span><span class="n">camera</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Video Tracks (local or remote) can be attached to any UIView </span>
</span><span class="code-line"><span class="k">@property</span> <span class="p">(</span><span class="k">weak</span><span class="p">,</span> <span class="k">nonatomic</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="bp">UIView</span> <span class="o">*</span><span class="n">previewView</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* LocalMedia represents our local camera and microphone (media) configuration</span>
</span><span class="code-line"><span class="cm">that can be sent to other Participants in Rooms, or previewed locally */</span>
</span><span class="code-line"><span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">strong</span><span class="p">)</span> <span class="n">TVILocalMedia</span> <span class="o">*</span><span class="n">localMedia</span><span class="p">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Create a local video track, and render it in the preview view</span>
</span><span class="code-line"><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVILocalMedia</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line"><span class="nb">self</span><span class="p">.</span><span class="n">camera</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVICameraCapturer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line"><span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="nl">addVideoTrack</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">capturer</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">camera</span><span class="p">];</span>
</span><span class="code-line"><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed to add video track&quot;</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="code-line">	<span class="c1">// Attach view to video track for local preview</span>
</span><span class="code-line">	<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localVideoTrack</span> <span class="nl">attach</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">previewView</span><span class="p">];</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="display-camera-preview.swift"
                class="codehilite"><code><span class="code-line"><span class="cm">/* The CameraCapturer is a default video capturer provided by Twilio which can</span>
</span><span class="code-line"><span class="cm">capture video from the front or rear-facing device camera  */</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">camera</span> <span class="p">=</span> <span class="n">TVICameraCapturer</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Video Tracks (local or remote) can be attached to any UIView </span>
</span><span class="code-line"><span class="kr">@IBOutlet</span> <span class="kr">weak</span> <span class="kd">var</span> <span class="nv">previewView</span><span class="p">:</span> <span class="bp">UIView</span><span class="p">!</span>
</span><span class="code-line">
</span><span class="code-line"><span class="cm">/* LocalMedia represents our local camera and microphone (media) configuration</span>
</span><span class="code-line"><span class="cm">that can be sent to other Participants in Rooms, or previewed locally */</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">localMedia</span> <span class="p">=</span> <span class="n">TVILocalMedia</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Create a local video track, and render it in the preview view</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">localVideoTrack</span> <span class="p">=</span> <span class="n">localMedia</span><span class="p">?.</span><span class="n">addVideoTrack</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">capturer</span><span class="p">:</span> <span class="n">camera</span><span class="p">!)</span>
</span><span class="code-line"><span class="k">if</span> <span class="p">(</span><span class="n">localVideoTrack</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">logMessage</span><span class="p">(</span><span class="n">messageText</span><span class="p">:</span> <span class="s">&quot;Failed to add video track&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="code-line">    <span class="c1">// Attach view to video track for local preview</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span><span class="p">!.</span><span class="n">attach</span><span class="p">(</span><span class="n">reviewView</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Disconnect from a Room"
            data-sample="code-disconnect-from-a-room" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/disconnect-from-room/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="js">JavaScript</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="disconnect-from-room.java"
                class="codehilite"><code><span class="code-line"><span class="c1">// To disconnect from a Room, we call:</span>
</span><span class="code-line"><span class="n">room</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// This results in a call to Room.Listener#onDisconnected</span>
</span><span class="code-line"><span class="kd">private</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span> <span class="nf">roomListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">  <span class="k">return</span> <span class="k">new</span> <span class="n">Room</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
</span><span class="code-line">    <span class="nd">@Override</span>
</span><span class="code-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDisconnected</span><span class="o">(</span><span class="n">Room</span> <span class="n">room</span><span class="o">,</span> <span class="n">TwilioException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class="code-line">        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&quot;Disconnected from &quot;</span> <span class="o">+</span> <span class="n">room</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</span><span class="code-line">    <span class="o">}</span> 
</span><span class="code-line">  <span class="o">};</span>
</span><span class="code-line"><span class="o">}</span>
</span></code></pre>
            
              <pre data-ext="js" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/disconnect-from-room.js"
                class="codehilite"><code><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;disconnected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">room</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">  <span class="cm">/* Release the local camera and microphone if we&#39;re no longer using this </span>
</span><span class="code-line"><span class="cm">  LocalMedia instance in another Room */</span>
</span><span class="code-line">  <span class="nx">room</span><span class="p">.</span><span class="nx">localParticipant</span><span class="p">.</span><span class="nx">media</span><span class="p">.</span><span class="nx">detach</span><span class="p">();</span>
</span><span class="code-line"><span class="p">});</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// To disconnect from a Room</span>
</span><span class="code-line"><span class="nx">room</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/disconnect-from-room.m"
                class="codehilite"><code><span class="code-line"><span class="c1">// To disconnect from a room, we call:</span>
</span><span class="code-line"><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">room</span> <span class="n">disconnect</span><span class="p">];</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// This results in a callback to TVIRoomDelegate#room:didDisconnectWithError</span>
</span><span class="code-line"><span class="cp">#pragma mark - TVIRoomDelegate methods</span>
</span><span class="code-line"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">room:</span><span class="p">(</span><span class="n">TVIRoom</span> <span class="o">*</span><span class="p">)</span><span class="nv">room</span> <span class="nf">didDisconnectWithError:</span><span class="p">(</span><span class="bp">NSError</span> <span class="o">*</span><span class="p">)</span><span class="nv">error</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Did disconnect from room&quot;</span><span class="p">);</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="disconnect-from-room.swift"
                class="codehilite"><code><span class="code-line"><span class="c1">// To disconnect from a Room, we call:</span>
</span><span class="code-line"><span class="n">room</span><span class="p">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// This results in a callback to TVIRoomDelegate#room:didDisconnectWithError</span>
</span><span class="code-line"><span class="c1">// </span><span class="cs">MARK:</span><span class="c1"> TVIRoomDelegate</span>
</span><span class="code-line"><span class="kd">func</span> <span class="nf">room</span><span class="p">(</span><span class="kc">_</span> <span class="n">room</span><span class="p">:</span> <span class="n">TVIRoom</span><span class="p">,</span> <span class="n">didDisconnectWithError</span> <span class="n">error</span><span class="p">:</span> <span class="n">Error</span><span class="p">?)</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Disconnected from room </span><span class="si">\(</span><span class="n">room</span><span class="p">.</span><span class="n">name</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
        
        <div data-sample-title="Video Constraints"
            data-sample="code-video-constraints" 
            data-pref="mobile"
            data-download-url=""
            data-github-url="https://github.com/TwilioDevEd/api-snippets/blob/master/video/rooms/video-constraints/{{ filename }}"
            class="code-sample">

          <div class="sample-language-data" style="display:none;">
            <select>
              
                <option value="java">Java</option>
              
                <option value="m">Objective-C</option>
              
                <option value="swift">Swift</option>
              
            </select>
          </div>

          
            
          
            
          
            
          

          

          <div class="snippet-container">
            
              <pre data-ext="java" 
                data-version="default"
                data-filename="video-constraints.java"
                class="codehilite"><code><span class="code-line"><span class="c1">// Create camera capturer</span>
</span><span class="code-line"><span class="n">CameraCapturer</span> <span class="n">cameraCapturer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CameraCapturer</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> 
</span><span class="code-line">    <span class="n">CameraCapturer</span><span class="o">.</span><span class="na">CameraSource</span><span class="o">.</span><span class="na">FRONT_CAMERA</span><span class="o">);</span>
</span><span class="code-line">    
</span><span class="code-line"><span class="c1">// Setup video constraints</span>
</span><span class="code-line"><span class="n">VideoConstraints</span> <span class="n">videoConstraints</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VideoConstraints</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">aspectRatio</span><span class="o">(</span><span class="n">VideoConstraints</span><span class="o">.</span><span class="na">ASPECT_RATIO_16_9</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">minVideoDimensions</span><span class="o">(</span><span class="n">VideoDimensions</span><span class="o">.</span><span class="na">CIF_VIDEO_DIMENSIONS</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">maxVideoDimensions</span><span class="o">(</span><span class="n">VideoDimensions</span><span class="o">.</span><span class="na">HD_720P_VIDEO_DIMENSIONS</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">minFps</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">maxFps</span><span class="o">(</span><span class="mi">24</span><span class="o">)</span>
</span><span class="code-line">    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Add a video track with constraints</span>
</span><span class="code-line"><span class="n">LocalVideoTrack</span> <span class="n">localVideoTrack</span> <span class="o">=</span> <span class="n">localMedia</span><span class="o">.</span><span class="na">addVideoTrack</span><span class="o">(</span><span class="kc">true</span><span class="o">,</span> <span class="n">cameraCapturer</span><span class="o">,</span> <span class="n">videoConstraints</span><span class="o">);</span>
</span></code></pre>
            
              <pre data-ext="m" 
                data-version="default"
                data-filename="https://www.twilio.com/docs/api/video/video-constraints.m"
                class="codehilite"><code><span class="code-line"><span class="c1">// Create camera object</span>
</span><span class="code-line"><span class="n">TVICameraCapturer</span> <span class="o">*</span><span class="n">camera</span> <span class="o">=</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVICameraCapturer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Setup the video constraints</span>
</span><span class="code-line"><span class="n">TVIVideoConstraints</span> <span class="o">*</span><span class="n">videoConstraints</span> <span class="o">=</span> <span class="p">[</span><span class="n">TVIVideoConstraints</span> <span class="nl">constraintsWithBlock</span><span class="p">:</span>
</span><span class="code-line">                              <span class="o">^</span><span class="p">(</span><span class="n">TVIVideoConstraintsBuilder</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">builder</span><span class="p">)</span> <span class="p">{</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">maxSize</span> <span class="o">=</span><span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">minSize</span> <span class="o">=</span><span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">maxFrameRate</span> <span class="o">=</span><span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line">                              <span class="n">builder</span><span class="p">.</span><span class="n">minFrameRate</span> <span class="o">=</span><span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line">                              <span class="p">}];</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Add local video track with camera and video constraints</span>
</span><span class="code-line"><span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class="code-line"><span class="n">TVIVideoTrack</span> <span class="o">*</span><span class="n">localVideoTrack</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">localMedia</span> <span class="nl">addVideoTrack</span><span class="p">:</span><span class="nb">YES</span>
</span><span class="code-line">                                                       <span class="nl">capturer</span><span class="p">:</span><span class="n">camera</span>
</span><span class="code-line">                                                    <span class="nl">constraints</span><span class="p">:</span><span class="n">videoConstraints</span>
</span><span class="code-line">                                                          <span class="nl">error</span><span class="p">:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>
</span></code></pre>
            
              <pre data-ext="swift" 
                data-version="default"
                data-filename="video-constraints.swift"
                class="codehilite"><code><span class="code-line"><span class="c1">// Create camera object</span>
</span><span class="code-line"><span class="kd">let</span> <span class="nv">camera</span> <span class="p">=</span> <span class="n">TVICameraCapturer</span><span class="p">()</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Setup the video constraints</span>
</span><span class="code-line"><span class="kd">let</span> <span class="nv">videoConstraints</span> <span class="p">=</span> <span class="n">TVIVideoConstraints</span> <span class="p">{</span> <span class="p">(</span><span class="n">constraints</span><span class="p">)</span> <span class="k">in</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">maxSize</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">minSize</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsSize960x540</span><span class="p">;</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">maxFrameRate</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line">    <span class="n">constraints</span><span class="p">.</span><span class="n">minFrameRate</span> <span class="p">=</span> <span class="n">TVIVideoConstraintsFrameRateNone</span><span class="p">;</span>
</span><span class="code-line"><span class="p">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="c1">// Add local video track with camera and video constraints</span>
</span><span class="code-line"><span class="kd">var</span> <span class="nv">localVideoTrack</span><span class="p">:</span><span class="n">TVILocalVideoTrack</span><span class="p">?</span>
</span><span class="code-line"><span class="k">do</span> <span class="p">{</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span> <span class="p">=</span> <span class="n">try</span> <span class="n">localMedia</span><span class="p">?.</span><span class="n">addVideoTrack</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">capturer</span><span class="p">:</span> <span class="n">camera</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">videoConstraints</span><span class="p">)</span>
</span><span class="code-line"><span class="p">}</span> <span class="n">catch</span> <span class="kd">let</span> <span class="nv">error</span> <span class="kc">as</span> <span class="bp">NSError</span> <span class="p">{</span>
</span><span class="code-line">    <span class="bp">print</span> <span class="p">(</span><span class="s">&quot;Error: Failed to create a video track using the local camera. error = </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="code-line">    <span class="n">localVideoTrack</span> <span class="p">=</span> <span class="kc">nil</span>
</span><span class="code-line"><span class="p">}</span>
</span></code></pre>
            
          </div>

          <div class="output-snippet-container">
            
          </div>

        </div>
        
      
    </div>
  </div>
</div>


    </div>

  </div>

      </div>
    </div>

    
    


<div class="footer" data-swiftype-index="false">
  <div class="uk-container uk-container-center">
    <div class="footer__statement">We can’t wait to see what you build.</div>
    <div class="uk-grid">
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Products</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/voice-video" class="footer__link">Voice &amp; Video</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/messaging" class="footer__link">Messaging</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/authy" class="footer__link">Authentication</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/wireless" class="footer__link">Connected Devices</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Use Cases</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/access-security" class="footer__link">Access Security</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/contextual-call-center" class="footer__link">Contextual Call Center</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/marketplace-communications" class="footer__link">Marketplace Communications</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/mobile-messaging" class="footer__link">Mobile Messaging</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">About</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/what-is-cloud-communications?" class="footer__link">What is Twilio?</a>
            </li>
            <li class="footer__list-item">
              <a href="https://customers.twilio.com/" class="footer__link">Customers</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help" class="footer__link">Get Help</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help/sales" class="footer__link">Talk to Sales</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-medium-2-5">
        <section class="footer__section">
  <header class="footer__header">Hits From The Blog</header>
  <ul class="footer__list footer__list">
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/building-an-ivr-with-no-code-by-using-taskrouter-as-a-state-machine.html" class="footer__link">Building an IVR with no code by using TaskRouter as a state machine</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/logrole-gives-you-permissions-based-granular-searching-for-twilio-logs.html" class="footer__link">Logrole Gives You Permissions Based, Granular Searching For Twilio Logs</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-callbacks-with-stamplay-twilio-and-unbounce.html" class="footer__link">Build Callbacks With Stamplay, Twilio and Unbounce</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-a-basic-call-center-in-just-a-few-minutes-with-twilio.html" class="footer__link">Build a Basic Call Center in Just a Few Minutes with Twilio</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/redact-delete-sms-messages-node-js.html" class="footer__link">Redact or Delete SMS Messages as They Arrive with Node.js</a>
    </li>
    
  </ul>

</section>
      </div>
    </div>
    <footer class="footer__footer">
      <div class="footer__logo" title="Twilio">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">
          <path d="M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11z"/>
          <circle cx="18.7" cy="11.3" r="3.1"/>
          <circle cx="18.7" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="11.3" r="3.1"/>
        </svg>
      </div>
      <ul class="legal__list">
        <li class="legal__list-item">
          <a href="https://www.twilio.com/company" class="legal__link">About Twilio</a>
        </li>
        <li class="legal__list-item">
          <a href="https://www.twilio.com/legal" class="legal__link">Legal</a>
        </li>
        <li class="legal__list-item">Copyright &copy; 2016 Twilio, Inc. 
          <br class="uk-visible-small">All Rights Reserved.
        </li>
      </ul>
    </footer>
  </div>
</div>


    
    <script src="https://www.twilio.com/docs/static/js/vendor.min.16abf41c42de.js"></script>
    

  

  <!-- Mixpanel -->
  <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
  typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,
    e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
    mixpanel.init("f71c19735fa6ecc5225ff563285e1794");
    </script>
  

  
    <!-- Heap -->
    <script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
    heap.load('1541905715');
    </script>
  

  
    <!-- GA -->
    <script type="text/javascript">
    try {
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2900316-1']);
      _gaq.push(['_setSiteSpeedSampleRate', 50]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    } catch(err) {}

    var _kmq = _kmq || [];
    </script>
  

  
    <!-- Eloqua -->
    <script type="text/javascript">
    var _elqQ = _elqQ || [];
    _elqQ.push(['elqSetSiteId', '815114181']);
    _elqQ.push(['elqTrackPageView']);
    _elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);

    (function () {
      function async_load() {
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
        s.src = 'http://img03.en25.com/i/elqCfg.min.js';
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
      }
      if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
      else if (window.attachEvent) window.attachEvent('onload', async_load);
    })();
    </script>
  

  
    <!-- Transifex -->
    <script type="text/javascript">
    window.liveSettings = {
      api_key: '4c06c1c5a6b341e591d969476fe2675f'
    };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>
    <style>
    .txlive-langselector { display: none; }
    </style>
  

  



    
      <script src="https://www.twilio.com/docs/static/js/docs.min.0c5bb1abb16f.js"></script>
    

    
    



    

  </body>

<!-- Mirrored from www.twilio.com/docs/api/video/rooms by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:58 GMT -->
</html>
