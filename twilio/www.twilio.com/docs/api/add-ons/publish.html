


<!DOCTYPE html>
<html class="no-js">
  
<!-- Mirrored from www.twilio.com/docs/api/add-ons/publish by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
	<!-- Optimizely -->
	<script src="https://cdn.optimizely.com/js/6082066.js"></script>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    
    
    
    

    <title>
      Add-on Publisher Guide - Twilio
    </title>

    <link rel="canonical" href="https://www.twilio.com/docs/api/add-ons/publish" />

    
    <link rel="shortcut icon" href="https://www.twilio.com/docs/static/img/favicons/favicon.db41f19ea294.ico"/>
    <link rel="apple-touch-icon" href="https://www.twilio.com/docs/static/img/favicons/favicon_57.98200b6899e6.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.twilio.com/docs/static/img/favicons/favicon_72.86ae17486256.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.twilio.com/docs/static/img/favicons/favicon_114.ee1859950ad4.png"/>

    
    <link rel="stylesheet" type="text/css" href="http://cloud.typography.com/6230892/752864/css/fonts.css">
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-awesome.min.295235b28b6e.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/twilio-icons.45de73e993f2.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-mfizz.818f36cb00cc.css" />

    
    
    <meta property="og:title" content="Add-on Publisher Guide">
    
    
    
    <meta property="og:url" content="https://www.twilio.com/docs/api/add-ons/publish?utm_source=docs&utm_medium=social&utm_campaign=guides_tags">

    
    
    <meta name="twitter:title" content="Add-on Publisher Guide">
    
    
    

    
    

    

    
      <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/docs.min.05ed18599e08.css" />
    

    
    

    
    <script>
  var twilio = twilio || {};
  twilio.realm = "prod";
  twilio.SWIFTYPE_ENGINE_KEY = "T68bXEBf7NaKzyRpvbnG";
</script>


<script>
  twilio.account = twilio.account || {};
  

  twilio.user = twilio.user || {};
  
  

</script>


    <script>
  
  window.userBetaFeatures = ["marketplace", "enable-video-rooms"];
</script>

  </head>

  <body class="
    
      apireference
    
    
    
  ">

    

	
	<!-- Google Tag Manager -->
	<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-MWRD6S"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window, document, 'script', 'dataLayer', 'GTM-MWRD6S');</script>
	<!-- End Google Tag Manager -->
	



    
    <div role="drawer" class="nav__drawer">
  <div role="drawer__wrapper" class="nav__drawer-wrapper">
    <div role="drawer__nav" class="nav__drawer-nav"><span class="nav__drawer-auth"><a href="https://www.twilio.com/login" class="nav__drawer-auth-link">Log In</a><a href="https://www.twilio.com/try-twilio" class="nav__drawer-auth-link">Sign Up</a></span><a href="#close" role="drawer__close" class="nav__drawer-close">Close</a></div>
    <div class="nav__drawer-menu">
      <div class="nav__drawer-container">
        <div class="nav__drawer-grid">
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Products</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/voice-video" class="nav__drawer-link nav__drawer-link--category">Voice &amp; Video</a></li>
                  <li><a href="https://www.twilio.com/voice" class="nav__drawer-link">Programmable Voice</a></li>
                  <li><a href="https://www.twilio.com/video" class="nav__drawer-link">Programmable Video</a></li>
                  <li><a href="https://www.twilio.com/sip-trunking" class="nav__drawer-link">Elastic SIP Trunking</a></li>
                  <li><a href="https://www.twilio.com/taskrouter" class="nav__drawer-link">TaskRouter</a></li>
                  <li><a href="https://www.twilio.com/stun-turn" class="nav__drawer-link">Network Traversal</a></li>
                </ul>
                <ul>
                  <li><a href="https://www.twilio.com/messaging" class="nav__drawer-link nav__drawer-link--category">Messaging</a></li>
                  <li><a href="https://www.twilio.com/sms" class="nav__drawer-link">Programmable SMS</a></li>
                  <li><a href="https://www.twilio.com/chat" class="nav__drawer-link">Programmable Chat</a></li>
                  <li><a href="https://www.twilio.com/notify" class="nav__drawer-link">Notify</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Authentication</div>
                  </li>
                  <li><a href="https://www.twilio.com/authy" class="nav__drawer-link">Authy</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Connectivity</div>
                  </li>
                  <li><a href="https://www.twilio.com/lookup" class="nav__drawer-link">Lookup</a></li>
                  <li><a href="https://www.twilio.com/phone-numbers" class="nav__drawer-link">Phone Numbers</a></li>
                  <li><a href="https://www.twilio.com/wireless" class="nav__drawer-link">Programmable Wireless</a></li>
                  <li><a href="https://www.twilio.com/sync" class="nav__drawer-link">Sync</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Marketplace</div>
                  </li>
                  <li><a href="https://www.twilio.com/marketplace/add-ons" class="nav__drawer-link">Add-ons</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Platform</div>
                  </li>
                  <li><a href="https://www.twilio.com/enterprise" class="nav__drawer-link">Enterprise Plan</a></li>
                  <li><a href="https://www.twilio.com/interconnect" class="nav__drawer-link">Interconnect</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Use Cases</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <ul>
                <li><a href="https://www.twilio.com/use-cases/access-security" class="nav__drawer-link nav__drawer-link--category">Access Security</a></li>
                <li><a href="https://www.twilio.com/use-cases/call-and-text-marketing" class="nav__drawer-link nav__drawer-link--category">Call &amp; Text Marketing</a></li>
                <li><a href="https://www.twilio.com/use-cases/collaboration" class="nav__drawer-link nav__drawer-link--category">Collaboration</a></li>
                <li><a href="https://www.twilio.com/use-cases/commerce-communications" class="nav__drawer-link nav__drawer-link--category">Commerce Communications</a></li>
                <li><a href="https://www.twilio.com/use-cases/contact-center" class="nav__drawer-link nav__drawer-link--category">Contact Center</a></li>
              </ul>
              <hr>
            </div>
            <div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://customers.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Customer Stories</a></li>
                  <li><a href="https://www.twilio.com/showcase" class="nav__drawer-link nav__drawer-link--small">Partner Showcase</a></li>
                  <li><a href="https://www.twilio.com/what-is-cloud-communications?" class="nav__drawer-link nav__drawer-link--small">Why Twilio?</a></li>
                  <li><a href="https://www.twilio.com/support-plans" class="nav__drawer-link nav__drawer-link--small">Support Plans</a></li>
                  <li><a href="http://status.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Status</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/docs" class="nav__drawer-link nav__drawer-link--small">API &amp; Docs</a></li>
                  <li><a href="https://www.twilio.com/blog" class="nav__drawer-link nav__drawer-link--small">Blog</a></li>
                  <li><a href="https://www.twilio.com/help" class="nav__drawer-link nav__drawer-link--small">Help</a></li>
                  <li><a href="https://www.twilio.com/company/jobs" class="nav__drawer-link nav__drawer-link--small">Jobs at Twilio</a></li>
                </ul>
              </div>
            </div>
            <div class="nav__sales"><a href="https://www.twilio.com/help/sales" class="nav__sales-button">Talk to Sales</a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div role="nav" class="nav nav--subnav nav--inverted nav--transparent " data-subnav-length="40">
  <div role="nav__menu" class="nav__header">
    <div class="nav__title"><a href="https://www.twilio.com/" class="nav__logo">Twilio</a></div>
    <nav class="nav__menu">
      <ul class="nav__menu-items">
        <li class="nav__menu-item"></li>
        
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/login" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="10.2" height="13.5" viewBox="0 0 10.2 13.5">
              <circle fill="none" stroke="#F22F46" stroke-miterlimit="10" cx="5.1" cy="3" r="2.5"></circle>
              <path fill="none" stroke="#F22F46" stroke-miterlimit="10" d="M.5 13.5c0-2.5 2.1-4.6 4.6-4.6s4.6 2.1 4.6 4.6"></path>
            </svg>
            Log In
          </a>
        </li>
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/try-twilio" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">
              <path d="M0 6.5h13M6.5 0v13" fill="none" stroke="#F22F46" stroke-miterlimit="10"></path>
            </svg>
            Sign Up
          </a>
        </li>
        
        <li class="nav__menu-item"><a href="#menu" role="nav__activate" class="nav__menu-link nav__menu-activate"><span></span>Menu &amp; Products</a></li>
      </ul>
    </nav>
    <nav role="subnav" class="nav__subnav">
      <header class="nav__subnav-header">
        <a href="https://www.twilio.com/docs" class="nav__subnav-header-link">Docs</a>
        
          <a href="https://www.twilio.com/docs/api" role="subnav__dropdown" 
            class="nav__subnav-link nav__subnav-current">API Reference</a>
        
      </header>
      <ul role="subnav__items" class="nav__subnav-items">
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/quickstart" class="nav__subnav-link">Quickstart</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/guides" class="nav__subnav-link">Guides</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/tutorials" class="nav__subnav-link">Tutorials</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/api" class="nav__subnav-link">API Reference</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/libraries" class="nav__subnav-link">SDKs</a>
        </li>
      </ul>
    </nav>
  </div>
</div>



    
    
      

<div class="docs__pagenav">
  <div class="uk-container uk-container-center">
    <div class="uk-grid">
      <div class="uk-width-3-4 uk-hidden-small">
      
      
        <div class="breadcrumbs">
          
            
          
            
          
            
              <a href="https://www.twilio.com/docs/api">API Reference</a> &gt;
            
          
            
              <a href="https://www.twilio.com/docs/api/add-ons">Twilio Add-ons</a> &gt;
            
          
          <span>Add-on Publisher Guide</span>
        </div>
      
      </div>

      
      <div class="uk-width-1-1 uk-width-medium-1-4">
  <div class="search">
    <form action="https://www.twilio.com/docs/search" method="GET">
      <div class="wrapper">
        <input id="search-box" name="q" type="text" value=""/>
      </div>
      <button type="submit">
        <i class="fa fa-fw fa-search"></i>
      </button>
    </form>
  </div>
</div>

    </div>
  </div>
</div>

    

    <div class="docs-container">
      <div class="uk-container">
        
        
  <div class="coderail-container">

    <div class="sidenav-column">
      <div class="theme-switcher uk-hidden-small">
  <div class="theme-wrapper">
    <a data-theme="light" class="selected">
      <i class="fa fa-fw fa-sun-o"></i>
    </a>
    <a data-theme="dark" >
      <i class="fa fa-fw fa-moon-o"></i>
    </a>
  </div>
</div>
      
        <div class="sidenav" data-uk-sticky="{boundary: true}">
          

<ul id="doc_menu" class="sidenav__section" data-swiftype-index="false">

  <!-- Page entries -->
  
    <li id="dynamic-menu">
      <ul>
        
          
          



  <li 
    data-beta-feature="marketplace">
      <a href="https://www.twilio.com/docs/api/add-ons">
          Twilio Add-Ons
      </a>
  </li>



        
          
            
<li class="menu-title expanded" role="menu-title" id="doc-navigation-parent">
  Add-on Publisher Guide
</li>
<ul class="menu-accordion expanded" role="menu-accordion" id="doc-navigation"></ul>

          
          
<li class="menu-title" role="menu-title">

    <span class="heading">Using Add-ons</span>
</li>


<ul class="menu-accordion" role="menu-accordion">

    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/api/add-ons/using-add-ons">
          Using Add-ons
      </a>
  </li>



    
        



  <li 
    >
      <a href="https://www.twilio.com/docs/api/add-ons/results-api">
          Add-on Results API
      </a>
  </li>



    
</ul>

        
          
          



  <li class="active"
    >
      <a href="https://www.twilio.com/docs/api/add-ons/publish">
          Add-on Publisher Guide
      </a>
  </li>



        
          
          



  <li 
    >
      <a href="https://www.twilio.com/docs/api/add-ons/publisher-onboarding">
          Publisher Onboarding
      </a>
  </li>



        
          
          



  <li 
    >
      <a href="https://www.twilio.com/docs/api/add-ons/publisher-onboarding/collateral-requirements">
          Add-on Submission Guide
      </a>
  </li>



        
        
      </ul>
    </li>
  
</ul>

        </div>
      
    </div>

    <div class="primary-column 
        ">
      <div class="docs-prose">
        
  
    
    <h1 class="page-title ">
      Add-on Publisher Guide
    </h1>
    
  
  
    <div class="block-markdown ">
      
        

<div>
    <p>Twilio Marketplace is an API-enabled platform for 3rd parties to offer products and services that are built on or complementary to Twilio’s products, for sale to Twilio’s massive developer community. </p>
<p>Developers discover &amp; install complementary, API driven services via a central self-serve marketplace experience and invoke them in a standard manner as part of the core Twilio API. Twilio manages the listing, configuration, developer facing API points, billing and partner payment.</p>
<p>This Guide is designed for 3rd party Partners who wish to integrate their services into the Twilio Marketplace. It provides an overview of marketplace offerings and API requirements. </p>
<p><br></p>
<h2 id="offerings"><a class="toclink" href="#offerings">Add-Ons Overview</a></h2>
<p>The first type of product available in the Marketplace is an Add-on. </p>
<p>Add-ons are pre-integrated partner technologies that let developers do more with the Twilio API. They make it possible to quickly build rich communications experiences by combining Twilio and 3rd-party capabilities by giving you the ability to choose the right technology for your needs  without having to learn, test, and manage different platforms.</p>
<p>Add-ons are available through the Twilio Marketplace; developers can choose from a list of verified Add-ons and install them in a single click. Once installed, they enhance Twilio APIs to deliver the partner capability, such as returning the spam score of a phone number or providing sentiment analysis for a message.</p>
<p>At a functional level, Add-ons package Partner APIs, and annotate the content that Twilio provides by tapping into the Partner’s data sources or using Partner’s technology to analyze the content. Examples include Phone number based queries for demographic &amp; marketing data, Number fraud/spam blacklist, Recordings Transcription, Message sentiment analysis, etc. </p>
<p>Currently, the following Twilio content is available for Add-on partners to build with : Phone Numbers, Incoming Message body, Call recordings.</p>
<table>
<thead>
<tr>
<th>Add-on Type</th>
<th>Available Integration Point(s) for Customers</th>
<th>Data available to Partners</th>
<th>Consumption Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td>Phone Number Add-on</td>
<td>Lookups, Incoming SMS, Incoming Voice</td>
<td>Phone Number (single, to, from)</td>
<td>Synchronous</td>
</tr>
<tr>
<td>Message Analysis Add-on</td>
<td>Incoming SMS</td>
<td>Phone Numbers, Message Body</td>
<td>Synchronous</td>
</tr>
<tr>
<td>Recording Analysis Add-on</td>
<td>Recordings</td>
<td>Audio File (single channel)</td>
<td>Asynchronous</td>
</tr>
</tbody>
</table>
<p>Developers select an Add-on and configure it for their account, making it available for use. They can then specify that they want it invoked when using a supporting Twilio API. </p>
<h3 id="add-on-flow"><a class="toclink" href="#add-on-flow">Add-on Flow</a></h3>
<p><img alt="image alt text" src="http://com.twilio.prod.twilio-docs.s3-website-us-east-1.amazonaws.com/images/image_0.original.png" /></p>
<h3 id="pricing-billing"><a class="toclink" href="#pricing-billing">Pricing &amp; Billing</a></h3>
<p>The Marketplace allows Partners to set their own pricing for their Add-ons and invokes the Twilio Billing system for usage-based billing. Use of a partner’s Add-on will be metered by Twilio and deducted from the developers account. The amount billed will be distributed to partners at regular intervals, less a transaction fee, via an invoice.</p>
<p>The following billing models are supported by the Marketplace for an Add-on:</p>
<ul>
<li>
<p>Pay-per-use </p>
</li>
<li>
<p>Pay-per-success (TBD) : Conditional billing subject to absence of certain JSON elements in the response and HTTP status codes. </p>
</li>
<li>
<p>Pay-per-minute : For Transcription / Recording Add-ons</p>
</li>
</ul>
<h2 id="packaging-partner-service-into-add-ons"><a class="toclink" href="#packaging-partner-service-into-add-ons">Packaging Partner Service into Add-ons</a></h2>
<p>Partners can offer one or more Add-ons in the marketplace. They can choose to package 1 service/API into one Add-on, or deliver 1 service/API as multiple Add-ons, each with a specific use case and associated pricing. Examples of the latter include different kinds of data sets (Business vs Consumer information) or Transcription for different languages. </p>
<h3 id="partner-accounts"><a class="toclink" href="#partner-accounts">Partner Accounts</a></h3>
<p>Currently, Twilio supports one ‘master’ account per Partner offering, and will use that to make all API requests. </p>
<h3 id="example"><a class="toclink" href="#example">Example</a></h3>
<p>Let’s say you have an web service that takes a phone number and returns all the english mnemonics you can spell with it.  You’d like to let any Twilio customer dip your service via the Twilio Lookup API to see potential results, and you want to charge $0.0001 per lookup. </p>
<p>Assume that this is delivered by the following API (ignoring credentials for the time being):</p>
<div class="codehilite"><pre><span class="code-line">https://www.example.com/twilio_phone_number_example  -d &quot;e164=+18778894546&quot;
</span></pre></div>

<p>Results in the following JSON response : </p>
<div class="codehilite"><pre><span class="code-line"><span class="p">{</span>
</span><span class="code-line"><span class="nt">&quot;anagrams&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;+18778TWILIO&quot;</span><span class="p">,</span> <span class="err">…</span><span class="p">]</span>
</span><span class="code-line"><span class="p">}</span>
</span></pre></div>

<p>You would deliver this service as a marketplace Add-on -- ‘Anagram’, which contains all the marking and documentation collateral, as well as configuration pointing at the URL for a web service that confirms to Twilio's specification for phone number lookup services.  A Twilio developer finds and installs this service on their account.  They now would have the ability to use the Anagram Add-on in the Lookup API, when buying/provisioning phone numbers, receiving incoming calls or messages, or making outgoing calls or messages, if appropriate.</p>
<div class="codehilite"><pre><span class="code-line">curl <span class="err">-</span>X GET <span class="l">https://lookups.twilio.com/v1/PhoneNumbers/18778894546\</span>
</span><span class="code-line"><span class="err">-</span>d <span class="s2">&quot;AddOns=partner_anagrams&quot;</span> <span class="err">-</span>u <span class="s2">&quot;{TwilioAccountSid}:{TwilioAuthToken}&quot;</span>
</span></pre></div>

<p>Would result in a 200 OK response with the body:</p>
<div class="codehilite"><pre><span class="code-line"><span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;country_code&quot;</span><span class="p">:</span> <span class="s2">&quot;US&quot;</span><span class="p">,</span>
</span><span class="code-line">    <span class="nt">&quot;phone_number&quot;</span><span class="p">:</span> <span class="s2">&quot;+18778894546&quot;</span><span class="p">,</span>
</span><span class="code-line">    <span class="nt">&quot;national_format&quot;</span><span class="p">:</span> <span class="s2">&quot;1 (877) 889-4546&quot;</span><span class="p">,</span>
</span><span class="code-line">    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://lookups.twilio.com/v1/PhoneNumber/+551155256325&quot;</span><span class="p">,</span>    
</span><span class="code-line">    <span class="nt">&quot;add_ons&quot;</span><span class="p">:</span> <span class="p">{</span>  
</span><span class="code-line">           <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">           <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">           <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">           <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>      
</span><span class="code-line">                    <span class="nt">&quot;partner_anagrams&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">                           <span class="nt">&quot;request_sid&quot;</span><span class="p">:</span> <span class="s2">&quot;XRc1479687aadf64c62e6ab2b6e0077a1a&quot;</span><span class="p">,</span>
</span><span class="code-line">                           <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;successful&quot;</span><span class="p">,</span>
</span><span class="code-line">                           <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">                           <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="code-line">                           <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">                                   <span class="nt">&quot;anagrams&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;+18778TWILIO&quot;</span><span class="p">]</span>
</span><span class="code-line">                           <span class="p">}</span>                           
</span><span class="code-line">                    <span class="p">}</span>
</span><span class="code-line">            <span class="p">}</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line"><span class="p">}</span>
</span></pre></div>

<p>When invoked, Twilio will call out to your HTTP service and post the requested phone number.  Upon receiving the results, it will take the JSON body of those results and included them in the response payload along with the other types requested.  </p>
<h3 id="discovery"><a class="toclink" href="#discovery">Discovery &amp; Usage</a></h3>
<p>Developers will discover and install your Add-on using the Marketplace inside the Console. For more information on this process please refer to the <a href="https://www.twilio.com/docs/api/addons">Add-ons Overview documentation</a>.</p>
<h2 id="api-requirements"><a class="toclink" href="#api-requirements">Add-On API Requirements</a></h2>
<p>These specifications will detail how Twilio will make requests to your service, what fields you can expect for each supported Add-on type, how their success and error responses must be formatted and returned. </p>
<p>For most Add-on types, the interface is a simple RESTful HTTP protocol.  For Add-ons such as phone number lookup, a synchronous request/response model is used, where Twilio POSTs data to the partner in a specified format and they reply with a valid result set or error in the response body.  </p>
<p>For other Add-ons, such as recording analysis, an asynchronous model is used, where Twilio POSTs data to the partner and expects a 202 Accepted response back.  The partner would then post back to a REST API exposed by Twilio to report results back some time later.  In this model, Twilio will ask the developer for a callback URL at configuration time, and take responsibility for relaying any async results back to them.</p>
<h3 id="partner-api-requirements-requests"><a class="toclink" href="#partner-api-requirements-requests">Partner API Requirements - Requests</a></h3>
<p>Twilio will be directly consuming partner's JSON/REST API, and transforming the returned data and error codes to a format compatible with the Twilio API style and format.  </p>
<h4 id="api-parameters"><a class="toclink" href="#api-parameters">API Parameters</a></h4>
<p>Twilio supports passing vendor-specific fields, template fields and constants to your API via one or more of the following parameters:</p>
<table>
<thead>
<tr>
<th>API Parameter</th>
<th>Request Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Querystring Parameters</td>
<td>GET, POST</td>
</tr>
<tr>
<td>JSON Dictionary</td>
<td>POST</td>
</tr>
<tr>
<td>www-form-encoded</td>
<td>POST</td>
</tr>
<tr>
<td>HTTP Headers</td>
<td>GET, POST</td>
</tr>
</tbody>
</table>
<p>You can provide us with the parameters in your API that should be filled with the available template fields for the type of Add-on (refer to the sections below for list of available fields). You should request only those Template Fields that you absolutely require, so that Twilio can enable your Add-on across the widest possible range of Integration Points.  </p>
<p>You can also tell us which parameters are user configurable, which ones should be  hard-coded to specific values and which ones should be specified by the developer at request time. </p>
<p><em>Note that request time parameters are only supported for Lookup at this time.</em></p>
<h4 id="common-template-fields"><a class="toclink" href="#common-template-fields">Common Template Fields</a></h4>
<p>The following table lists the Common Template Fields available to you.</p>
<table>
<thead>
<tr>
<th>Template Field</th>
<th>Provided by Integration Points</th>
<th>Add-on Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CONSTANT</code></td>
<td>All</td>
<td>All</td>
<td>Vendor specific constant data that you require us to hard code as an API parameter.<br>This value will be passed by Twilio for every call to the Vendor API.</td>
</tr>
<tr>
<td><code>{{request_sid}}</code></td>
<td>All</td>
<td>All</td>
<td>Alphanumeric Unique identifier for every request. Use if you need a unique identifier in your API.</td>
</tr>
<tr>
<td><code>{{vendor defined runtime field}}</code></td>
<td>Lookup</td>
<td>-</td>
<td>Any Vendor specific data beyond the ones in this list. <br> This parameter will have to be passed explicitly by the user in the API call and is not automatically filled in by Twilio.</td>
</tr>
<tr>
<td><code>{{custom configuration field}}</code></td>
<td>All</td>
<td>All</td>
<td>Any Vendor specific data beyond the ones in this list. <br> This parameter will be configured by the user in the Console and is not automatically filled in by Twilio.</td>
</tr>
</tbody>
</table>
<h4 id="add-on-type-specific-template-fields"><a class="toclink" href="#add-on-type-specific-template-fields">Add-on Type Specific Template Fields</a></h4>
<p>See <a href="#add-on-specific-requirements">Requirements for Specific Add-on Types</a> section for additional template fields that you can use. </p>
<h4 id="custom-configuration-template-fields"><a class="toclink" href="#custom-configuration-template-fields">Custom Configuration Template Fields</a></h4>
<p>For instances where you may need additional parameters to be passed to your API, you can define custom fields that can be configured by the user in the Console. Once configured, Twilio will pass these parameters to your API just like other template fields.</p>
<p>User configurable parameters are specified as a <a href="https://spacetelescope.github.io/understanding-json-schema">JSON schema</a>, provided in the "Configuration JSON Schema". These parameters are mapped into the corresponding UI elements inside console, and the configured values are made available to the Add-on as template fields. </p>
<p>Configuration JSON Schema supports the following JSON elements:</p>
<h5 id="type-specific-keywords"><a class="toclink" href="#type-specific-keywords"><a href="https://spacetelescope.github.io/understanding-json-schema/reference/type.html">Type-specific Keywords</a>:</a></h5>
<ul>
<li>string (presented as a text field in the UI)</li>
<li>number &amp; integer (presented as text field in UI with number validation)</li>
<li>boolean (presented as checkbox in UI)</li>
</ul>
<p>Note : object and array keywords are not supported</p>
<h5 id="generic-keywords"><a class="toclink" href="#generic-keywords"><a href="https://spacetelescope.github.io/understanding-json-schema/reference/generic.html">Generic keywords</a> :</a></h5>
<ul>
<li>enum (presented as a dropdown list)</li>
<li>name (used to render the field label in the UI)</li>
<li>_help (used to render a tooltip next to the field in the UI)</li>
<li>element_name in the schema is used to define the template variable name.</li>
</ul>
<h5 id="combining-schemas-and-regular-expressions"><a class="toclink" href="#combining-schemas-and-regular-expressions"><a href="https://spacetelescope.github.io/understanding-json-schema/reference/combining.html">Combining Schemas</a> and <a href="https://spacetelescope.github.io/understanding-json-schema/reference/regular_expressions.html">Regular expressions</a> :</a></h5>
<ul>
<li>Supported for input validation and the relevant error message shall be displayed when the input does not validate against the configuration schema.</li>
</ul>
<p>Example schema :</p>
<div class="codehilite"><pre><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Config schema&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;language&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Language&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;_help&quot;</span><span class="p">:</span> <span class="s2">&quot;Select the language for your recordings : US English (en_US), UK English (en_UK), Spanish (es)&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;en_US&quot;</span><span class="p">,</span><span class="s2">&quot;en_UK&quot;</span><span class="p">,</span><span class="s2">&quot;es&quot;</span><span class="p">]</span>
</span><span class="code-line">    <span class="p">},</span>
</span><span class="code-line">    <span class="nt">&quot;combine_tracks&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Combine Audio Tracks&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;_help&quot;</span><span class="p">:</span> <span class="s2">&quot;Combine transcriptions from different tracks into one list or keep them separated&quot;</span>
</span><span class="code-line">    <span class="p">},</span>
</span><span class="code-line">    <span class="nt">&quot;keywords&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Keywords to detect&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;_help&quot;</span><span class="p">:</span> <span class="s2">&quot;Identify the presence and timestamps for these keywords (Comma separated) in the audio&quot;</span>
</span><span class="code-line">    <span class="p">},</span>
</span><span class="code-line">    <span class="nt">&quot;phone_number&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Phone Number&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;_help&quot;</span><span class="p">:</span> <span class="s2">&quot;E164 formatted phone numbers. Only +1 prefixes allowed&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;^\\+(1)+[0-9]*$&quot;</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">},</span>
</span><span class="code-line">  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">    <span class="s2">&quot;language&quot;</span>
</span><span class="code-line">  <span class="p">]</span>
</span><span class="code-line"><span class="p">}</span>
</span></pre></div>

<p>This schema generates the following UI, and makes these template fields: <code>{{language}}</code>, <code>{{combine_tracks}}</code>, <code>{{keywords}}</code> and <code>{{phone_number}}</code> available to your API.</p>
<p><img alt="addon configuration in console" src="https://s3.amazonaws.com/com.twilio.prod.twilio-docs/images/addons-config-schema-console.original.png" /></p>
<h4 id="authentication"><a class="toclink" href="#authentication">Authentication</a></h4>
<p>Since Twilio currently only supports one account per Partner offering, it follows that there will be one set of authentication credentials for the Partner’s service supported per Add-on. The Partner can choose to use a single set of credentials across all their offerings if so desired. </p>
<p>Following authentication schemes are supported:</p>
<ul>
<li>
<p>Passing credentials in the URL query string</p>
</li>
<li>
<p>Passing credentials in the POST request body (WWW-form-encoded or JSON encoded)</p>
</li>
<li>
<p>HTTP header based authentication (Basic, Bearer)</p>
</li>
</ul>
<h4 id="default-http-headers"><a class="toclink" href="#default-http-headers">Default HTTP Headers</a></h4>
<p>Twilio will always pass the following set of headers along with the GET/POST request to the Partner API that may be used for security and debugging purposes if the partner so desires.</p>
<table>
<thead>
<tr>
<th>Header Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Twilio-VendorAccountSid</td>
<td>The Account Sid of the partner (your) account. <br><br>Example : AC05b3911315a1322d1dede66eed740000</td>
</tr>
<tr>
<td>X-Twilio-Signature</td>
<td>The signature of this request, signed by the partner’s account, and used to verify the request came from Twilio unmodified. See the "Validating Requests are coming from Twilio" section here for details of signature algorithm : https://www.twilio.com/docs/api/security <br><br>Example : 0FqS203W44/lM2UEM+51hRzwat4=</td>
</tr>
<tr>
<td>X-Twilio-RequestSid</td>
<td>The unique identifier of this particular partner request.  Used for billing and debugging. <br><br>Example : MR000009775bb6d43d1cabc4955723fae1</td>
</tr>
<tr>
<td>X-Twilio-AddOnSid</td>
<td>The unique identifier for the Add-on being invoked.<br><br>Use this to identify which of your Add-ons is generating this request. <br> ex. XBc6dc06ce91d566fae284bc2bf36218a4</td>
</tr>
<tr>
<td>X-Twilio-AddOnVersionSid</td>
<td>The unique identifier of the Add-on version being used by the developer. <br><br>Use it to identify if the developer is using an older version of your Add-on.<br> ex. XC2ad3d7d6478a2ca72f224d817a241586</td>
</tr>
<tr>
<td>X-Twilio-AddOnInstallSid</td>
<td>The unique identifier for a developers install of an Add-on.<br><br>Use this to distinguish between developers using this particular Add-on. <br> ex. XDe2767c53b3d7be099a825252c6cf4e59</td>
</tr>
<tr>
<td>X-Twilio-AddOnConfigurationSid</td>
<td>The unique identifier for an instance of the installed Add-on.<br> ex. XEbee2b4cf26384f0b88ad98a25530c338</td>
</tr>
</tbody>
</table>
<h4 id="request-validation-schema"><a class="toclink" href="#request-validation-schema">Request Validation Schema</a></h4>
<p>If you desire, Twilio can validate the Add-on request using a Request Validation JSON Schema prior to invoking your API. This is typically useful in cases where your service cannot fulfill certain requests, and you wish to avoid a degraded customer experience or limit the load on your system. </p>
<p>When an Add-on request fails to validate, Twilio will return <a href="https://www.twilio.com/docs/api/errors/61003">Error 61003</a> : "Requirements to invoke Add-ons have not been met" to the user and will not count it against your SLA.</p>
<p>The Request Validation Schema will be applied to a JSON dictionary containing the Template Fields specified above. </p>
<h4 id="json-schema-tools"><a class="toclink" href="#json-schema-tools">JSON Schema Tools</a></h4>
<ul>
<li>
<p><a href="http://json-schema.org/examples.html">JSON Schema Specification &amp; Examples</a></p>
</li>
<li>
<p><a href="http://www.jsonschemavalidator.net/">JSON Schema Validator</a></p>
</li>
</ul>
<h4 id="example-schema"><a class="toclink" href="#example-schema">Example Schema</a></h4>
<p>Use this to limit the Add-on to specific phone number prefixes.
This example limits Vendor Add-on to phone numbers with +91 or +1 prefixes only.</p>
<div class="codehilite"><pre><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;primary_address&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;^\\+(91|1)+[0-9]*$&quot;</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">},</span>
</span><span class="code-line">  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">    <span class="s2">&quot;primary_address&quot;</span>
</span><span class="code-line">  <span class="p">]</span>
</span><span class="code-line"><span class="p">}</span>
</span></pre></div>

<p>Test the validity of the schema using the schema validator with the Input JSON field set to <code>{"primary_address" : "+12345678901"}</code>|</p>
<h3 id="partner-api-requirements-responses"><a class="toclink" href="#partner-api-requirements-responses">Partner API Requirements - Responses</a></h3>
<p>Both success and error responses are expected to be in a standard JSON object format.  The server is expected to return a 2xx response for all requests, even error requests.  This is to disambiguate partner errors that may affect SLA from legitimately rejected requests due to misconfiguration or other.  For successfully synchronous Add-on requests, a 200 OK response is expected, with a content-type application/json and a JSON object returned in the body.  For successful asynchronous Add-on requests, a 202 Accepted response is expected, with no body returned.  For both sync and async cases error cases, a 200 OK is expected with a content-type application/json and a JSON object describing the error condition.  </p>
<p>Any 4xx or 5xx errors returned will be considered partner misconfiguration, or outage, will be logged in the error reporting system and will count against the partner's SLA.  For 4xx errors, Twilio will fail the request immediately.  For 5xx errors, Twilio will retry up to N times, or until the TTL has passed.  Partners should expect retries, using the request_sid as an idempotency token.</p>
<p>For async requests, the partner is responsible for POSTing back the JSON object body to Twilio once the async task is completed.  This JSON body will be the same format as above, for both success or failure.  </p>
<h4 id="response-validation-schema"><a class="toclink" href="#response-validation-schema">Response Validation Schema</a></h4>
<p>If specified, the Response Validation Schema ensures your response contains at least certain specific fields for it to be considered valid, and therefore, billed to the user. </p>
<p>To build a Response Validation Schema:
1. Paste your API response into the JSON schema generator : <a href="http://jsonschema.net/">http://jsonschema.net/</a> (paste in JSON form field)</p>
<ol>
<li>
<p>Delete all the fields from the result that are not required</p>
</li>
<li>
<p>Test Schema generated using the schema validator : <a href="http://www.jsonschemavalidator.net/">http://www.jsonschemavalidator.net/</a> (Paste generated Schema from Code View and the full response from your API and ensure it validates)</p>
</li>
</ol>
<h3 id="example-schema_1"><a class="toclink" href="#example-schema_1">Example Schema</a></h3>
<p>For instance, If you wanted to validate that your API response (below) always contains the <code>args.e164</code> parameter to be considered valid.</p>
<h4 id="example-api-response"><a class="toclink" href="#example-api-response">Example API Response</a></h4>
<div class="codehilite"><pre><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;e164&quot;</span><span class="p">:</span> <span class="s2">&quot;+13233633791&quot;</span><span class="p">,</span>
</span><span class="code-line">    <span class="nt">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
</span><span class="code-line">  <span class="p">},</span>
</span><span class="code-line">  <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;184.73.170.150&quot;</span><span class="p">,</span>
</span><span class="code-line"><span class="p">}</span>
</span></pre></div>

<h4 id="json-schema"><a class="toclink" href="#json-schema">JSON Schema</a></h4>
<div class="codehilite"><pre><span class="code-line"><span class="p">{</span>
</span><span class="code-line">  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span class="code-line">  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span class="code-line">      <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">        <span class="nt">&quot;e164&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="code-line">          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
</span><span class="code-line">        <span class="p">}</span>
</span><span class="code-line">      <span class="p">},</span>
</span><span class="code-line">      <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">        <span class="s2">&quot;e164&quot;</span>
</span><span class="code-line">      <span class="p">]</span>
</span><span class="code-line">    <span class="p">}</span>
</span><span class="code-line">  <span class="p">},</span>
</span><span class="code-line">  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class="code-line">    <span class="s2">&quot;args&quot;</span>
</span><span class="code-line">  <span class="p">]</span>
</span><span class="code-line"><span class="p">}</span>
</span></pre></div>

<h3 id="response-cleaning"><a class="toclink" href="#response-cleaning">Response Cleaning</a></h3>
<p>Use Response Cleaning JSON Paths to ask Twilio to delete specific elements from your Response. This typically includes API Keys (if they are returned), Usage counters, Vendor specific resource URIs, etc.</p>
<p>You can specify one or more JSON elements to remove using JSON Path</p>
<ul>
<li>
<p><a href="http://goessner.net/articles/JsonPath/index.html#e2">What is JSON Path</a></p>
</li>
<li>
<p>Tools to get JSON Path : <a href="http://href.xyz/json/jsonpath.html">JSON Path Tool</a>, <a href="https://chrome.google.com/webstore/detail/jsonpath-finder/bankcpekihijigplompggpdolehhnale?hl=en-GB">Chrome Extension</a>   </p>
</li>
<li>
<p>Tools to test your JSON Path : Paste your API response and JSON Path into the <a href="http://jsonpath.com/">JSONPath Tool</a></p>
</li>
</ul>
<h2 id="add-on-specific-requirements"><a class="toclink" href="#add-on-specific-requirements">Requirements for Specific Add-on Types</a></h2>
<h3 id="phone-number-add-on"><a class="toclink" href="#phone-number-add-on"><em>Phone Number Add-on</em></a></h3>
<p>The Phone Number Lookup Add-on is used to expose 3rd party data partners that use an e164 phone number as their query parameter.  Examples of these are carrier dips, CNAM caller ID lookups, GPS lookups, demographic database queries, and so forth.  </p>
<h4 id="add-on-request-fields"><a class="toclink" href="#add-on-request-fields">Add-on Request Fields</a></h4>
<p>When invoked, Twilio can supply the following fields to the partner API.  </p>
<table>
<thead>
<tr>
<th>Template Field</th>
<th>Provided by Integration Points</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{primary_address}}</code></td>
<td>Incoming SMS, Incoming Voice call, Lookup</td>
<td>The phone number being dipped, in e164 format <code>+&lt;country code&gt;&lt;phone number&gt;</code></td>
</tr>
<tr>
<td><code>{{secondary_address}}</code></td>
<td>Incoming SMS, Incoming Voice call</td>
<td>To number, in e164 format <code>+&lt;country code&gt;&lt;phone number&gt;</code></td>
</tr>
</tbody>
</table>
<p>This request will be synchronous.  Twilio will expect a 200 OK with a valid response body.  </p>
<h4 id="add-on-sla"><a class="toclink" href="#add-on-sla">Add-on SLA</a></h4>
<p>Because this request is returned synchronously, either as part of a lookup API request or in the flow of a call or SMS setup, performance is key.  A service exposing this should return in a median time of approx 200ms and 99% under 1500 ms.  Any request taking longer than 2000 ms will be failed by Twilio, an error payload will be sent, and the developer will not be billed.   </p>
<h5 id="add-on-response-size-limit"><a class="toclink" href="#add-on-response-size-limit">Add-on Response Size Limit</a></h5>
<p>As a synchronous Add-on, this response for this is limited to a maximum of 50 KBytes. Any response larger than this maximum will be failed by Twilio, an error payload will be sent, and the developer will not be billed.</p>
<h3 id="message-analysis-add-on"><a class="toclink" href="#message-analysis-add-on"><em>Message Analysis Add-on</em></a></h3>
<p>The Message Analysis Add-on passes a message body to a 3rd party for content analysis.  Possible use cases are translation or intent analysis.  </p>
<h4 id="add-on-request-fields_1"><a class="toclink" href="#add-on-request-fields_1">Add-on Request Fields</a></h4>
<p>When invoked, Twilio can supply the following fields to the partner API.  </p>
<table>
<thead>
<tr>
<th>Template Field</th>
<th>Provided by Integration Points</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{primary_address}}</code></td>
<td>Incoming SMS</td>
<td>The phone number being dipped, in e164 format <code>+&lt;country code&gt;&lt;phone number&gt;</code></td>
</tr>
<tr>
<td><code>{{secondary_address}}</code></td>
<td>Incoming SMS</td>
<td>To number, in e164 format <code>+&lt;country code&gt;&lt;phone number&gt;</code></td>
</tr>
<tr>
<td><code>{{body}}</code></td>
<td>Incoming SMS</td>
<td>The utf-8 body of the SMS Message</td>
</tr>
</tbody>
</table>
<p>This request will be synchronous.  Twilio will expect a 200 OK with a valid response body.  </p>
<h4 id="add-on-sla_1"><a class="toclink" href="#add-on-sla_1">Add-on SLA</a></h4>
<p>Because this request is returned synchronously, in the flow of the SMS delivery, performance is key.  A service exposing this should return in a median time of approx 200ms and 99% under 1500 ms.  Any request taking longer than 2000 ms will be failed by Twilio, an error payload will be sent, and the developer will not be billed.</p>
<h4 id="add-on-response-size-limit_1"><a class="toclink" href="#add-on-response-size-limit_1">Add-on Response Size Limit</a></h4>
<p>As a synchronous Add-on, this response for this is limited to a maximum of 64 KBytes. Any response larger than this maximum will be failed by Twilio, an error payload will be sent, and the developer will not be billed.</p>
<h3 id="recording-analysis-add-on"><a class="toclink" href="#recording-analysis-add-on"><em>Recording Analysis Add-on</em></a></h3>
<p>The Recording Analysis Add-on Type is used to expose 3rd party partners who can analyze audio and return results as structured data.  Examples of this are audio transcription, sentiment analysis services, audio indexing services, etc.</p>
<h4 id="add-on-request-fields_2"><a class="toclink" href="#add-on-request-fields_2">Add-on Request Fields</a></h4>
<p>When invoked, Twilio can supply the following fields to the partner API.  </p>
<table>
<thead>
<tr>
<th>Template Field</th>
<th>Provided by Integration Points</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{audio_data}}</code></td>
<td>Recordings</td>
<td>Audio file binary bytestream*</td>
</tr>
<tr>
<td><code>{{callback_url}}</code></td>
<td>Recordings</td>
<td>One time use URL to be used to provide Analysis results</td>
</tr>
<tr>
<td><code>{{channels}}</code></td>
<td>Recordings</td>
<td>Number of channels contained in audio</td>
</tr>
<tr>
<td><code>{{duration}}</code></td>
<td>Recordings</td>
<td>Duration of the audio in milliseconds</td>
</tr>
<tr>
<td><code>{{format}}</code></td>
<td>Recordings</td>
<td>Audio Mimetype. Default recording format is audio/x-wav</td>
</tr>
<tr>
<td><code>{{media_sid}}</code></td>
<td>Recordings</td>
<td>Recording SID</td>
</tr>
<tr>
<td><code>{{size}}</code></td>
<td>Recordings</td>
<td>Size of the audio in bytes</td>
</tr>
</tbody>
</table>
<p>*The audio data binary bytestream is provided in either 1) HTTP request body (POST/PUT) or 2) HTTP multipart request (POST/PUT) as a part with a name you specify.</p>
<p>This request is asynchronous. A 202 or 204 response with no body is expected upon receiving this request. After processing the audio, partners are expected to POST the JSON results to the Callback URL within the request timeout agreed upon. After the timeout expires, the request will be considered failed, and the developer will not be billed.</p>
<h4 id="add-on-callback-authentication"><a class="toclink" href="#add-on-callback-authentication">Add-on Callback Authentication</a></h4>
<p>To authenticate the Callback HTTP request containing the audio analysis, we ask that you use basic authentication with the Account SID and Auth Token or an API Key (<a href="https://www.twilio.com/console/dev-tools/api-keys">https://www.twilio.com/console/dev-tools/api-keys</a>) created from the vendor account that the Add-on belongs to.</p>
<h4 id="add-on-callback-sla"><a class="toclink" href="#add-on-callback-sla">Add-on Callback SLA</a></h4>
<p>Because this request is returned asynchronously, there are no hard requirements.  A service exposing this is recommended to return in a median time of 3x audio duration and a 99% under 5x audio duration.  Any request taking longer than 10x duration will be failed by Twilio, an error payload will be sent, and the developer will not be billed.</p>
<h4 id="add-on-callback-size-limit"><a class="toclink" href="#add-on-callback-size-limit">Add-on Callback Size Limit</a></h4>
<p>As an asynchronous Add-on, the response for this is limited to a maximum of 100 MB. Any response larger than this maximum will be failed by Twilio, an error payload will be sent, and the developer will not be billed.</p>
<h2 id="security-privacy-requirements"><a class="toclink" href="#security-privacy-requirements">Security &amp; Privacy Requirements</a></h2>
<p>It is important to secure communication between Twilio and partners, for both Twilio's security as well as the partners.  Because partners are opening up an HTTP endpoint to the public internet, all efforts should be made to make certain that endpoint does not expose the partner to fraud or attack.  To ensure this, a number of mechanisms will be in place</p>
<ol>
<li>
<p>Twilio only supports HTTPS/TLSv1.2. </p>
</li>
<li>
<p>To help mitigate any DDOS attack exposure, Twilio requests can be setup to only come from specific IPs. Twilio will contact partners before adding any IPs to this range. If you require such a setup, let us know. The default behavior is that they will not come from specific IPs.</p>
<ol>
<li>
<p>174.129.222.33</p>
</li>
<li>
<p>174.129.222.200</p>
</li>
<li>
<p>184.73.170.150</p>
</li>
<li>
<p>23.21.226.67</p>
</li>
</ol>
</li>
<li>
<p>Twilio signs every request with the partner's shared secret.  Partners are strongly encouraged to validate the signature of the requests they receive to confirm they're coming from their Twilio account.</p>
</li>
<li>
<p>Twilio sends a unique request SID with each invocation.  Partners are encouraged to treat this as an idempotency token, allowing them to thwart replay attacks.  </p>
</li>
<li>
<p>Twilio also sends an invocation date (UTC) and TTL as part of each signed payload.  Checking this TTL (with a reasonable accommodation for clock-skew) allows partners to thwart replay attack.</p>
</li>
</ol>
<h2 id="add-on-collateral-requirements"><a class="toclink" href="#add-on-collateral-requirements">Add-On Collateral Requirements</a></h2>
<p>This section has moved. See <a href="https://www.twilio.com/docs/api/add-ons/publisher-onboarding/collateral-requirements">Collateral Requirements</a> for details.</p>
</div>

      
    </div>
  

    

        
          
<div id="disqus_thread"></div>


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

// Unique identifiers
PAGE_URL = "https://www.twilio.com/docs/api/add-ons/publish";

var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'http://twiliodocumentation.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        
      </div>
    </div>

    <div class="code-column">
      
  <div id="coderail" class="code-rail" data-uk-sticky="{boundary: true}">

  <div class="rail-placeholder"></div>

  <div class="rail-header uk-hidden">

    <div class="rail-header-wrapper">

      <div class="rail-navigation">
        <div class="inner">
          <a href="#previous" class="inactive" data-previous>
            <i class="fa fa-fw fa-arrow-left left"></i>
          </a>
        </div>
        <div class="inner">
          <span>
            <span class="current-index">1</span>
            <span>/</span>
            <span class="snippet-total">1</span>
          </span>
        </div>
        <div class="inner">
          <a href="#next" data-next>
            <i class="fa fa-fw fa-arrow-right"></i>
          </a>
        </div>
      </div>

      <div class="rail-title">
        <div class="title-content inner">
          <span>Loading Code Samples...</span>
          <i class="fa fa-fw fa-chevron-down"></i>
        </div>
      </div>

    </div>

  </div>

  <div class="rail-toolbar uk-hidden">

    <div class="rail-current-language">
      <div class="inner">
        <span>Language</span>
        <i class="fa fa-fw fa-chevron-down"></i>
      </div>
    </div>

    <div class="toolbar">
      <a href="#code" class="uk-hidden tab" data-code>Code</a>
      <a href="#output" class="uk-hidden inactive" data-output>Output</a>

      <span class="separator"></span>

      <a id="download" class="uk-hidden">
        <i class="fa fa-fw fa-download"></i>
        <span>Download Project</span>
      </a>

      <a id="github" class="uk-hidden" target="_blank">
        <i class="fa fa-fw fa-github-square"></i>
        <span>View on GitHub</span>
      </a>

      <a id="defrosty" class="fr-on" href="#defrosty">
        <i class="fa fa-fw fa-eye"></i>
        <span class="wider-tooltip">Toggle Highlighted Lines</span>
      </a>

      <a id="clippy" href="#copy">
        <i class="fa fa-fw fa-copy"></i>
        <span>Copy to Clipboard</span>
      </a>

      <a id="linkcode" href="#linkcode">
        <i class="fa fa-fw fa-link"></i>
        <span>Link to this Code</span>
      </a>

      <a href="#expand" data-expand>
        <i class="fa fa-fw fa-arrows-alt"></i>
        <span>Full Screen</span>
      </a>
      <a href="#collapse" class="uk-hidden" data-collapse>
        <i class="fa fa-fw fa-compress"></i>
        <span>Normal Size</span>
      </a>
    </div>
  </div>

  <div class="rail-samples">
    <ul>
      
    </ul>
  </div>

  <div class="rail-languages"></div>

  <div class="rail-content">
    <div class="rail-content-inner">
      
    </div>
  </div>
</div>


    </div>

  </div>

      </div>
    </div>

    
    


<div class="footer" data-swiftype-index="false">
  <div class="uk-container uk-container-center">
    <div class="footer__statement">We can’t wait to see what you build.</div>
    <div class="uk-grid">
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Products</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/voice-video" class="footer__link">Voice &amp; Video</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/messaging" class="footer__link">Messaging</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/authy" class="footer__link">Authentication</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/wireless" class="footer__link">Connected Devices</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Use Cases</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/access-security" class="footer__link">Access Security</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/contextual-call-center" class="footer__link">Contextual Call Center</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/marketplace-communications" class="footer__link">Marketplace Communications</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/mobile-messaging" class="footer__link">Mobile Messaging</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">About</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/what-is-cloud-communications?" class="footer__link">What is Twilio?</a>
            </li>
            <li class="footer__list-item">
              <a href="https://customers.twilio.com/" class="footer__link">Customers</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help" class="footer__link">Get Help</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help/sales" class="footer__link">Talk to Sales</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-medium-2-5">
        <section class="footer__section">
  <header class="footer__header">Hits From The Blog</header>
  <ul class="footer__list footer__list">
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/building-an-ivr-with-no-code-by-using-taskrouter-as-a-state-machine.html" class="footer__link">Building an IVR with no code by using TaskRouter as a state machine</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/logrole-gives-you-permissions-based-granular-searching-for-twilio-logs.html" class="footer__link">Logrole Gives You Permissions Based, Granular Searching For Twilio Logs</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-callbacks-with-stamplay-twilio-and-unbounce.html" class="footer__link">Build Callbacks With Stamplay, Twilio and Unbounce</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-a-basic-call-center-in-just-a-few-minutes-with-twilio.html" class="footer__link">Build a Basic Call Center in Just a Few Minutes with Twilio</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/redact-delete-sms-messages-node-js.html" class="footer__link">Redact or Delete SMS Messages as They Arrive with Node.js</a>
    </li>
    
  </ul>

</section>
      </div>
    </div>
    <footer class="footer__footer">
      <div class="footer__logo" title="Twilio">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">
          <path d="M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11z"/>
          <circle cx="18.7" cy="11.3" r="3.1"/>
          <circle cx="18.7" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="11.3" r="3.1"/>
        </svg>
      </div>
      <ul class="legal__list">
        <li class="legal__list-item">
          <a href="https://www.twilio.com/company" class="legal__link">About Twilio</a>
        </li>
        <li class="legal__list-item">
          <a href="https://www.twilio.com/legal" class="legal__link">Legal</a>
        </li>
        <li class="legal__list-item">Copyright &copy; 2016 Twilio, Inc. 
          <br class="uk-visible-small">All Rights Reserved.
        </li>
      </ul>
    </footer>
  </div>
</div>


    
    <script src="https://www.twilio.com/docs/static/js/vendor.min.16abf41c42de.js"></script>
    

  

  <!-- Mixpanel -->
  <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
  typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,
    e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
    mixpanel.init("f71c19735fa6ecc5225ff563285e1794");
    </script>
  

  
    <!-- Heap -->
    <script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
    heap.load('1541905715');
    </script>
  

  
    <!-- GA -->
    <script type="text/javascript">
    try {
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2900316-1']);
      _gaq.push(['_setSiteSpeedSampleRate', 50]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    } catch(err) {}

    var _kmq = _kmq || [];
    </script>
  

  
    <!-- Eloqua -->
    <script type="text/javascript">
    var _elqQ = _elqQ || [];
    _elqQ.push(['elqSetSiteId', '815114181']);
    _elqQ.push(['elqTrackPageView']);
    _elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);

    (function () {
      function async_load() {
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
        s.src = 'http://img03.en25.com/i/elqCfg.min.js';
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
      }
      if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
      else if (window.attachEvent) window.attachEvent('onload', async_load);
    })();
    </script>
  

  
    <!-- Transifex -->
    <script type="text/javascript">
    window.liveSettings = {
      api_key: '4c06c1c5a6b341e591d969476fe2675f'
    };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>
    <style>
    .txlive-langselector { display: none; }
    </style>
  

  



    
      <script src="https://www.twilio.com/docs/static/js/docs.min.0c5bb1abb16f.js"></script>
    

    
    



    

  </body>

<!-- Mirrored from www.twilio.com/docs/api/add-ons/publish by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:54 GMT -->
</html>
