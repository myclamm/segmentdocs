function checkVisible(e,t,n){t=t||0,n=n||"visible";var i=e.getBoundingClientRect(),s=Math.max(document.documentElement.clientHeight,window.innerHeight),o=i.bottom-t<0,r=i.top-s+t>=0;return"above"===n?o:"below"===n?r:!o&&!r}function filterEmpty(e){return e.filter(function(e){return!!e})}!function(e){function t(t){var n,i,s,o=arguments.length,r=window[t],a=arguments,c=a[1];if(2>o)throw Error("Minimum 2 arguments must be given");if(e.isArray(c)){i={};for(var l in c){n=c[l];try{i[n]=JSON.parse(r.getItem(n))}catch(h){i[n]=r.getItem(n)}}return i}if(2!=o){try{i=JSON.parse(r.getItem(c))}catch(h){throw new ReferenceError(c+" is not defined in this storage")}for(var l=2;o-1>l;l++)if(i=i[a[l]],void 0===i)throw new ReferenceError([].slice.call(a,1,l+1).join(".")+" is not defined in this storage");if(e.isArray(a[l])){s=i,i={};for(var u in a[l])i[a[l][u]]=s[a[l][u]];return i}return i[a[l]]}try{return JSON.parse(r.getItem(c))}catch(h){return r.getItem(c)}}function n(t){var n,i,s=arguments.length,o=window[t],r=arguments,a=r[1],c=r[2],l={};if(2>s||!e.isPlainObject(a)&&3>s)throw Error("Minimum 3 arguments must be given or second parameter must be an object");if(e.isPlainObject(a)){for(var h in a)n=a[h],e.isPlainObject(n)?o.setItem(h,JSON.stringify(n)):o.setItem(h,n);return a}if(3==s)return"object"==typeof c?o.setItem(a,JSON.stringify(c)):o.setItem(a,c),c;try{i=o.getItem(a),null!=i&&(l=JSON.parse(i))}catch(u){}i=l;for(var h=2;s-2>h;h++)n=r[h],i[n]&&e.isPlainObject(i[n])||(i[n]={}),i=i[n];return i[r[h]]=r[h+1],o.setItem(a,JSON.stringify(l)),l}function i(t){var n,i,s=arguments.length,o=window[t],r=arguments,a=r[1];if(2>s)throw Error("Minimum 2 arguments must be given");if(e.isArray(a)){for(var c in a)o.removeItem(a[c]);return!0}if(2==s)return o.removeItem(a),!0;try{n=i=JSON.parse(o.getItem(a))}catch(l){throw new ReferenceError(a+" is not defined in this storage")}for(var c=2;s-1>c;c++)if(i=i[r[c]],void 0===i)throw new ReferenceError([].slice.call(r,1,c).join(".")+" is not defined in this storage");if(e.isArray(r[c]))for(var h in r[c])delete i[r[c][h]];else delete i[r[c]];return o.setItem(a,JSON.stringify(n)),!0}function s(t,n){var s=c(t);for(var o in s)i(t,s[o]);if(n)for(var o in e.namespaceStorages)l(o)}function o(n){var i=arguments.length,s=arguments,r=(window[n],s[1]);if(1==i)return 0==c(n).length;if(e.isArray(r)){for(var a=0;a<r.length;a++)if(!o(n,r[a]))return!1;return!0}try{var l=t.apply(this,arguments);e.isArray(s[i-1])||(l={totest:l});for(var a in l)if(!(e.isPlainObject(l[a])&&e.isEmptyObject(l[a])||e.isArray(l[a])&&!l[a].length)&&l[a])return!1;return!0}catch(h){return!0}}function a(n){var i=arguments.length,s=arguments,o=(window[n],s[1]);if(2>i)throw Error("Minimum 2 arguments must be given");if(e.isArray(o)){for(var r=0;r<o.length;r++)if(!a(n,o[r]))return!1;return!0}try{var c=t.apply(this,arguments);e.isArray(s[i-1])||(c={totest:c});for(var r in c)if(void 0===c[r]||null===c[r])return!1;return!0}catch(l){return!1}}function c(n){var i=arguments.length,s=window[n],o=arguments,r=(o[1],[]),a={};if(a=i>1?t.apply(this,o):s,a._cookie)for(var c in e.cookie())""!=c&&r.push(c.replace(a._prefix,""));else for(var l in a)r.push(l);return r}function l(t){if(!t||"string"!=typeof t)throw Error("First parameter must be a string");window.localStorage.getItem(t)||window.localStorage.setItem(t,"{}"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,"{}");var n={localStorage:e.extend({},e.localStorage,{_ns:t}),sessionStorage:e.extend({},e.sessionStorage,{_ns:t})};return e.cookie&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,"{}"),n.cookieStorage=e.extend({},e.cookieStorage,{_ns:t})),e.namespaceStorages[t]=n,n}var h="ls_",u="ss_",d={_type:"",_ns:"",_callMethod:function(e,t){var n=[this._type];return this._ns&&n.push(this._ns),[].push.apply(n,t),e.apply(this,n)},get:function(){return this._callMethod(t,arguments)},set:function(){var t=arguments.length,i=arguments,s=i[0];if(1>t||!e.isPlainObject(s)&&2>t)throw Error("Minimum 2 arguments must be given or first parameter must be an object");if(e.isPlainObject(s)&&this._ns){for(var o in s)n(this._type,this._ns,o,s[o]);return s}return r=this._callMethod(n,i),this._ns?r[s]:r},remove:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(i,arguments)},removeAll:function(e){return this._ns?(n(this._type,this._ns,{}),!0):s(this._type,e)},isEmpty:function(){return this._callMethod(o,arguments)},isSet:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(a,arguments)},keys:function(){return this._callMethod(c,arguments)}};if(e.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var p={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(t,n){e.cookie(this._prefix+t,n,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return e.cookie(this._prefix+t)},removeItem:function(t){return e.removeCookie(this._prefix+t)},clear:function(){for(var t in e.cookie())""!=t&&(!this._prefix&&-1===t.indexOf(h)&&-1===t.indexOf(u)||this._prefix&&0===t.indexOf(this._prefix))&&e.removeCookie(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};window.localStorage||(window.localStorage=e.extend({},p,{_prefix:h,_expires:3650}),window.sessionStorage=e.extend({},p,{_prefix:u+window.name+"_"})),window.cookieStorage=e.extend({},p),e.cookieStorage=e.extend({},d,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}e.initNamespaceStorage=function(e){return l(e)},e.localStorage=e.extend({},d,{_type:"localStorage"}),e.sessionStorage=e.extend({},d,{_type:"sessionStorage"}),e.namespaceStorages={},e.removeAllStorages=function(t){e.localStorage.removeAll(t),e.sessionStorage.removeAll(t),e.cookieStorage&&e.cookieStorage.removeAll(t),t||(e.namespaceStorages={})}}(jQuery),function(e){var t;window.AlgoliaSupportChat=function(){this.init(),e.localStorage.get("chatOpened")&&this.start(),t=this},AlgoliaSupportChat.prototype={init:function(){var t=this;e(document).ready(function(){function n(){a.initIndex("help_center").search(i,{hitsPerPage:5,attributesToRetrieve:["name","categories"],attributesToHighlight:["name"],attributesToSnippet:["text:30"],snippetEllipsisText:"[&hellip;]"}).then(function(e){c.initIndex("algolia").search(i,{hitsPerPage:5,attributesToSnippet:["content:30"],attributesToHighlight:["hierarchy"],attributesToRetrieve:["url"],snippetEllipsisText:"[&hellip;]"}).then(function(t){r(void 0,{results:[e,t]})})})}e(document).on("click",".chatlio-widget .chatlio-title-bar",function(e){e.preventDefault(),t.hide()});var i="",s="all",o={all:{displayName:"All",placeholder:"Search questions, doc sections & parameters"},faq:{displayName:"FAQ",placeholder:"Search questions"},doc:{displayName:"Documentation",placeholder:"Search sections, parameters, ..."}},r=function(t,n){if(!t&&n.results[0].query===e("#chat-search").val()){var i="";if(""!==n.results[0].query){if("all"===s||"doc"===s){n.results[1].hits.length>0&&(i+='<li class="list-group-item header">Documentation <span class="nb-results">'+n.results[1].nbHits+" results</span></li>");for(var o=0;o<n.results[1].hits.length;++o){var r=n.results[1].hits[o],a=[];e.each(["lvl0","lvl1","lvl2","lvl3","lvl4","lvl5"],function(e,t){r._highlightResult.hierarchy[t]&&a.push(r._highlightResult.hierarchy[t].value)});var c=a.length<4?"icon-life-saver":"icon-code";i+='<li class="list-group-item"><i class="'+c+'"></i> <a class="title" href="'+r.url+'">'+a.join(" > ")+"</a>"+(r._snippetResult?"<p>"+r._snippetResult.content.value+"</p>":"")+"</li>"}}if("all"===s||"faq"===s){n.results[0].hits.length>0&&(i+='<li class="list-group-item header">FAQ entries <span class="nb-results">'+n.results[0].nbHits+" results</span></li>");for(var o=0;o<n.results[0].hits.length;++o){var r=n.results[0].hits[o],l="/doc/faq/"+r.categories[0].slug+"/"+r.objectID;i+='<li class="list-group-item"><i class="icon-file-text-o"></i> <a class="title" href="'+l+'">'+r._highlightResult.name.value+"</a><p>"+r._snippetResult.text.value+"</p></li>"}}}e("#chat-box .chat-search-results").html(i),""===i?(e("#chat-box .chat-with-us-group").show(),e("#chat-box .chat-links").show(),e("#chat-box .chat-search-results").hide()):(e("#chat-box .chat-with-us-group").hide(),e("#chat-box .chat-links").hide(),e("#chat-box .chat-search-results").show())}};e("#chat-search").on("keyup",function(){i=e(this).val(),n()}),e("#chat-box").on("mouseleave",".opened",function(){var t=parseInt(e("body").css("top"),10);e("body").removeClass("no-scroll"),e(document).scrollTop(-t)}),e("#chat-box").on("mouseenter",".opened",function(){e("body").hasClass("no-scroll")||e("body").css("top",-e(document).scrollTop()+"px").addClass("no-scroll")}),e("#chat-box").on("click touch",".dropdown .dropdown-menu a",function(t){t.preventDefault();var i=e(t.target),r=i.data("search-type");o[r]&&(s=r,e("#chat-search").attr("placeholder",o[s].placeholder),e(".value","#chat-box .dropdown .btn").text(o[s].displayName),n())});var a=algoliasearch("latency","6be0576ff61c053d5f9a3225e2a90f76"),c=algoliasearch("BH4D9OD16A","41b0c9e22f293d2a6f685343f534ce20")})},show:function(){e("#chat-box .closed").hide(),e("#chat-box .opened").show(),e("#chat-search").focus(),e("#chat-with-us-button").text(window._chatlio?window._chatlio.isOnline()?"We're online \u2013 Chat with us":"We're currently offline, please contact support":"Ask the community")},start:function(){e("#chat-box .closed").hide(),e("#chat-box .opened").hide(),window._chatlio&&window._chatlio.show({expanded:!0}),e.localStorage.set("chatOpened",!0)},hide:function(){e("#chat-box .closed").show(),e("#chat-box .opened").hide(),window._chatlio&&window._chatlio.hide(),e.localStorage.set("chatOpened",!1)}}}(jQuery),window.pardotAppendIframe=function(e){var t=document.createElement("iframe");t.src=e,t.width=1,t.height=1,document.body.appendChild(t)},$("#mc-embedded-subscribe-form").on("submit",function(){var e=$("#mce-EMAIL").val();e&&window.pardotAppendIframe("https://go.pardot.com/l/139121/2016-06-09/f3kzm?email="+encodeURI(e))}),Number.prototype.number_with_delimiter=function(e){var t=this+"",e=e||",",n=t.split(".");return n[0]=n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+e),n.join(".")},Number.prototype.size_with_delimiter=function(){var e,t;return 1024>this?(e="Bytes",t=1):1232896>this?(e="KB",t=1024):(e="MB",t=1048576),parseInt(this/t+1).number_with_delimiter()+" "+e},window.onresize=function(){$("#main-navigation-collapsed").removeClass("in"),$("body").removeClass("unscroll"),$("button.mobile-menu").find("i").addClass("icon-align-justify").removeClass("icon-times")},$(document).on("focus",".nav-search input",function(){var e=$(this).closest(".nav-search");e.hasClass("open-large")===!1&&e.addClass("open")}),$(document).on("blur",".nav-search input",function(){var e=$(this).closest(".nav-search");e.hasClass("open-large")===!1&&e.removeClass("open")}),$(function(){$("button.mobile-menu").on("click",function(){$("body").toggleClass("unscroll"),$(this).find("i").toggleClass("icon-align-justify").toggleClass("icon-times")}),$(".single-click-btn").on("click",function(){$(this).addClass("disabled")})}),function(e){var t=jHash.val("tab");"undefined"!=typeof t&&e('#dashboard .nav-tabs a[href="#tab-'+t+'"]').tab("show"),e("#dashboard .nav-tabs a").on("shown.bs.tab",function(e){jHash.val("tab",e.target.hash.replace("#tab-","")),window.dispatchEvent(new Event("resize"))}),e(".free-plan-acknowledgement").on("click",function(t){e(this).closest(".alert-info").remove(),e.post("/api/1/applications/"+e(this).data("id")+"/acknowledge-free-plan"),t.preventDefault()})}(jQuery),angular.module("analyticsApp",["n3-line-chart"]).controller("AnalyticsCtrl",["$scope","$http","$filter",function(e,t,n){e.load=function(i,s){e.index=$.localStorage.get("explorer#default_index")||i,e.params=s,e.currentLowHitsIndex=0,e.topSearchesLowHitsWithoutTypos=!1;var o=function(e){var t=[];for(var n in e)t.push({value:n,count:e[n]});return t.sort(function(e,t){return t.count-e.count}),t};t.post("https://analytics.algolia.com/1/dashboard/"+e.index,e.params).success(function(t){t.countryCount=o(t.countryCount),t.charCount=o(t.charCount),t.wordCount=o(t.wordCount),t.nbHits=o(t.nbHits),t.analyticsTags&&t.analyticsTags.length>0&&$("#analytics-tags").select2({placeholder:"Add tags...",data:$.map(t.analyticsTags,function(e){return{id:e.tag,text:e.tag}}),multiple:!0});var i,s=function(){if($("#vmap").width()){clearInterval(i);for(var e={},s=0;s<t.countryCount.length;++s){var o=t.countryCount[s];e[o.value.toLowerCase()]=o.count}$("#vmap").vectorMap({map:"world_en",backgroundColor:"#ffffff",color:"#eee",hoverOpacity:.7,selectedColor:"#1D52E1",enableZoom:!1,showTooltip:!0,values:e,scaleColors:["#C8EEFF","#006491"],normalizeFunction:"polynomial",onLabelShow:function(i,s,o){s.text(s.text()+" ("+n("number")(100*(e[o]||0)/t.searchCount,0)+"%)")}})}};i=setInterval(s,200),e.data=t,e.processingDelayHours=(((new Date).getTime()-Date.parse(t.lastSearchAt))/36e5).toFixed(0),e.xFunction=function(){return function(e){return e.key}},e.yFunction=function(){return function(e){return e.value}}}).error(function(){e.error=!0}),t.get("/analytics/trends/"+e.index).success(function(t){e.trends=t})},e.newTrend=function(t,n){t.preventDefault(),$("#link-trends").trigger("click"),e.$emit("trend:show",{id:0,index:e.index,name:n+"'s trend",queries:[n]})};var i=function(e){var t="?";for(var n in e)"undefined"!=typeof e[n]&&null!=e[n]&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},s=function(e,t){var n=document.createElement("a");n.href="data:attachment/csv,"+encodeURI(t),document.body.appendChild(n),n.download=e,n.click(),document.body.removeChild(fileName)};e.downloading=!1,e.downloadTopSearches=function(){e.downloading=!0,t.get("https://analytics.algolia.com/1/searches/"+e.index+"/popular"+i(e.params)+"csv=true&size=10000").success(function(t){e.downloading=!1,s("popular-searches.csv",t)})},e.downloadNoResults=function(){e.downloading=!0,t.get("https://analytics.algolia.com/1/searches/"+e.index+"/noresults"+i(e.params)+"csv=true&size=10000").success(function(t){e.downloading=!1,s("no-results.csv",t)})},e.startsWithBlank=function(e){return!!e.match(/^ /)},e.endsWithBlank=function(e){return!!e.match(/ $/)}}]).controller("tableExpandableCtrl",["$scope",function(e){e.init=function(t,n){e.collection=t,e.tableLimit=n,e.tableExpanded=!1,e.tableExpandable=t.length>n},e.tableToggle=function(){e.tableLimit=e.tableExpanded?10:1/0,e.tableExpanded=!e.tableExpanded},e.isEmpty=function(e){return!e||0===Object.keys(e).length}}]).controller("trendsCtrl",["$scope","$rootScope","$http",function(e,t,n){e.gfx={},t.$on("trend:show",function(t,i){e.trend=i,e.trend.scale="day",$("#modal-show-trend").modal("show");var s={id:i.id,q1:i.queries[0],q2:i.queries[1],q3:i.queries[2],q4:i.queries[3],q5:i.queries[4]};s=$.extend(s,e.params),n.post("https://analytics.algolia.com/1/trend/"+e.index,s).success(function(t){function n(t){var n=Object.keys(t),i=[],s=[],o=["#CA3B92","#01B3E5","#1CA3A0","#FE933D","#EB4D4D"];angular.forEach(n,function(r,a){var c=d3.nest().key(function(t){switch(e.trend.scale){case"hour":return d3.time.hour(new Date(1e3*t.timestamp));case"day":return d3.time.day(new Date(1e3*t.timestamp));case"week":return d3.time.week(new Date(1e3*t.timestamp))}}).rollup(function(e){return{count:d3.sum(e,function(e){return e.count})}}).entries(t[n[a]]);c.map(function(e){return e.day=new Date(e.key)}),angular.forEach(c,function(e,t){var n=(d3.time.format("%Y-%m-%dT%H:%M:%S.%LZ"),e.values.count);"undefined"==typeof i[t]&&(i[t]={},i[t].x=e.day),i[t][a]=n}),s.push({y:a,color:o[a],thickness:"2px",dotSize:3,type:"line",label:n[a]})}),e.gfx.trends=i,e.gfx.optionsTrends.series=s}e.$watch("trend.scale",function(){n(t.trends[i.id])})})}),e.openTrendModal=function(t,n,i){e.action=t,e.title=n,e.trend=i,e.trend.q1=e.trend.q1||i.queries[0],e.trend.q2=e.trend.q2||i.queries[1],e.trend.q3=e.trend.q3||i.queries[2],e.trend.q4=e.trend.q4||i.queries[3],e.trend.q5=e.trend.q5||i.queries[4],$("#modal-edit-trend").modal("show")},e.editTrend=function(t,n){t.preventDefault(),e.openTrendModal("Update",'Edit trend "'+n.name+'"',n)},e.newTrend=function(t,n){t.preventDefault(),n=n||{},n.queries=n.queries||[],e.openTrendModal("Create","Create a new trend",n)},e.showTrend=function(t,n){t.preventDefault(),e.$emit("trend:show",n)},e.xAxisTickFormatFunctionTrend=function(){return function(e){return d3.time.format("%m/%d")(new Date(e))}},e.upsertTrend=function(t){t.preventDefault(),$("#modal-edit-trend form .form-group").removeClass("has-error"),e.trend.index=e.trend.index||e.index;var i={trend:{index:e.trend.index,name:e.trend.name,q1:e.trend.q1,q2:e.trend.q2,q3:e.trend.q3,q4:e.trend.q4,q5:e.trend.q5}};n.post("/analytics/trends/"+e.trend.id,i,{headers:{"X-CSRF-Token":document.querySelector("meta[name=csrf-token]").getAttribute("content")}}).success(function(t){$("#modal-edit-trend").modal("hide");for(var n=0;n<e.trends.length;++n)if(e.trends[n].id==e.trend.id)return void(e.trends[n]=t);e.trends.push(t)}).error(function(e){for(var t in e)$("#modal-edit-trend form .trend_"+t).addClass("has-error")})};var i={hour:"HH:mm, MMM Do",day:"MMM Do",week:"MMM Do"},s={hour:"HH:mm, MMM Do, YYYY",day:"MMM Do, YYYY",week:"MMM Do, YYYY"},o=function(t){return moment(t).format(i[e.trend.scale])},r=function(t){return moment(t).format(s[e.trend.scale])+" \u2013\xa0"},a=function(e,t,n){return r(e,t,n)+n.label+" : "+t};e.gfx.optionsTrends={axes:{x:{key:"x",labelFunction:o,type:"date"},y:{type:"linear",ticks:5,min:0}},series:[],tooltip:{mode:"scrubber",formatter:a},drawDots:!0,lineMode:"monotone"}}]),angular.module("registrationApp",["ng-rails-csrf"]).controller("ApplicationsCtrl",["$scope","$rootScope","$http",function(e,t,n){e.app=null,t.acl=null,e.toggleApplication=function(t,n){t.preventDefault(),e.app=e.app&&e.app.id===n.id?null:n},e.editApplication=function(t,n){t.preventDefault(),e.app=n,$("#modal-application").modal("show")},e.deleteApplication=function(e,t,i){e.preventDefault(),confirm("Are you sure you want to delete application "+i+"?")&&n["delete"]("/applications/"+t).success(function(){location.reload()})},e.leaveApplication=function(e,t,i){e.preventDefault(),confirm("Are you sure you want to leave application "+i+"?")&&n["delete"]("/applications/shared/"+t).success(function(){location.reload()})}}]).controller("TeamCtrl",["$scope","$rootScope",function(e,t){e.client=null,e.init=function(t,n,i){e.client=algoliasearch(t,n,i)},e.editUser=function(n,i){n.preventDefault(),t.acl=i;var s=new AlgoliaSearchIndexSelector("#index_selector",null,e.client,void 0,!0);s.populate(function(){$("#index_selector").select2("val",i.indices,!0)}),$("#modal-account").modal("show")},e.newUser=function(t){e.editUser(t,{indices:[]})}}]).controller("validateCtrl",["$scope",function(e){e.pattern=/^([\w-]+(?:[.+][\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,}(?:\.[a-z]{2})?)$/i}]);var connectorRunningStatuses={},receivedConnectorRunningStatuses=!1;window.connectorRunningStatusesCallback=function(e){connectorRunningStatuses=e,receivedConnectorRunningStatuses=!0},angular.module("connectorsApp",["algoliasearch","ui.select","ngSanitize"]).config(["uiSelectConfig",function(e){e.theme="select2",e.resetSearchInput=!0,e.appendToBody=!0}]).directive("autoGrow",["$window","$timeout",function(e,t){return{restrict:"A",link:function(n,i){function s(){var t=e.pageYOffset,n=e.pageXOffset;i.css({height:"auto",overflow:"hidden"});var s=i[0].scrollHeight;s>0&&i.css("height",s+"px"),e.scrollTo(n,t)}i.on("input propertychange",s),t(s)}}}]).controller("ConnectorsCtrl",["$scope",function(e){e.connector=null,e.connectorRunningStatuses=connectorRunningStatuses,e.receivedConnectorRunningStatuses=receivedConnectorRunningStatuses,window.connectorRunningStatusesCallback=function(t){e.$apply(function(){e.connectorRunningStatuses=t,e.receivedConnectorRunningStatuses=!0})},e.editConnector=function(t,n){t.preventDefault(),e.connector=n,$("#modal-new-connector").modal("show")},e.newConnector=function(t){e.editConnector(t,{})},e.isRunning=function(t){return e.connectorRunningStatuses[t]}}]).controller("ConnectorCtrl",["$scope","$http","$interval","$filter",function(e,t,n,i){e.id=null,e.logs=[];var s=function(n){n&&n.preventDefault(),e.id&&$('.tab-pane[rel="'+e.id+'"]').is(":visible")&&(e.getLogsStatus="Loading...",e.getLogsLoading=!0,t.get("/connectors/"+e.id+"/logs?t="+(new Date).getTime()).then(function(t){e.getLogsStatus="Updated at "+i("date")(new Date,"short"),e.logs=t&&t.data&&t.data.logs})["catch"](function(t){e.getLogsStatus="Error ("+t.status+"), please try again"})["finally"](function(){e.getLogsLoading=!1}))};e.init=function(t,n){n&&(e.id=t)},e.getLogs=s}]).filter("unique",function(){return function(e){for(var t=[],n=0;n<e.length;++n)e.indexOf(e[n])===n&&t.push(e[n]);return t}}).filter("noempty",function(){return filterEmpty}).filter("without",function(){return function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}}).directive("focusOnShow",["$timeout",function(e){return{restrict:"A",link:function(t,n,i){i.ngShow&&t.$watch(i.ngShow,function(t){t&&e(function(){n[0].focus()},0)}),i.ngHide&&t.$watch(i.ngHide,function(t){t||e(function(){n[0].focus()},0)})}}}]).directive("onEnterBlur",function(){return function(e,t){t.bind("keydown",function(e){return 13===e.which?(e.preventDefault(),window.stop(),document.execCommand("Stop"),t.blur(),!1):void 0})}}).controller("PopularSearchesCtrl",["$scope","algolia",function(e,t){function n(e){return(e||"").replace(/^\s*([^\s]*)\s*/,"$1")}function i(e){var t=n(e);return t?filterEmpty(t.split(",")).map(n):[]}var s=null,o="",r="";e.appId="",e.apiKey="",e.sourceAppId="",e.sourceApiKey="",e.indices=[],e.availableIndices=[],e.toGenerateIndices=[],e.toGenerate={},e.temporary=[],e.init=function(t,n,i){e.indices=t.indices||[],e.toGenerate=t.to_generate||{},e.toGenerateIndices=Object.keys(e.toGenerate),e.appId=n,e.apiKey=i,e.sourceAppId=t.source_app_id,e.sourceApiKey=t.source_api_key,e.loadClientAndIndices()},e.loadClientAndIndices=function(){var n=e.sourceAppId||e.appId,i=e.sourceApiKey||e.apiKey;n===o&&i===r||(o=n,r=i,s=t.Client(n,i,{protocol:"https:"}),s.listIndexes().then(function(t){e.availableIndices=t.items.map(function(e){return e.name})})["catch"](function(){e.availableIndices=[]}))},e.addIndex=function(t){e.indices.push(t)},e.removeIndex=function(t){e.indices.splice(t,1)},e.addGeneratedIndex=function(t){e.toGenerate[t]=[],e.toGenerateIndices.push(t)},e.removeGeneratedIndex=function(t){delete e.toGenerate[t],e.toGenerateIndices.splice(e.toGenerateIndices.indexOf(t),1)},e.addGenerator=function(e){var t=[];t.raw="",t.edit=!0,e.push(t)},e.removeGenerator=function(e,t){e.splice(t,1)},e.editGenerator=function(e){e.raw=e.join(", "),e.edit=!0},e.recomputeGenerator=function(e,t){var n=e[t],s=n.raw,o=i(s);o.length>0?e[t]=o:e.splice(t,1)},e.toGenerateJSON=function(){return JSON.stringify(e.toGenerate)},e.indicesJSON=function(){return JSON.stringify(e.indices)}}]),angular.module("indicesApp",["algoliasearch"]).filter("escape",function(){return window.encodeURIComponent}).controller("IndicesCtrl",["$scope","algolia",function(e,t){e.indexes=[],e.page=0,e.selectAll=!1,e.selected={},e.morePages=!1,e.selectAllAction="",e.init=function(n,i,s,o){e.client=t.Client(n,i,{hosts:s,dsn:!1,protocol:"https:"}),e.admin=new AlgoliaSearchAdmin(e.client),o&&e.client.setExtraHeader("X-Algolia-Signature",o),e.loadIndexes()},e.loadIndexes=function(){e.admin.client.listIndexes(e.page).then(function(t){e.indexes=t.items,e.morePages=100===e.indexes.length})},e.$watch("selectAll",function(t){if(t)for(var n=0;n<e.indexes.length;++n)e.selected[e.indexes[n].name]=!0;else e.selected={}}),e.clearIndex=function(t,n){t&&t.preventDefault(),t&&!confirm("Are you sure you want to clear "+n+"?")||e.client.initIndex(n).clearIndex().then(function(){console.log("cleared",n),$.each(e.indexes,function(e,t){t.name===n&&(t.entries=0)})})},e.deleteIndex=function(t,n){t&&t.preventDefault(),t&&!confirm("Are you sure you want to delete "+n+"?")||e.client.deleteIndex(n).then(function(){e.indexes=$.grep(e.indexes,function(e){return e.name!==n}),0===e.indexes.length&&(e.page=0,e.loadIndexes())})},e.$watch("selectAllAction",function(t){var n=[];for(var i in e.selected)e.selected[i]&&n.push(i);if(0!==n.length&&("clear"===t||"delete"===t)){if(confirm("Are you sure you want to "+t+" "+n.length+" indices?"))for(var s=0;s<n.length;++s)e[t+"Index"](null,n[s]);e.selected={},e.selectAllAction=""}}),e.prevPage=function(t){t.preventDefault(),e.page-=1,e.loadIndexes(),$(window).scrollTop(0)},e.nextPage=function(t){t.preventDefault(),e.page+=1,e.loadIndexes(),$(window).scrollTop(0)}}]),$(function(){function e(){n.removeClass("active"),$(".friends-referral-content").hide()}function t(){n.addClass("active"),$(".friends-referral-content").show()}var n=$(".friends-referral-link");n.on("click",function(i){i.preventDefault(),i.stopPropagation(),n.hasClass("active")?(_kmq&&_kmq.push(["record","Opened Refer Friends Modal",{}]),e()):t()}),$(".friends-referral-close").on("click",function(t){t.preventDefault(),e()}),$("body").on("click",function(){n.hasClass("active")&&e()})}),!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,s=this.length;++i<s&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function i(e){function t(e){return j[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function s(e,t){for(var n=0,i=t.length;i>n;n+=1)if(r(e,t[n]))return n;return-1}function o(){var t=e(q);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function r(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function a(t,n){var i,s,o;if(null===t||t.length<1)return[];for(i=t.split(n),s=0,o=i.length;o>s;s+=1)i[s]=e.trim(i[s]);return i}function c(e){return e.outerWidth(!1)-e.width()}function l(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var s=e.data(n,i);s!==t&&n.val()!==s&&(e.removeData(n,i),n.trigger("keyup-change"))})}function h(n){n.on("mousemove",function(n){var i=L;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function u(e,n,i){i=i||t;var s;return function(){var t=arguments;window.clearTimeout(s),s=window.setTimeout(function(){n.apply(i,t)},e)}}function d(e,t){var n=u(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){s(e.target,t.get())>=0&&n(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus();var s=n.offsetWidth>0||n.offsetHeight>0;s&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var s=document.selection.createRange();i=document.selection.createRange().text.length,s.moveStart("character",-t.value.length),n=s.text.length-i}return{offset:n,length:i}}function g(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!H){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);H=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),H.attr("class","select2-sizer"),e("body").append(H)}return H.text(t.val()),H.width()}function w(t,n,i){var s,o,r=[];s=e.trim(t.attr("class")),s&&(s=""+s,e(s.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),s=e.trim(n.attr("class")),s&&(s=""+s,e(s.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&r.push(o))})),t.attr("class",r.join(" "))}function b(e,t,n,s){var o=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),r=t.length;return 0>o?void n.push(s(e)):(n.push(s(e.substring(0,o))),n.push("<span class='select2-match'>"),n.push(s(e.substring(o,o+r))),n.push("</span>"),void n.push(s(e.substring(o+r,e.length))))}function y(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function S(n){var i,s=null,o=n.quietMillis||100,r=n.url,a=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=r,l=n.transport||e.fn.select2.ajaxDefaults.transport,h={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,h);i=i?i.call(a,c.term,c.page,c.context):null,o="function"==typeof o?o.call(a,c.term,c.page,c.context):o,s&&"function"==typeof s.abort&&s.abort(),n.params&&(e.isFunction(n.params)?e.extend(u,n.params.call(a)):e.extend(u,n.params)),e.extend(u,{url:o,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,c.page,c);c.callback(t)},error:function(e,t,n){var i={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};c.callback(i)}}),s=l.call(a,u)},o)}}function C(t){var n,i,s=t,o=function(e){return""+e.text};e.isArray(s)&&(i=s,s={results:i}),e.isFunction(s)===!1&&(i=s,s=function(){return i});var r=s();return r.text&&(o=r.text,e.isFunction(o)||(n=r.text,o=function(e){return e[n]})),function(t){var n,i=t.term,r={results:[]};return""===i?void t.callback(s()):(n=function(s,r){var a,c;if(s=s[0],s.children){a={};for(c in s)s.hasOwnProperty(c)&&(a[c]=s[c]);a.children=[],e(s.children).each2(function(e,t){n(t,a.children)}),(a.children.length||t.matcher(i,o(a),s))&&r.push(a)}else t.matcher(i,o(s),s)&&r.push(s)},e(s().results).each2(function(e,t){n(t,r.results)}),void t.callback(r))}}function x(n){var i=e.isFunction(n);return function(s){var o=s.term,r={results:[]},a=i?n(s):n;e.isArray(a)&&(e(a).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||s.matcher(o,n))&&r.results.push(e?this:{id:this,text:this})}),s.callback(r))}}function E(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function I(t,n){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(n,i)}return t}function T(t){var n=0;return e.each(t,function(e,t){t.children?n+=T(t.children):n++}),n}function k(e,n,i,s){var o,a,c,l,h,u=e,d=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return t;for(;;){for(a=-1,c=0,l=s.tokenSeparators.length;l>c&&(h=s.tokenSeparators[c],a=e.indexOf(h),!(a>=0));c++);if(0>a)break;if(o=e.substring(0,a),e=e.substring(a+h.length),o.length>0&&(o=s.createSearchChoice.call(this,o,n),o!==t&&null!==o&&s.id(o)!==t&&null!==s.id(o))){for(d=!1,c=0,l=n.length;l>c;c++)if(r(s.id(o),s.id(n[c]))){d=!0;break}d||i(o)}}return u!==e?e:void 0}function A(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function O(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var D,P,_,R,M,H,$,N,L={x:0,y:0},D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},q="<div class='select2-measure-scrollbar'></div>",j={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A",
"\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};$=e(document),M=function(){var e=1;return function(){return e++}}(),P=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,s,r=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+M()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),w(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(I(n.containerCss,this.opts.element)),this.container.addClass(I(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(I(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(r),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),h(this.results),this.dropdown.on("mousemove-filtered",r,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",r,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",r,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",r,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,s){var o=i.scrollTop();s>0&&0>=o-s?(i.scrollTop(0),g(e)):0>s&&i.get(0).scrollHeight-i.scrollTop()+s<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(e))}),l(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",r,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var c=n.element.prop("readonly");c===t&&(c=!1),this.readonly(c),N=N||o(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),A.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")||r(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,s,o,c,l=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=s=n.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,s,o){var r,a=this.opts.id,c=this.liveRegion;(r=function(i,s,h){var u,d,p,f,g,m,v,w,b,y;i=n.sortResults(i,s,o);var S=[];for(u=0,d=i.length;d>u;u+=1)p=i[u],g=p.disabled===!0,f=!g&&a(p)!==t,m=p.children&&p.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+h),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(l.opts.formatResultCssClass(p)),v.attr("role","presentation"),w=e(document.createElement("div")),w.addClass("select2-result-label"),w.attr("id","select2-result-label-"+M()),w.attr("role","option"),y=n.formatResult(p,w,o,l.opts.escapeMarkup),y!==t&&(w.html(y),v.append(w)),m&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),r(p.children,b,h+1),v.append(b)),v.data("select2-data",p),S.push(v[0]);s.append(S),c.text(n.formatMatches(i.length))})(s,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(e){return e[o]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(s?(n.query=this.bind(function(e){var n,s,o,r={results:[],more:!1},a=e.term;o=function(t,n){var i;t.is("option")?e.matcher(a,t.text(),t)&&n.push(l.optionToData(t)):t.is("optgroup")&&(i=l.optionToData(t),t.children().each2(function(e,t){o(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(s=this.getPlaceholderOption(),s&&(n=n.not(s))),n.each2(function(e,t){o(t,r.results)}),e.callback(r)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(c=n.element.data("ajax-url"),c&&c.length>0&&(n.ajax.url=c),n.query=S.call(n.element,n.ajax)):"data"in n?n.query=C(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var s=[];e(a(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){return r(this.id,t.id)?(t=this,!1):void 0}),s.push(t)}),i(s)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,s=this;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),w(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(I(this.opts.containerCssClass,this.opts.element)),w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(I(this.opts.dropdownCssClass,this.opts.element))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",s._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,s._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,n,i,s,o,r=this.dropdown,a=this.container.offset(),c=this.container.outerHeight(!1),l=this.container.outerWidth(!1),h=r.outerHeight(!1),u=e(window),d=u.width(),p=u.height(),f=u.scrollLeft()+d,g=u.scrollTop()+p,m=a.top+c,v=a.left,w=g>=m+h,b=a.top-h>=u.scrollTop(),y=r.outerWidth(!1),S=f>=v+y,C=r.hasClass("select2-drop-above");C?(n=!0,!b&&w&&(i=!0,n=!1)):(n=!1,!w&&b&&(i=!0,n=!0)),i&&(r.hide(),a=this.container.offset(),c=this.container.outerHeight(!1),l=this.container.outerWidth(!1),h=r.outerHeight(!1),f=u.scrollLeft()+d,g=u.scrollTop()+p,m=a.top+c,v=a.left,y=r.outerWidth(!1),S=f>=v+y,r.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),y=r.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:N.width),y>l?l=y:y=l,h=r.outerHeight(!1),S=f>=v+y):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),m-=t.top,v-=t.left),S||(v=a.left+this.container.outerWidth(!1)-y),s={left:v,width:l},n?(s.top=a.top-h,s.bottom="auto",this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above")):(s.top=m,s.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),s=e.extend(s,I(this.opts.dropdownCss,this.opts.element)),r.css(s)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),$.on("mousemove.select2Event",function(e){L.x=e.pageX,L.y=e.pageY}),!0):!1},opening:function(){var t,i=this.containerEventName,s="scroll."+i,o="resize."+i,r="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){n(t);var s,o=e("#select2-drop");o.length>0&&(s=o.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+s+" "+r,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,i="resize."+t,s="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(s)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),$.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return I(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,i,s,o,r,a,c,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[n]),c=(i.offset()||{}).top||0,s=c+i.outerHeight(!0),n===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),s>o&&l.scrollTop(l.scrollTop()+(s-o)),r=c-l.offset().top,0>r&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var s=e(n[i]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,i,o=this.findHighlightableChoices();return 0===arguments.length?s(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),n=e(o[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,s=this,o=this.search.val(),r=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){s.opened()&&(s.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:r}),s.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(I(s.opts.formatLoadMore,s.opts.element,i+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):n.remove(),s.positionDropdown(),s.resultsPage=i,s.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){l.removeClass("select2-active"),d.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(h.text()):d.liveRegion.text(d.opts.formatMatches(h.find(".select2-result-selectable").length))}function s(e){h.html(e),i()}var o,a,c,l=this.search,h=this.results,u=this.opts,d=this,p=l.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!r(p,f))&&(e.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){c=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(o=this.data(),e.isArray(o)&&o.length>=g&&E(u.formatSelectionTooBig,"formatSelectionTooBig")))return void s("<li class='select2-selection-limit'>"+I(u.formatSelectionTooBig,u.element,g)+"</li>");if(l.val().length<u.minimumInputLength)return s(E(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+I(u.formatInputTooShort,u.element,l.val(),u.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return void s(E(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+I(u.formatInputTooLong,u.element,l.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+I(u.formatSearching,u.element)+"</li>"),l.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&l.val(a),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var a;if(c==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==t&&E(u.formatAjaxError,"formatAjaxError"))return void s("<li class='select2-ajax-error'>"+I(u.formatAjaxError,u.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(d,l.val(),o.results),a!==t&&null!==a&&d.id(a)!==t&&null!==d.id(a)&&0===e(o.results).filter(function(){return r(d.id(this),d.id(a))}).length&&this.opts.createSearchChoicePosition(o.results,a)),0===o.results.length&&E(u.formatNoMatches,"formatNoMatches"))return void s("<li class='select2-no-results'>"+I(u.formatNoMatches,u.element,l.val())+"</li>");h.empty(),d.opts.populateResults.call(this,h,o.results,{term:l.val(),page:this.resultsPage,context:null}),o.more===!0&&E(u.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+u.escapeMarkup(I(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,i,s,o,r,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,r=i.length;r>o;o+=1)if(a=i[o].replace(/\s/g,""),s=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),_=O(P,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled());
},opening:function(){var n,i,s;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(s=this.search.val().length,n.setSelectionRange(s,s))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"selection","focusser")},initContainer:function(){var t,i,s=this.container,o=this.dropdown,r=M();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+r),this.focusser.attr("aria-labelledby","select2-chosen-"+r),this.results.attr("id","select2-results-"+r),this.search.attr("aria-owns","select2-results-"+r),this.focusser.attr("id","s2id_autogen"+r),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)return void g(e);switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void g(e);case D.ENTER:return this.selectHighlighted(),void g(e);case D.TAB:return void this.selectHighlighted({noFocus:!0});case D.ESC:return this.cancel(e),void g(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.ESC){if(this.opts.openOnEnter===!1&&e.which===D.ENTER)return void g(e);if(e.which==D.DOWN||e.which==D.UP||e.which==D.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==D.DELETE||e.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var s=n.val(),o=null;t.query({matcher:function(e,n,i){var a=r(s,t.id(i));return a&&(o=i),a},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,s=this;if(this.findHighlightableChoices().each2(function(e,t){return r(s.id(t.data("select2-data")),s.opts.element.val())?(i=e,!1):void 0}),n!==!1&&(t===!0&&i>=0?this.highlight(i):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(T(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,s=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),s.empty(),null!==e&&(n=this.opts.formatSelection(e,s,this.opts.escapeMarkup)),n!==t&&s.append(n),i=this.opts.formatSelectionCssClass(e,s),i!==t&&s.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,s=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=s.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){s.opts.element.val(e?s.id(e):""),s.updateSelection(e),s.setPlaceholder(),n&&s.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)))}}),R=O(P,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var s=a(n.val(),t.separator),o=[];t.query({matcher:function(n,i,a){var c=e.grep(s,function(e){return r(e,t.id(a))}).length;return c&&o.push(a),c},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<s.length;n++)for(var a=s[n],c=0;c<o.length;c++){var l=o[c];if(r(a,t.id(l))){e.push(l),o.splice(c,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+M()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),s=n.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(n.length&&(e.which==D.LEFT||e.which==D.RIGHT||e.which==D.BACKSPACE||e.which==D.DELETE||e.which==D.ENTER)){var r=n;return e.which==D.LEFT&&i.length?r=i:e.which==D.RIGHT?r=s.length?s:null:e.which===D.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),r=i.length?i:s):e.which==D.DELETE?this.unselect(n.first())&&(this.search.width(10),r=s.length?s:null):e.which==D.ENTER&&(r=null),this.selectChoice(r),g(e),void(r&&r.length||this.open())}if((e.which===D.BACKSPACE&&1==this.keydowns||e.which==D.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void g(e);case D.ENTER:return this.selectHighlighted(),void g(e);case D.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case D.ESC:return this.cancel(e),void g(e)}if(e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.BACKSPACE&&e.which!==D.ESC){if(e.which===D.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)&&g(e),e.which===D.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],o=this;e(t).each(function(){s(o.id(this),n)<0&&(n.push(o.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,s,o=!n.locked,r=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),c=o?r:a,l=this.id(n),h=this.getVal();i=this.opts.formatSelection(n,c.find("div"),this.opts.escapeMarkup),i!=t&&c.find("div").replaceWith("<div>"+i+"</div>"),s=this.opts.formatSelectionCssClass(n,c.find("div")),s!=t&&c.addClass(s),o&&c.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),c.data("select2-data",n),c.insertBefore(this.searchContainer),h.push(l),this.setVal(h)},unselect:function(t){var n,i,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var r=e.Event("select2-removing");if(r.val=this.id(n),r.choice=n,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(i=s(this.id(n),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){var n=a.id(t.data("select2-data"));s(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&E(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+I(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-c(this.search)},resizeSearch:function(){var e,t,n,i,s,o=c(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,s=n-(t-i)-o,e>s&&(s=n-o),40>s&&(s=n-o),0>=s&&(s=e),this.search.width(Math.floor(s))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){s(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)r(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var s,o=this;if(0===arguments.length)return this.getVal();if(s=this.data(),s.length||(s=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:s}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(s,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,s,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(s=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),void(n&&this.triggerChange(this.buildChangeDetails(s,this.data()))))}}),e.fn.select2=function(){var n,i,o,r,a,c=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])n=0===c.length?{}:e.extend({},c[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),i=a?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(s(c[0],l)<0)throw"Unknown method: "+c[0];if(r=t,i=e(this).data("select2"),i===t)return;if(o=c[0],"container"===o?r=i.container:"dropdown"===o?r=i.dropdown:(d[o]&&(o=d[o]),r=i[o].apply(i,c.slice(1))),s(c[0],h)>=0||s(c[0],u)>=0&&1==c.length)return!1}}),r===t?this:r},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var s=[];return b(e.text,n.term,s,i),s.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:y,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t?!(e.opts.minimumResultsForSearch<0):!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:S,local:C,tags:x},util:{debounce:u,markMatch:b,escapeMarkup:y,stripDiacritics:i},"class":{"abstract":P,single:_,multi:R}}}}(jQuery);