$(function(){$.validator.addMethod("skip_or_complete_group",function(e,t,i){var a=$("input:not(:hidden)",$(t).closest(i)),n=a.eq(0),s=n.data("valid_skip")?n.data("valid_skip"):$.extend({},this),o=a.filter(function(){return s.elementValue(this)}).length,r=0===o||o===a.length;return n.data("valid_skip",s),$(t).data("being_validated")||(a.data("being_validated",!0),a.each(function(){s.element(this)}),a.data("being_validated",!1)),r},$.validator.format("Please supply missing fields.")),$.validator.addMethod("skip_or_fill_minimum",function(e,t,i){var a=$(i[1],t.form),n=a.eq(0),s=n.data("valid_skip")?n.data("valid_skip"):$.extend({},this),o=a.filter(function(){return s.elementValue(this)}).length,r=0===o||o>=i[0];return console.log(a.eq(0)),n.data("valid_skip",s),$(t).data("being_validated")||(a.data("being_validated",!0),a.each(function(){s.element(this)}),a.data("being_validated",!1)),r},$.validator.format("Please either skip these fields or fill at least {0} of them.")),$.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}-\d{4}$|^\d{5}$/.test(e)},"The specified US ZIP Code is invalid");var e="";try{e=mc_custom_error_style}catch(t){e="#mc_embed_signup input.mce_inline_error { border-color:#6B0505; } #mc_embed_signup div.mce_inline_error { margin: 0 0 1em 0; padding: 5px 10px; background-color:#6B0505; font-weight: bold; z-index: 1; color:#fff; }"}var a=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),a.appendChild(n),window.mc={getAjaxSubmitUrl:function(){var e=$("form#mc-embedded-subscribe-form").attr("action");return e=e.replace("/post?u=","/post-json?u="),e+="&c=?"},getGroups:function(){var e={};return $(".mc-field-group").each(function(){var t=$(this).find("input:text:not(:hidden)");if(t.length>1){var i=t.first().attr("name"),a=$.map(t,function(e){return e.name});e[i.substring(0,i.indexOf("["))]=a.join(" ")}}),e},isMultiPartField:function(e){return $("input:not(:hidden)",$(e).closest(".mc-field-group")).length>1},isTooEarly:function(e){var t=$("input:not(:hidden)",$(e).closest(".mc-field-group"));return $(t).eq(-1).attr("id")!=$(e).attr("id")},mce_success_cb:function(e){if($("#mce-success-response").hide(),$("#mce-error-response").hide(),"success"==e.result)$("#mce-"+e.result+"-response").show(),$("#mce-"+e.result+"-response").html(e.msg),$("#mc-embedded-subscribe-form").each(function(){this.reset()});else{var t,a=-1;try{var n=e.msg.split(" - ",2);void 0==n[1]?t=e.msg:(i=parseInt(n[0]),i.toString()==n[0]?(a=n[0],t=n[1]):(a=-1,t=e.msg))}catch(s){a=-1,t=e.msg}try{if(-1==a)$("#mce-"+e.result+"-response").show(),$("#mce-"+e.result+"-response").html(t);else{var o=$("input[name*='"+fnames[a]+"']").attr("name"),r={};r[o]=t,mc.mce_validator.showErrors(r)}}catch(s){$("#mce-"+e.result+"-response").show(),$("#mce-"+e.result+"-response").html(t)}}}},window.mc.mce_validator=$("#mc-embedded-subscribe-form").validate({errorClass:"mce_inline_error",errorElement:"div",onkeyup:!1,onfocusout:function(e){mc.isTooEarly(e)||$(e).valid()},onblur:function(e){mc.isTooEarly(e)||$(e).valid()},groups:mc.getGroups(),errorPlacement:function(e,t){t.closest(".mc-field-group").append(e)},submitHandler:function(e){$(e).ajaxSubmit(mc.ajaxOptions)}}),window.mc.ajaxOptions={url:mc.getAjaxSubmitUrl(),type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",success:mc.mce_success_cb},$.validator.addClassRules("birthday",{digits:!0,mc_birthday:".datefield"}),$.validator.addClassRules("datepart",{digits:!0,mc_date:".datefield"}),$.validator.addClassRules("phonepart",{digits:!0,mc_phone:".phonefield"}),$("#mc_embed_signup a.mc_embed_close").click(function(){mc.closePopup()}),$(document).keydown(function(e){keycode=null==e?event.keyCode:e.which,27==keycode&&mc.closePopup()})});