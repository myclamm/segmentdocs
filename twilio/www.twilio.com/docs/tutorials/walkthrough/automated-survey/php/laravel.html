


<!DOCTYPE html>
<html class="no-js">
  
<!-- Mirrored from www.twilio.com/docs/tutorials/walkthrough/automated-survey/php/laravel by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
	<!-- Optimizely -->
	<script src="https://cdn.optimizely.com/js/6082066.js"></script>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    
<meta name="description" content="Using Twilio you can build automated surveys that call your customer at the point of service to get immediate feedback. Companies like Survey Monkey are using automated surveys to create better customer experiences. &quot;No one else can offer a poll at 6:00pm and get results by 6:30pm,&quot; says Chuck Groom, head of engineering at Survey Monkey&#39;s Seattle office. &quot;And what takes the best vendors 3 to 5 days we can accomplish in just two hours.&quot;
Follow along with this simple tutorial to see the code necessary to implement automated surveys that integrate directly with your CRM and customer database.">

    

    <title>
      Automated Survey - PHP / Laravel Tutorial - Twilio
    </title>

    <link rel="canonical" href="https://www.twilio.com/docs/tutorials/walkthrough/automated-survey/php/laravel" />

    
    <link rel="shortcut icon" href="https://www.twilio.com/docs/static/img/favicons/favicon.db41f19ea294.ico"/>
    <link rel="apple-touch-icon" href="https://www.twilio.com/docs/static/img/favicons/favicon_57.98200b6899e6.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.twilio.com/docs/static/img/favicons/favicon_72.86ae17486256.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.twilio.com/docs/static/img/favicons/favicon_114.ee1859950ad4.png"/>

    
    <link rel="stylesheet" type="text/css" href="http://cloud.typography.com/6230892/752864/css/fonts.css">
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-awesome.min.295235b28b6e.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/twilio-icons.45de73e993f2.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-mfizz.818f36cb00cc.css" />

    
    
    
    
    <meta property="og:url" content="https://www.twilio.com?utm_source=docs&utm_medium=social&utm_campaign=guides_tags">

    
    
    
    

    
    

    

    
      <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/docs.min.05ed18599e08.css" />
    

    
    
<link rel="stylesheet" href="https://www.twilio.com/docs/static/legacy/walkthrough.css" />


    
    <script>
  var twilio = twilio || {};
  twilio.realm = "prod";
  twilio.SWIFTYPE_ENGINE_KEY = "T68bXEBf7NaKzyRpvbnG";
</script>


<script>
  twilio.account = twilio.account || {};
  

  twilio.user = twilio.user || {};
  
  

</script>


    <script>
  
  window.userBetaFeatures = ["marketplace", "enable-video-rooms"];
</script>

  </head>

  <body class="
    
      tutorials
    
    
    
  ">

    

	
	<!-- Google Tag Manager -->
	<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-MWRD6S"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window, document, 'script', 'dataLayer', 'GTM-MWRD6S');</script>
	<!-- End Google Tag Manager -->
	



    
    <div role="drawer" class="nav__drawer">
  <div role="drawer__wrapper" class="nav__drawer-wrapper">
    <div role="drawer__nav" class="nav__drawer-nav"><span class="nav__drawer-auth"><a href="https://www.twilio.com/login" class="nav__drawer-auth-link">Log In</a><a href="https://www.twilio.com/try-twilio" class="nav__drawer-auth-link">Sign Up</a></span><a href="#close" role="drawer__close" class="nav__drawer-close">Close</a></div>
    <div class="nav__drawer-menu">
      <div class="nav__drawer-container">
        <div class="nav__drawer-grid">
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Products</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/voice-video" class="nav__drawer-link nav__drawer-link--category">Voice &amp; Video</a></li>
                  <li><a href="https://www.twilio.com/voice" class="nav__drawer-link">Programmable Voice</a></li>
                  <li><a href="https://www.twilio.com/video" class="nav__drawer-link">Programmable Video</a></li>
                  <li><a href="https://www.twilio.com/sip-trunking" class="nav__drawer-link">Elastic SIP Trunking</a></li>
                  <li><a href="https://www.twilio.com/taskrouter" class="nav__drawer-link">TaskRouter</a></li>
                  <li><a href="https://www.twilio.com/stun-turn" class="nav__drawer-link">Network Traversal</a></li>
                </ul>
                <ul>
                  <li><a href="https://www.twilio.com/messaging" class="nav__drawer-link nav__drawer-link--category">Messaging</a></li>
                  <li><a href="https://www.twilio.com/sms" class="nav__drawer-link">Programmable SMS</a></li>
                  <li><a href="https://www.twilio.com/chat" class="nav__drawer-link">Programmable Chat</a></li>
                  <li><a href="https://www.twilio.com/notify" class="nav__drawer-link">Notify</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Authentication</div>
                  </li>
                  <li><a href="https://www.twilio.com/authy" class="nav__drawer-link">Authy</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Connectivity</div>
                  </li>
                  <li><a href="https://www.twilio.com/lookup" class="nav__drawer-link">Lookup</a></li>
                  <li><a href="https://www.twilio.com/phone-numbers" class="nav__drawer-link">Phone Numbers</a></li>
                  <li><a href="https://www.twilio.com/wireless" class="nav__drawer-link">Programmable Wireless</a></li>
                  <li><a href="https://www.twilio.com/sync" class="nav__drawer-link">Sync</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Marketplace</div>
                  </li>
                  <li><a href="https://www.twilio.com/marketplace/add-ons" class="nav__drawer-link">Add-ons</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Platform</div>
                  </li>
                  <li><a href="https://www.twilio.com/enterprise" class="nav__drawer-link">Enterprise Plan</a></li>
                  <li><a href="https://www.twilio.com/interconnect" class="nav__drawer-link">Interconnect</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Use Cases</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <ul>
                <li><a href="https://www.twilio.com/use-cases/access-security" class="nav__drawer-link nav__drawer-link--category">Access Security</a></li>
                <li><a href="https://www.twilio.com/use-cases/call-and-text-marketing" class="nav__drawer-link nav__drawer-link--category">Call &amp; Text Marketing</a></li>
                <li><a href="https://www.twilio.com/use-cases/collaboration" class="nav__drawer-link nav__drawer-link--category">Collaboration</a></li>
                <li><a href="https://www.twilio.com/use-cases/commerce-communications" class="nav__drawer-link nav__drawer-link--category">Commerce Communications</a></li>
                <li><a href="https://www.twilio.com/use-cases/contact-center" class="nav__drawer-link nav__drawer-link--category">Contact Center</a></li>
              </ul>
              <hr>
            </div>
            <div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://customers.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Customer Stories</a></li>
                  <li><a href="https://www.twilio.com/showcase" class="nav__drawer-link nav__drawer-link--small">Partner Showcase</a></li>
                  <li><a href="https://www.twilio.com/what-is-cloud-communications?" class="nav__drawer-link nav__drawer-link--small">Why Twilio?</a></li>
                  <li><a href="https://www.twilio.com/support-plans" class="nav__drawer-link nav__drawer-link--small">Support Plans</a></li>
                  <li><a href="http://status.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Status</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/docs" class="nav__drawer-link nav__drawer-link--small">API &amp; Docs</a></li>
                  <li><a href="https://www.twilio.com/blog" class="nav__drawer-link nav__drawer-link--small">Blog</a></li>
                  <li><a href="https://www.twilio.com/help" class="nav__drawer-link nav__drawer-link--small">Help</a></li>
                  <li><a href="https://www.twilio.com/company/jobs" class="nav__drawer-link nav__drawer-link--small">Jobs at Twilio</a></li>
                </ul>
              </div>
            </div>
            <div class="nav__sales"><a href="https://www.twilio.com/help/sales" class="nav__sales-button">Talk to Sales</a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div role="nav" class="nav nav--subnav nav--inverted nav--transparent " data-subnav-length="40">
  <div role="nav__menu" class="nav__header">
    <div class="nav__title"><a href="https://www.twilio.com/" class="nav__logo">Twilio</a></div>
    <nav class="nav__menu">
      <ul class="nav__menu-items">
        <li class="nav__menu-item"></li>
        
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/login" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="10.2" height="13.5" viewBox="0 0 10.2 13.5">
              <circle fill="none" stroke="#F22F46" stroke-miterlimit="10" cx="5.1" cy="3" r="2.5"></circle>
              <path fill="none" stroke="#F22F46" stroke-miterlimit="10" d="M.5 13.5c0-2.5 2.1-4.6 4.6-4.6s4.6 2.1 4.6 4.6"></path>
            </svg>
            Log In
          </a>
        </li>
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/try-twilio" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">
              <path d="M0 6.5h13M6.5 0v13" fill="none" stroke="#F22F46" stroke-miterlimit="10"></path>
            </svg>
            Sign Up
          </a>
        </li>
        
        <li class="nav__menu-item"><a href="#menu" role="nav__activate" class="nav__menu-link nav__menu-activate"><span></span>Menu &amp; Products</a></li>
      </ul>
    </nav>
    <nav role="subnav" class="nav__subnav">
      <header class="nav__subnav-header">
        <a href="https://www.twilio.com/docs" class="nav__subnav-header-link">Docs</a>
        
          <a href="https://www.twilio.com/docs/tutorials" role="subnav__dropdown" 
            class="nav__subnav-link nav__subnav-current">Tutorials</a>
        
      </header>
      <ul role="subnav__items" class="nav__subnav-items">
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/quickstart" class="nav__subnav-link">Quickstart</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/guides" class="nav__subnav-link">Guides</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/tutorials" class="nav__subnav-link">Tutorials</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/api" class="nav__subnav-link">API Reference</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/libraries" class="nav__subnav-link">SDKs</a>
        </li>
      </ul>
    </nav>
  </div>
</div>



    
    

<div class="docs__pagenav">
  <div class="uk-container uk-container-center">
    <div class="uk-grid">

      <div class="uk-width-3-4 uk-hidden-small">
        <div class="breadcrumbs">
          <a href="https://www.twilio.com/docs/tutorials">Tutorials</a> &gt;
          <span>
            Automated Survey (PHP |
            Laravel)
          </span>
          <span class="get-the-code">
            <a target="_blank" title="Download Source Code" data-metric="download_source" 
               href="https://github.com/TwilioDevEd/automated-survey-laravel/archive/master.zip">
              <i class="fa fa-download"></i>
            </a>
            <a target="_blank" title="Visit at GitHub" data-metric="view_source" 
               href="https://github.com/TwilioDevEd/automated-survey-laravel/tree/master">
              <i class="fa fa-github"></i>
            </a>
          </span>
        </div>
      </div>

      <div class="uk-width-1-1 uk-width-medium-1-4">
        <div class="search">
          <form action="https://www.twilio.com/docs/search" method="GET">
            <div class="wrapper">
              <input id="search-box" name="q" type="text" value="">
            </div>
            <button type="submit">
              <i class="fa fa-fw fa-search"></i>
            </button>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>



    <div class="docs-container">
      <div class="uk-container">
        
        
<div class="viewsaurus-container">
	<div id="viewsaurus" data-title="Automated surveys with Laravel">
  <div class="saurus-panes">
    <div class="saurus-prose">
      <div class="saurus-prose-header">
        <div class="title-outer"><span class="step-title">Automated surveys with Laravel</span></div>
      </div>
      <div class="saurus-nav-buttons">
        <div class="saurus-nav-button nav-overview">
          <div class="saurus-nav-button-inner"><i class="fa fa-fw fa-list"></i></div>
          <div class="nav-divider"></div>
        </div>
        <div class="saurus-nav-button nav-previous">
          <div class="saurus-nav-button-inner"><a href="#"> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div>
          <div class="nav-divider"></div>
        </div>
        <div class="saurus-nav-button nav-next clickable">
          <div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div>
        </div>
        <div class="saurus-next-title"><span class="next-title-inner"></span></div>
      </div>
      <div class="saurus-progress-bar"></div>
      <div class="saurus-start">
        <p>Learn how to leverage the Twilio API and TwiML to conduct automated phone surveys.</p><a href="#0">Start Tutorial</a>
      </div>
      <div class="saurus-content">
<div data-title="Automated Surveys Laravel" class="chapter">
  <div data-tile="What Are We Building?" data-file="app/Http/routes.php" class="step"><h2 id="automated-survey">Automated Survey</h2>
<p>Have you ever wondered how to create an automated survey that can be answered over phone or SMS?</p>
<p>This tutorial will show how to do it using Twilio API.</p>
<h4 id="here-s-how-it-works-at-a-high-level">Here&#39;s how it works at a high level</h4>
<p><img src="http://s3.amazonaws.com/howtodocs/automated-survey.png" alt="Automated Survey Diagram"></p>
<ol>
<li><p>The end user calls or sends an SMS to the survey&#39;s phone number.</p>
</li>
<li><p>Twilio gets the call or text and makes an HTTP request to your application asking for instructions on how to respond.</p>
</li>
<li><p>Your web application instructs Twilio (using <a href="http://www.twilio.com/docs/api/twiml">TwiML</a>)
to <a href="http://www.twilio.com/docs/api/twiml/gather"><code>Gather</code></a> or
<a href="http://www.twilio.com/docs/api/twiml/record"><code>Record</code></a> the user&#39;s voice input,
and prompt text input with <a href="http://www.twilio.com/docs/api/twiml/sms/message"><code>Message</code></a>
if you are using SMS.</p>
</li>
<li><p>After each question, Twilio makes another request to your server with the user&#39;s input, which your application stores on its database.</p>
</li>
<li><p>After storing the answer, our server will instruct Twilio to <a href="http://www.twilio.com/docs/api/twiml/redirect"><code>Redirect</code></a>
the user to the next question or finish the survey.</p>
</li>
</ol>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="http://www.twilio.com/docs/php/install">Getting started with Twilio PHP</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml">TwiML: the Twilio Markup Language</a>.</li>
</ul>

  </div>
  <div data-tile="Create a Survey" data-file="app/Console/Commands/LoadSurveys.php" data-highlight="38-56" class="step"><h2 id="creating-a-survey">Creating a Survey</h2>
<p>In order to perform automated surveys we first need to have
questions on it. For your convenience, the application&#39;s
repository already includes one survey that can be loaded into
the database. You can take a look at the <a href="http://github.com/TwilioDevEd/automated-survey-laravel">Readme File</a>
for detailed instructions.</p>
<p>You can modify the questions from the survey by editing the
<a href="http://github.com/TwilioDevEd/automated-survey-laravel/blob/master/bear_survey.json">bear_survey.json</a>
file located in the root of the repository and re-running the app.</p>

  </div>
  <div data-tile="The Interview Loop" class="step"><h2 id="the-interview-loop">The Interview Loop</h2>
<p>It is helpful to visualize your interaction with a user during a survey as a loop.
The chart below shows how that interaction will be handled. (click to enlarge):</p>
<p><img src="http://s3.amazonaws.com/howtodocs/flowchart.png" alt="Survey Flow Chart"></p>
<p>The user can answer a question for your survey over the phone using either their phone&#39;s keypad or by voice.
After each interaction, Twilio will make an HTTP request to your web application with either the string of
keys the user pressed or a URL to a recording of their voice input.</p>
<p>For SMS surveys the user will answer questions just by replying
with another SMS to the Twilio number that sent the question.</p>
<p>It&#39;s up to the application to process, store and respond to the user&#39;s input.</p>
<p>Let&#39;s dive into this flow to see how it actually works.</p>

  </div>
  <div data-file="app/Http/routes.php" data-title="Configuring a Twilio Number" data-highlight="24-31" class="step"><h2 id="configuring-a-twilio-number">Configuring a Twilio Number</h2>
<p>To initiate the interview process, we need to configure one of our <a href="http://www.twilio.com/user/account/phone-numbers/incoming">Twilio numbers</a>
to send our web application an HTTP request when we get an incoming call or text.</p>
<p><a href="http://www.twilio.com/user/account/phone-numbers/incoming">Click on one of your numbers</a> and configure Voice and Message URLs that point to your server.
In our code, the routes are <code>/voice/connect</code> and <code>/sms/connect</code>, respectively.</p>
<p><img src="http://s3.amazonaws.com/howtodocs/number-config.png" alt="Configuring a Twilio Number"></p>

  </div>
  <div data-file="app/Http/Controllers/SurveyController.php" data-title="Responding To A Twilio Request" data-highlight="53-66, 74-88" class="step"><h2 id="responding-to-a-twilio-request">Responding to a Twilio Request</h2>
<p>Right after receiving a call or an SMS, Twilio will send a request to the URL specified on the number&#39;s configuration
(<code>/voice/connect</code> for calls and <code>/sms/connect</code> for sms).</p>
<p>Each of these endpoints will receive the request and return
a welcome message to the user. When users call the Twilio number
our application will use the <code>Say</code> verb. For users that respond via SMS, the
application will use a <code>Message</code> Verb. It will also include a
<code>Redirect</code> verb to the question&#39;s endpoint to continue with the survey flow.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="http://www.twilio.com/platform/webhooks">Twilio webhooks</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/your_response">TwiML Voice: Your Response</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/sms/your_response">TwiML SMS: Your Response</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/say">TwiML Voice: &lt;Say&gt;</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/sms/message">TwiML SMS: &lt;Message&gt;</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/redirect">TwiML Voice: &lt;Redirect&gt;</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/sms/redirect">TwiML SMS: &lt;Redirect&gt;</a></li>
</ul>

  </div>
  <div data-file="app/Http/Controllers/QuestionController.php" data-highlight="74-83" class="step"><h2 id="asking-questions-voice-">Asking Questions (Voice)</h2>
<p>After Hearing the welcome message, the user will be redirected to the first question.</p>
<p>Each type of question will produce different instructions on how to proceed.
If the question is of &quot;numeric&quot; or &quot;yes-no&quot; kind then we use the
<a href="http://www.twilio.com/docs/api/twiml/gather"><code>&lt;Gather&gt;</code></a>
verb. However, if we expect the user to record an answer we use the
<a href="http://www.twilio.com/docs/api/twiml/record"><code>&lt;Record&gt;</code></a>
verb. Both verbs take an <code>action</code> attribute and a <code>method</code>
attribute.</p>
<p>Twilio will use both attributes to define our response&#39;s endpoint that will be used as callback. That endpoint
will be responsible to receive and store the caller&#39;s answer.</p>
<p>During the Record verb creation, we also ask for a <a href="http://www.twilio.com/docs/api/rest/transcription">Transcription</a>.
Twilio will process the recording and extract useful text. When transcription is done it will
make a request to our response&#39;s endpoint.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="http://www.twilio.com/docs/api/twiml/gather">TwiML Voice: &lt;Gather&gt;</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/record">TwiML Voice: &lt;Record&gt;</a></li>
</ul>

  </div>
  <div data-file="app/Http/Controllers/QuestionController.php" data-highlight="64-72" class="step"><h2 id="asking-questions-sms-">Asking Questions (SMS)</h2>
<p>To ask questions over SMS we just need to use the <a href="http://www.twilio.com/docs/api/twiml/sms/message"><code>&lt;Message&gt;</code></a>
TwiML verb. When the user starts a new survey, he/she will receive a welcome message and
also a message with the first question.</p>
<p>When the user is interacting over SMS we don&#39;t have something like an ongoing call session with a well defined state.
It becomes harder to know if an SMS is answering question 2 or 20, since all requests will be fired to <code>/sms/connect</code> main endpoint.
To solve that, we can use <a href="http://www.twilio.com/blog/2014/07/the-definitive-guide-to-sms-conversation-tracking.html">Twilio Cookies</a>
to keep track of what question is being answered at the moment.</p>

  </div>
  <div data-file="app/Http/Controllers/QuestionResponseController.php" data-highlight="24-91" class="step"><h2 id="storing-answers">Storing Answers</h2>
<p>After the user has finished inputting voice commands or pressing keys, Twilio just sends a request telling what happened and asking for further instructions.</p>
<p>At this point, we need to recover data from Twilio&#39;s request parameters and store them.</p>
<p>Recovered parameters vary according to the questions, they can be:</p>
<ul>
<li><code>Body</code> contains the text message from answer over SMS.</li>
<li><code>Digits</code> contains the keys pressed for a numeric question.</li>
<li><code>RecodingUrl</code> contains the URL for listening a recorded message.</li>
<li><code>TranscriptionText</code> contains the result of a recording transcription.</li>
</ul>
<p>Finally we redirect to our Question controller, which will ask the next question on the loop.
This is done on <code>_redirectToQuestion()</code> method.</p>
<p>Now, let&#39;s see how to visualize the results.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="http://www.twilio.com/docs/api/twiml/your_response">TwiML Voice: Your Response</a></li>
<li><a href="http://www.twilio.com/docs/api/twiml/sms/your_response">TwiML SMS: Your Response</a></li>
</ul>

  </div>
  <div data-file="resources/views/surveys/results.blade.php" class="step"><h2 id="displaying-the-survey-results">Displaying the Survey Results</h2>
<p>You can access the survey results in the application&#39;s root route.</p>
<p>The results will be shown grouped by survey results. For recorded answers
you can click on a playback icon to listen to the user&#39;s answer.</p>
<p>Also, the transcribed answer will be shown when available for recorded voice answers.</p>

  </div>
  <div class="step"><h2 id="where-to-next-">Where to next?</h2>
<p>That&#39;s it!</p>
<p>If you have configured one of your Twilio
numbers to the application built in this tutorial you should be
able to take the survey and see the results under the root route of
the application. We hope you found this sample application
useful.  If you&#39;re a PHP developer working with Twilio, you
might enjoy these other tutorials:</p>
<p><a href="https://www.twilio.com/docs/howto/walkthrough/click-to-call/php/laravel"><strong>Click to Call</strong></a>
Put a button on your web page that connects visitors to live support or sales
people via telephone.</p>
<p><a href="https://www.twilio.com/docs/howto/walkthrough/two-factor-authentication/php/laravel"><strong>Two-Factor Authentication</strong></a>
Improve the security of Laravel&#39;s built-in login functionality by adding
two-factor authentication via text message.</p>
<h3 id="did-this-help-">Did this help?</h3>
<p>Thanks for checking this tutorial out! If you have any feedback to share with us,
we&#39;d love to hear it. <a href="mailto:deved-oss@twilio.com">Contact the Twilio Developer Education Team</a> to let us know what you think.</p>

  </div>
</div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="app/Http/routes.php" data-mode="php">PD9waHAKCnVzZSBJbGx1bWluYXRlXEh0dHBcUmVkaXJlY3RSZXNwb25zZTsKCi8qCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IEFwcGxpY2F0aW9uIFJvdXRlcwp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KfAp8IEhlcmUgaXMgd2hlcmUgeW91IGNhbiByZWdpc3RlciBhbGwgb2YgdGhlIHJvdXRlcyBmb3IgYW4gYXBwbGljYXRpb24uCnwgSXQncyBhIGJyZWV6ZS4gU2ltcGx5IHRlbGwgTGFyYXZlbCB0aGUgVVJJcyBpdCBzaG91bGQgcmVzcG9uZCB0bwp8IGFuZCBnaXZlIGl0IHRoZSBjb250cm9sbGVyIHRvIGNhbGwgd2hlbiB0aGF0IFVSSSBpcyByZXF1ZXN0ZWQuCnwKKi8KClJvdXRlOjpnZXQoCiAgICAnL3N1cnZleS97c3VydmV5fS9yZXN1bHRzJywKICAgIFsnYXMnID0+ICdzdXJ2ZXkucmVzdWx0cycsICd1c2VzJyA9PiAnU3VydmV5Q29udHJvbGxlckBzaG93UmVzdWx0cyddCik7ClJvdXRlOjpnZXQoCiAgICAnLycsCiAgICBbJ2FzJyA9PiAncm9vdCcsICd1c2VzJyA9PiAnU3VydmV5Q29udHJvbGxlckBzaG93Rmlyc3RTdXJ2ZXlSZXN1bHRzJ10KKTsKUm91dGU6OnBvc3QoCiAgICAnL3ZvaWNlL2Nvbm5lY3QnLAogICAgWydhcycgPT4gJ3ZvaWNlLmNvbm5lY3QnLCAndXNlcycgPT4gJ1N1cnZleUNvbnRyb2xsZXJAY29ubmVjdFZvaWNlJ10KKTsKUm91dGU6OnBvc3QoCiAgICAnL3Ntcy9jb25uZWN0JywKICAgIFsnYXMnID0+ICdzbXMuY29ubmVjdCcsICd1c2VzJyA9PiAnU3VydmV5Q29udHJvbGxlckBjb25uZWN0U21zJ10KKTsKUm91dGU6OmdldCgKICAgICcvc3VydmV5L3tpZH0vdm9pY2UnLAogICAgWydhcycgPT4gJ3N1cnZleS5zaG93LnZvaWNlJywgJ3VzZXMnID0+ICdTdXJ2ZXlDb250cm9sbGVyQHNob3dWb2ljZSddCik7ClJvdXRlOjpnZXQoCiAgICAnL3N1cnZleS97aWR9L3NtcycsCiAgICBbJ2FzJyA9PiAnc3VydmV5LnNob3cuc21zJywgJ3VzZXMnID0+ICdTdXJ2ZXlDb250cm9sbGVyQHNob3dTbXMnXQopOwpSb3V0ZTo6Z2V0KAogICAgJy9zdXJ2ZXkve3N1cnZleX0vcXVlc3Rpb24ve3F1ZXN0aW9ufS92b2ljZScsCiAgICBbJ2FzJyA9PiAncXVlc3Rpb24uc2hvdy52b2ljZScsICd1c2VzJyA9PiAnUXVlc3Rpb25Db250cm9sbGVyQHNob3dWb2ljZSddCik7ClJvdXRlOjpnZXQoCiAgICAnL3N1cnZleS97c3VydmV5fS9xdWVzdGlvbi97cXVlc3Rpb259L3NtcycsCiAgICBbJ2FzJyA9PiAncXVlc3Rpb24uc2hvdy5zbXMnLCAndXNlcycgPT4gJ1F1ZXN0aW9uQ29udHJvbGxlckBzaG93U21zJ10KKTsKUm91dGU6OnBvc3QoCiAgICAnL3N1cnZleS97c3VydmV5fS9xdWVzdGlvbi97cXVlc3Rpb259L3Jlc3BvbnNlL3ZvaWNlJywKICAgIFsnYXMnID0+ICdyZXNwb25zZS5zdG9yZS52b2ljZScsICd1c2VzJyA9PiAnUXVlc3Rpb25SZXNwb25zZUNvbnRyb2xsZXJAc3RvcmVWb2ljZSddCik7ClJvdXRlOjpwb3N0KAogICAgJy9zdXJ2ZXkve3N1cnZleX0vcXVlc3Rpb24ve3F1ZXN0aW9ufS9yZXNwb25zZS9zbXMnLAogICAgWydhcycgPT4gJ3Jlc3BvbnNlLnN0b3JlLnNtcycsICd1c2VzJyA9PiAnUXVlc3Rpb25SZXNwb25zZUNvbnRyb2xsZXJAc3RvcmVTbXMnXQopOwpSb3V0ZTo6cG9zdCgKICAgICcvc3VydmV5L3tzdXJ2ZXl9L3F1ZXN0aW9uL3txdWVzdGlvbn0vcmVzcG9uc2UvdHJhbnNjcmlwdGlvbicsCiAgICBbJ2FzJyA9PiAncmVzcG9uc2UudHJhbnNjcmlwdGlvbi5zdG9yZScsICd1c2VzJyA9PiAnUXVlc3Rpb25SZXNwb25zZUNvbnRyb2xsZXJAc3RvcmVUcmFuc2NyaXB0aW9uJ10KKTsK</textarea>
<textarea class="saurus-file" data-file="app/Console/Commands/LoadSurveys.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcQ29uc29sZVxDb21tYW5kczsKCnVzZSBJbGx1bWluYXRlXENvbnNvbGVcQ29tbWFuZDsKCmNsYXNzIExvYWRTdXJ2ZXlzIGV4dGVuZHMgQ29tbWFuZAp7CiAgICAvKioKICAgICAqIFRoZSBuYW1lIGFuZCBzaWduYXR1cmUgb2YgdGhlIGNvbnNvbGUgY29tbWFuZC4KICAgICAqCiAgICAgKiBAdmFyIHN0cmluZwogICAgICovCiAgICBwcm90ZWN0ZWQgJHNpZ25hdHVyZSA9ICdzdXJ2ZXlzOmxvYWQge2ZpbGVOYW1lfSc7CgogICAgLyoqCiAgICAgKiBUaGUgY29uc29sZSBjb21tYW5kIGRlc2NyaXB0aW9uLgogICAgICoKICAgICAqIEB2YXIgc3RyaW5nCiAgICAgKi8KICAgIHByb3RlY3RlZCAkZGVzY3JpcHRpb24gPSAnTG9hZCBzdXJ2ZXlzIGludG8gdGhlIGRhdGFiYXNlJzsKCiAgICAvKioKICAgICAqIENyZWF0ZSBhIG5ldyBjb21tYW5kIGluc3RhbmNlLgogICAgICoKICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQogICAgewogICAgICAgIHBhcmVudDo6X19jb25zdHJ1Y3QoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEV4ZWN1dGUgdGhlIGNvbnNvbGUgY29tbWFuZC4KICAgICAqCiAgICAgKiBAcmV0dXJuIHZvaWQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGhhbmRsZSgpCiAgICB7CiAgICAgICAgJGZpbGVuYW1lID0gJHRoaXMtPmFyZ3VtZW50KCdmaWxlTmFtZScpOwogICAgICAgICRzdXJ2ZXlKU09OID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGVuYW1lKTsKCiAgICAgICAgJHBhcnNlciA9IG5ldyBcQXBwXFR3aWxpb1xTdXJ2ZXlQYXJzZXIoJHN1cnZleUpTT04pOwoKICAgICAgICAkc3VydmV5ID0gbmV3IFxBcHBcU3VydmV5KCk7CiAgICAgICAgJHN1cnZleS0+dGl0bGUgPSAkcGFyc2VyLT50aXRsZSgpOwogICAgICAgICRzdXJ2ZXktPnNhdmUoKTsKCiAgICAgICAgJHBhcnNlci0+cXVlc3Rpb25zKCktPmVhY2goCiAgICAgICAgICAgIGZ1bmN0aW9uICgkcXVlc3Rpb24pIHVzZSAoJHN1cnZleSkgewogICAgICAgICAgICAgICAgJHF1ZXN0aW9uVG9TYXZlID0gbmV3IFxBcHBcUXVlc3Rpb24oJHF1ZXN0aW9uKTsKICAgICAgICAgICAgICAgICRxdWVzdGlvblRvU2F2ZS0+c3VydmV5KCktPmFzc29jaWF0ZSgkc3VydmV5KTsKICAgICAgICAgICAgICAgICRxdWVzdGlvblRvU2F2ZS0+c2F2ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgKTsKICAgIH0KfQo=</textarea>
<textarea class="saurus-file" data-file="app/Http/Controllers/SurveyController.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcSHR0cFxDb250cm9sbGVyczsKCnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKdXNlIElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZTsKCnVzZSBBcHBcSHR0cFxSZXF1ZXN0czsKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBBcHBcU3VydmV5Owp1c2UgQXBwXFF1ZXN0aW9uUmVzcG9uc2U7Cgp1c2UgVHdpbGlvXFR3aW1sOwoKY2xhc3MgU3VydmV5Q29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIKewogICAgY29uc3QgU1RBUlRfU01TX1NVUlZFWV9DT01NQU5EID0gJ3N0YXJ0JzsKCiAgICBwdWJsaWMgZnVuY3Rpb24gc2hvd1Jlc3VsdHMoJHN1cnZleUlkKQogICAgewogICAgICAgICRzdXJ2ZXkgPSBTdXJ2ZXk6OmZpbmQoJHN1cnZleUlkKTsKICAgICAgICAkcmVzcG9uc2VzQnlDYWxsID0gUXVlc3Rpb25SZXNwb25zZTo6cmVzcG9uc2VzRm9yU3VydmV5QnlDYWxsKCRzdXJ2ZXlJZCkKICAgICAgICAgICAgICAgICAgICAgICAgIC0+Z2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgIC0+Z3JvdXBCeSgnc2Vzc2lvbl9zaWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgLT52YWx1ZXMoKTsKCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPnZpZXcoCiAgICAgICAgICAgICdzdXJ2ZXlzLnJlc3VsdHMnLAogICAgICAgICAgICBbJ3N1cnZleScgPT4gJHN1cnZleSwgJ3Jlc3BvbnNlcycgPT4gJHJlc3BvbnNlc0J5Q2FsbF0KICAgICAgICApOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBzaG93Rmlyc3RTdXJ2ZXlSZXN1bHRzKCkKICAgIHsKICAgICAgICAkZmlyc3RTdXJ2ZXkgPSAkdGhpcy0+X2dldEZpcnN0U3VydmV5KCk7CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHJvdXRlKCdzdXJ2ZXkucmVzdWx0cycsIFsnc3VydmV5JyA9PiAkZmlyc3RTdXJ2ZXktPmlkXSkpCiAgICAgICAgICAgICAgICAtPnNldFN0YXR1c0NvZGUoMzAzKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY29ubmVjdFZvaWNlKCkKICAgIHsKICAgICAgICAkcmVzcG9uc2UgPSBuZXcgVHdpbWwoKTsKICAgICAgICAkcmVkaXJlY3RSZXNwb25zZSA9ICR0aGlzLT5fcmVkaXJlY3RXaXRoRmlyc3RTdXJ2ZXkoJ3N1cnZleS5zaG93LnZvaWNlJywgJHJlc3BvbnNlKTsKICAgICAgICByZXR1cm4gJHRoaXMtPl9yZXNwb25zZVdpdGhYbWxUeXBlKCRyZWRpcmVjdFJlc3BvbnNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIERpc3BsYXkgdGhlIHNwZWNpZmllZCByZXNvdXJjZS4KICAgICAqCiAgICAgKiBAcGFyYW0gIGludCAgJGlkCiAgICAgKiBAcmV0dXJuIFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzaG93Vm9pY2UoJGlkKQogICAgewogICAgICAgICRzdXJ2ZXlUb1Rha2UgPSBTdXJ2ZXk6OmZpbmQoJGlkKTsKICAgICAgICAkdm9pY2VSZXNwb25zZSA9IG5ldyBUd2ltbCgpOwoKICAgICAgICBpZiAoaXNfbnVsbCgkc3VydmV5VG9UYWtlKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPl9yZXNwb25zZVdpdGhYbWxUeXBlKCR0aGlzLT5fbm9TdWNoVm9pY2VTdXJ2ZXkoJHZvaWNlUmVzcG9uc2UpKTsKICAgICAgICB9CiAgICAgICAgJHN1cnZleVRpdGxlID0gJHN1cnZleVRvVGFrZS0+dGl0bGU7CiAgICAgICAgJHZvaWNlUmVzcG9uc2UtPnNheSgiSGVsbG8gYW5kIHRoYW5rIHlvdSBmb3IgdGFraW5nIHRoZSAkc3VydmV5VGl0bGUgc3VydmV5ISIpOwogICAgICAgICR2b2ljZVJlc3BvbnNlLT5yZWRpcmVjdCgkdGhpcy0+X3VybEZvckZpcnN0UXVlc3Rpb24oJHN1cnZleVRvVGFrZSwgJ3ZvaWNlJyksIFsnbWV0aG9kJyA9PiAnR0VUJ10pOwoKICAgICAgICByZXR1cm4gJHRoaXMtPl9yZXNwb25zZVdpdGhYbWxUeXBlKHJlc3BvbnNlKCR2b2ljZVJlc3BvbnNlKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBEaXNwbGF5IHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UuCiAgICAgKgogICAgICogQHBhcmFtICBpbnQgICRpZAogICAgICogQHJldHVybiBSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2hvd1NtcygkaWQpCiAgICB7CiAgICAgICAgJHN1cnZleVRvVGFrZSA9IFN1cnZleTo6ZmluZCgkaWQpOwogICAgICAgICR2b2ljZVJlc3BvbnNlID0gbmV3IFR3aW1sKCk7CgogICAgICAgIGlmIChpc19udWxsKCRzdXJ2ZXlUb1Rha2UpKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+X3Jlc3BvbnNlV2l0aFhtbFR5cGUoJHRoaXMtPl9ub1N1Y2hTbXNTdXJ2ZXkoJHZvaWNlUmVzcG9uc2UpKTsKICAgICAgICB9CgogICAgICAgICRzdXJ2ZXlUaXRsZSA9ICRzdXJ2ZXlUb1Rha2UtPnRpdGxlOwogICAgICAgICR2b2ljZVJlc3BvbnNlLT5tZXNzYWdlKCJIZWxsbyBhbmQgdGhhbmsgeW91IGZvciB0YWtpbmcgdGhlICRzdXJ2ZXlUaXRsZSBzdXJ2ZXkhIik7CiAgICAgICAgJHZvaWNlUmVzcG9uc2UtPnJlZGlyZWN0KCR0aGlzLT5fdXJsRm9yRmlyc3RRdWVzdGlvbigkc3VydmV5VG9UYWtlLCAnc21zJyksIFsnbWV0aG9kJyA9PiAnR0VUJ10pOwoKICAgICAgICByZXR1cm4gJHRoaXMtPl9yZXNwb25zZVdpdGhYbWxUeXBlKHJlc3BvbnNlKCR2b2ljZVJlc3BvbnNlKSk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGNvbm5lY3RTbXMoUmVxdWVzdCAkcmVxdWVzdCkKICAgIHsKICAgICAgICAkcmVzcG9uc2UgPSAkdGhpcy0+X2dldE5leHRTbXNTdGVwRnJvbUNvb2tpZXMoJHJlcXVlc3QpOwogICAgICAgIHJldHVybiAkdGhpcy0+X3Jlc3BvbnNlV2l0aFhtbFR5cGUoJHJlc3BvbnNlKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9nZXROZXh0U21zU3RlcEZyb21Db29raWVzKCRyZXF1ZXN0KSB7CiAgICAgICAgJHJlc3BvbnNlID0gbmV3IFR3aW1sKCk7CiAgICAgICAgaWYgKHN0cnRvbG93ZXIodHJpbSgkcmVxdWVzdC0+aW5wdXQoJ0JvZHknKSkpID09PSBzZWxmOjpTVEFSVF9TTVNfU1VSVkVZX0NPTU1BTkQpIHsKICAgICAgICAgICAgJG1lc3NhZ2VTaWQgPSAkcmVxdWVzdC0+aW5wdXQoJ01lc3NhZ2VTaWQnKTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+X3JlZGlyZWN0V2l0aEZpcnN0U3VydmV5KCdzdXJ2ZXkuc2hvdy5zbXMnLCAkcmVzcG9uc2UpCiAgICAgICAgICAgICAgICAgICAgICAgIC0+d2l0aENvb2tpZSgnc3VydmV5X3Nlc3Npb24nLCAkbWVzc2FnZVNpZCk7CiAgICAgICAgfQoKICAgICAgICAkY3VycmVudFF1ZXN0aW9uID0gJHJlcXVlc3QtPmNvb2tpZSgnY3VycmVudF9xdWVzdGlvbicpOwogICAgICAgICRzdXJ2ZXlTZXNzaW9uID0gJHJlcXVlc3QtPmNvb2tpZSgnc3VydmV5X3Nlc3Npb24nKTsKCiAgICAgICAgaWYgKCR0aGlzLT5fbm9BY3RpdmVTdXJ2ZXkoJGN1cnJlbnRRdWVzdGlvbiwgJHN1cnZleVNlc3Npb24pKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+X3Ntc1N1Z2dlc3RDb21tYW5kKCRyZXNwb25zZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPl9yZWRpcmVjdFRvU3RvcmVTbXNSZXNwb25zZSgkcmVzcG9uc2UsICRjdXJyZW50UXVlc3Rpb24pOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gX3JlZGlyZWN0V2l0aEZpcnN0U3VydmV5KCRyb3V0ZU5hbWUsICRyZXNwb25zZSkKICAgIHsKICAgICAgICAkZmlyc3RTdXJ2ZXkgPSAkdGhpcy0+X2dldEZpcnN0U3VydmV5KCk7CgogICAgICAgIGlmIChpc19udWxsKCRmaXJzdFN1cnZleSkpIHsKICAgICAgICAgICAgaWYgKCRyb3V0ZU5hbWUgPT09ICdzdXJ2ZXkuc2hvdy52b2ljZScpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkdGhpcy0+X25vU3VjaFZvaWNlU3VydmV5KCRyZXNwb25zZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5fbm9TdWNoU21zU3VydmV5KCRyZXNwb25zZSk7CiAgICAgICAgfQoKICAgICAgICAkcmVzcG9uc2UtPnJlZGlyZWN0KAogICAgICAgICAgICByb3V0ZSgkcm91dGVOYW1lLCBbJ2lkJyA9PiAkZmlyc3RTdXJ2ZXktPmlkXSksCiAgICAgICAgICAgIFsnbWV0aG9kJyA9PiAnR0VUJ10KICAgICAgICApOwogICAgICAgIHJldHVybiByZXNwb25zZSgkcmVzcG9uc2UpOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gX25vQWN0aXZlU3VydmV5KCRjdXJyZW50UXVlc3Rpb24sICRzdXJ2ZXlTZXNzaW9uKSB7CiAgICAgICAgJG5vQ3VycmVudFF1ZXN0aW9uID0gaXNfbnVsbCgkY3VycmVudFF1ZXN0aW9uKSB8fCAkY3VycmVudFF1ZXN0aW9uID09ICdkZWxldGVkJzsKICAgICAgICAkbm9TdXJ2ZXlTZXNzaW9uID0gaXNfbnVsbCgkc3VydmV5U2Vzc2lvbikgfHwgJHN1cnZleVNlc3Npb24gPT0gJ2RlbGV0ZWQnOwoKICAgICAgICByZXR1cm4gJG5vQ3VycmVudFF1ZXN0aW9uIHx8ICRub1N1cnZleVNlc3Npb247CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfcmVkaXJlY3RUb1N0b3JlU21zUmVzcG9uc2UoJHJlc3BvbnNlLCAkY3VycmVudFF1ZXN0aW9uKSB7CiAgICAgICAgJGZpcnN0U3VydmV5ID0gJHRoaXMtPl9nZXRGaXJzdFN1cnZleSgpOwogICAgICAgICRzdG9yZVJvdXRlID0gcm91dGUoJ3Jlc3BvbnNlLnN0b3JlLnNtcycsIFsnc3VydmV5JyA9PiAkZmlyc3RTdXJ2ZXktPmlkLCAncXVlc3Rpb24nID0+ICRjdXJyZW50UXVlc3Rpb25dKTsKICAgICAgICAkcmVzcG9uc2UtPnJlZGlyZWN0KCRzdG9yZVJvdXRlLCBbJ21ldGhvZCcgPT4gJ1BPU1QnXSk7CgogICAgICAgIHJldHVybiByZXNwb25zZSgkcmVzcG9uc2UpOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gX3Ntc1N1Z2dlc3RDb21tYW5kKCRyZXNwb25zZSkgewogICAgICAgICRyZXNwb25zZS0+bWVzc2FnZSgnWW91IGhhdmUgbm8gYWN0aXZlIHN1cnZleXMuIFJlcGx5IHdpdGggIlN0YXJ0IiB0byBiZWdpbi4nKTsKICAgICAgICByZXR1cm4gcmVzcG9uc2UoJHJlc3BvbnNlKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9ub1N1Y2hTbXNTdXJ2ZXkoJG1lc3NhZ2VSZXNwb25zZSkKICAgIHsKICAgICAgICAkbWVzc2FnZVJlc3BvbnNlLT5tZXNzYWdlKCdTb3JyeSwgd2UgY291bGQgbm90IGZpbmQgdGhlIHN1cnZleSB0byB0YWtlLiBHb29kLWJ5ZScpOwogICAgICAgIHJldHVybiByZXNwb25zZSgkbWVzc2FnZVJlc3BvbnNlKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF91cmxGb3JGaXJzdFF1ZXN0aW9uKCRzdXJ2ZXksICRyb3V0ZVR5cGUpCiAgICB7CiAgICAgICAgcmV0dXJuIHJvdXRlKAogICAgICAgICAgICAncXVlc3Rpb24uc2hvdy4nIC4gJHJvdXRlVHlwZSwKICAgICAgICAgICAgWydzdXJ2ZXknID0+ICRzdXJ2ZXktPmlkLAogICAgICAgICAgICAgJ3F1ZXN0aW9uJyA9PiAkc3VydmV5LT5xdWVzdGlvbnMoKS0+b3JkZXJCeSgnaWQnKS0+Zmlyc3QoKS0+aWRdCiAgICAgICAgKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9ub1N1Y2hWb2ljZVN1cnZleSgkdm9pY2VSZXNwb25zZSkKICAgIHsKICAgICAgICAkdm9pY2VSZXNwb25zZS0+c2F5KCdTb3JyeSwgd2UgY291bGQgbm90IGZpbmQgdGhlIHN1cnZleSB0byB0YWtlJyk7CiAgICAgICAgJHZvaWNlUmVzcG9uc2UtPnNheSgnR29vZC1ieWUnKTsKICAgICAgICAkdm9pY2VSZXNwb25zZS0+aGFuZ3VwKCk7CgogICAgICAgIHJldHVybiByZXNwb25zZSgkdm9pY2VSZXNwb25zZSk7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfZ2V0Rmlyc3RTdXJ2ZXkoKSB7CiAgICAgICAgcmV0dXJuIFN1cnZleTo6b3JkZXJCeSgnaWQnLCAnREVTQycpLT5nZXQoKS0+Zmlyc3QoKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9yZXNwb25zZVdpdGhYbWxUeXBlKCRyZXNwb25zZSkgewogICAgICAgIHJldHVybiAkcmVzcG9uc2UtPmhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3htbCcpOwogICAgfQp9Cg==</textarea>
<textarea class="saurus-file" data-file="app/Http/Controllers/QuestionController.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcSHR0cFxDb250cm9sbGVyczsKCnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBBcHBcSHR0cFxSZXF1ZXN0czsKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7Cgp1c2UgQXBwXFF1ZXN0aW9uOwp1c2UgVHdpbGlvXFR3aW1sOwoKY2xhc3MgUXVlc3Rpb25Db250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICAvKioKICAgICAqIERpc3BsYXkgdGhlIHNwZWNpZmllZCByZXNvdXJjZS4KICAgICAqCiAgICAgKiBAcGFyYW0gIGludCAgJGlkCiAgICAgKiBAcmV0dXJuIFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzaG93Vm9pY2UoJHN1cnZleUlkLCAkcXVlc3Rpb25JZCkKICAgIHsKICAgICAgICAkcXVlc3Rpb25Ub0FzayA9IFF1ZXN0aW9uOjpmaW5kKCRxdWVzdGlvbklkKTsKICAgICAgICByZXR1cm4gJHRoaXMtPl9yZXNwb25zZVdpdGhYbWxUeXBlKCR0aGlzLT5fY29tbWFuZEZvclZvaWNlKCRxdWVzdGlvblRvQXNrKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBEaXNwbGF5IHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UuCiAgICAgKgogICAgICogQHBhcmFtICBpbnQgICRpZAogICAgICogQHJldHVybiBSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2hvd1Ntcygkc3VydmV5SWQsICRxdWVzdGlvbklkKQogICAgewogICAgICAgICRxdWVzdGlvblRvQXNrID0gUXVlc3Rpb246OmZpbmQoJHF1ZXN0aW9uSWQpOwogICAgICAgIHJldHVybiAkdGhpcy0+X3Jlc3BvbnNlV2l0aFhtbFR5cGUoJHRoaXMtPl9jb21tYW5kRm9yU21zKCRxdWVzdGlvblRvQXNrKSk7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfbWVzc2FnZUZvclNtc1F1ZXN0aW9uKCRxdWVzdGlvbikgewogICAgICAgICRxdWVzdGlvblBocmFzZXMgPSBjb2xsZWN0KAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAnZnJlZS1hbnN3ZXInID0+ICJcblxuUmVwbHkgdG8gdGhpcyBtZXNzYWdlIHdpdGggeW91ciBhbnN3ZXIiLAogICAgICAgICAgICAgICAgJ3llcy1ubycgICAgICA9PiAiXG5cblJlcGx5IHdpdGggXCJZRVNcIiBvciBcIk5PXCIgdG8gdGhpcyBtZXNzYWdlIiwKICAgICAgICAgICAgICAgICdudW1lcmljJyAgICAgPT4gIlxuXG5SZXBseSB3aXRoIGEgbnVtYmVyIGZyb20gMSB0byAxMCB0byB0aGlzIG1lc3NhZ2UiCiAgICAgICAgICAgIF0KICAgICAgICApOwoKICAgICAgICByZXR1cm4gJHF1ZXN0aW9uUGhyYXNlcy0+Z2V0KCRxdWVzdGlvbi0+a2luZCwgIlxuXG5SZXBseSB0byB0aGlzIG1lc3NhZ2Ugd2l0aCB5b3VyIGFuc3dlciIpOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gX21lc3NhZ2VGb3JWb2ljZVF1ZXN0aW9uKCRxdWVzdGlvbikKICAgIHsKICAgICAgICAkcXVlc3Rpb25QaHJhc2VzID0gY29sbGVjdCgKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgJ2ZyZWUtYW5zd2VyJyA9PiAiUGxlYXNlIHJlY29yZCB5b3VyIGFuc3dlciBhZnRlciB0aGUgYmVlcCBhbmQgdGhlbiBoaXQgdGhlIHBvdW5kIHNpZ24iLAogICAgICAgICAgICAgICAgJ3llcy1ubycgICAgICA9PiAiUGxlYXNlIHByZXNzIHRoZSBvbmUga2V5IGZvciB5ZXMgYW5kIHRoZSB6ZXJvIGtleSBmb3Igbm8gYW5kIHRoZW4gaGl0IHRoZSBwb3VuZCBzaWduIiwKICAgICAgICAgICAgICAgICdudW1lcmljJyAgICAgPT4gIlBsZWFzZSBwcmVzcyBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDEwIGFuZCB0aGVuIGhpdCB0aGUgcG91bmQgc2lnbiIKICAgICAgICAgICAgXQogICAgICAgICk7CgogICAgICAgIHJldHVybiAkcXVlc3Rpb25QaHJhc2VzLT5nZXQoJHF1ZXN0aW9uLT5raW5kLCAiUGxlYXNlIHByZXNzIGEgbnVtYmVyIGFuZCB0aGVuIHRoZSBwb3VuZCBzaWduIik7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfY29tbWFuZEZvclNtcygkcXVlc3Rpb24pCiAgICB7CiAgICAgICAgJHNtc1Jlc3BvbnNlID0gbmV3IFR3aW1sKCk7CgogICAgICAgICRtZXNzYWdlQm9keSA9ICRxdWVzdGlvbi0+Ym9keSAuICR0aGlzLT5fbWVzc2FnZUZvclNtc1F1ZXN0aW9uKCRxdWVzdGlvbik7CiAgICAgICAgJHNtc1Jlc3BvbnNlLT5tZXNzYWdlKCRtZXNzYWdlQm9keSk7CgogICAgICAgIHJldHVybiByZXNwb25zZSgkc21zUmVzcG9uc2UpLT53aXRoQ29va2llKCdjdXJyZW50X3F1ZXN0aW9uJywgJHF1ZXN0aW9uLT5pZCk7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfY29tbWFuZEZvclZvaWNlKCRxdWVzdGlvbikKICAgIHsKICAgICAgICAkdm9pY2VSZXNwb25zZSA9IG5ldyBUd2ltbCgpOwoKICAgICAgICAkdm9pY2VSZXNwb25zZS0+c2F5KCRxdWVzdGlvbi0+Ym9keSk7CiAgICAgICAgJHZvaWNlUmVzcG9uc2UtPnNheSgkdGhpcy0+X21lc3NhZ2VGb3JWb2ljZVF1ZXN0aW9uKCRxdWVzdGlvbikpOwogICAgICAgICR2b2ljZVJlc3BvbnNlID0gJHRoaXMtPl9yZWdpc3RlclJlc3BvbnNlQ29tbWFuZCgkdm9pY2VSZXNwb25zZSwgJHF1ZXN0aW9uKTsKCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCR2b2ljZVJlc3BvbnNlKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9yZWdpc3RlclJlc3BvbnNlQ29tbWFuZCgkdm9pY2VSZXNwb25zZSwgJHF1ZXN0aW9uKQogICAgewogICAgICAgICRzdG9yZVJlc3BvbnNlVVJMID0gcm91dGUoCiAgICAgICAgICAgICdyZXNwb25zZS5zdG9yZS52b2ljZScsCiAgICAgICAgICAgIFsncXVlc3Rpb24nID0+ICRxdWVzdGlvbi0+aWQsCiAgICAgICAgICAgICAnc3VydmV5JyA9PiAkcXVlc3Rpb24tPnN1cnZleS0+aWRdLAogICAgICAgICAgICBmYWxzZQogICAgICAgICk7CgogICAgICAgIGlmICgkcXVlc3Rpb24tPmtpbmQgPT09ICdmcmVlLWFuc3dlcicpIHsKICAgICAgICAgICAgJHRyYW5zY3JpYmVVcmwgPSByb3V0ZSgKICAgICAgICAgICAgICAgICdyZXNwb25zZS50cmFuc2NyaXB0aW9uLnN0b3JlJywKICAgICAgICAgICAgICAgIFsncXVlc3Rpb24nID0+ICRxdWVzdGlvbi0+aWQsCiAgICAgICAgICAgICAgICAgJ3N1cnZleScgPT4gJHF1ZXN0aW9uLT5zdXJ2ZXktPmlkXQogICAgICAgICAgICApOwogICAgICAgICAgICAkdm9pY2VSZXNwb25zZS0+cmVjb3JkKAogICAgICAgICAgICAgICAgWydtZXRob2QnID0+ICdQT1NUJywKICAgICAgICAgICAgICAgICAnYWN0aW9uJyA9PiAkc3RvcmVSZXNwb25zZVVSTCwKICAgICAgICAgICAgICAgICAndHJhbnNjcmliZScgPT4gdHJ1ZSwKICAgICAgICAgICAgICAgICAndHJhbnNjcmliZUNhbGxiYWNrJyA9PiAkdHJhbnNjcmliZVVybF0KICAgICAgICAgICAgKTsKICAgICAgICB9IGVsc2VpZiAoJHF1ZXN0aW9uLT5raW5kID09PSAneWVzLW5vJykgewogICAgICAgICAgICAkdm9pY2VSZXNwb25zZS0+Z2F0aGVyKFsnbWV0aG9kJyA9PiAnUE9TVCcsICdhY3Rpb24nID0+ICRzdG9yZVJlc3BvbnNlVVJMXSk7CiAgICAgICAgfSBlbHNlaWYgKCRxdWVzdGlvbi0+a2luZCA9PT0gJ251bWVyaWMnKSB7CiAgICAgICAgICAgICR2b2ljZVJlc3BvbnNlLT5nYXRoZXIoWydtZXRob2QnID0+ICdQT1NUJywgJ2FjdGlvbicgPT4gJHN0b3JlUmVzcG9uc2VVUkxdKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICR2b2ljZVJlc3BvbnNlOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gX3Jlc3BvbnNlV2l0aFhtbFR5cGUoJHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuICRyZXNwb25zZS0+aGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veG1sJyk7CiAgICB9Cn0K</textarea>
<textarea class="saurus-file" data-file="app/Http/Controllers/QuestionResponseController.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcSHR0cFxDb250cm9sbGVyczsKCnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBBcHBcSHR0cFxSZXF1ZXN0czsKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBBcHBcUXVlc3Rpb247CnVzZSBBcHBcU3VydmV5Owp1c2UgQXBwXFF1ZXN0aW9uUmVzcG9uc2U7CnVzZSBBcHBcUmVzcG9uc2VUcmFuc2NyaXB0aW9uOwp1c2UgVHdpbGlvXFR3aW1sOwp1c2UgQ29va2llOwoKY2xhc3MgUXVlc3Rpb25SZXNwb25zZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsKICAgIC8qKgogICAgICogU3RvcmUgYSBuZXdseSBjcmVhdGVkIHJlc291cmNlIGluIHN0b3JhZ2UuCiAgICAgKgogICAgICogQHBhcmFtICBSZXF1ZXN0ICAkcmVxdWVzdAogICAgICogQHJldHVybiBSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc3RvcmVWb2ljZSgkc3VydmV5SWQsICRxdWVzdGlvbklkLCBSZXF1ZXN0ICRyZXF1ZXN0KQogICAgewogICAgICAgICRxdWVzdGlvbiA9IFF1ZXN0aW9uOjpmaW5kKCRxdWVzdGlvbklkKTsKICAgICAgICAkbmV3UmVzcG9uc2UgPSAkcXVlc3Rpb24tPnJlc3BvbnNlcygpLT5jcmVhdGUoCiAgICAgICAgICAgIFsncmVzcG9uc2UnID0+ICR0aGlzLT5fcmVzcG9uc2VGcm9tVm9pY2VSZXF1ZXN0KCRxdWVzdGlvbiwgJHJlcXVlc3QpLAogICAgICAgICAgICAgJ3R5cGUnID0+ICd2b2ljZScsCiAgICAgICAgICAgICAnc2Vzc2lvbl9zaWQnID0+ICRyZXF1ZXN0LT5pbnB1dCgnQ2FsbFNpZCcpXQogICAgICAgICk7CgogICAgICAgICRuZXh0UXVlc3Rpb24gPSAkdGhpcy0+X3F1ZXN0aW9uQWZ0ZXIoJHF1ZXN0aW9uKTsKCiAgICAgICAgaWYgKGlzX251bGwoJG5leHRRdWVzdGlvbikpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5fcmVzcG9uc2VXaXRoWG1sVHlwZSgkdGhpcy0+X3ZvaWNlTWVzc2FnZUFmdGVyTGFzdFF1ZXN0aW9uKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+X3Jlc3BvbnNlV2l0aFhtbFR5cGUoCiAgICAgICAgICAgICAgICAkdGhpcy0+X3JlZGlyZWN0VG9RdWVzdGlvbigkbmV4dFF1ZXN0aW9uLCAncXVlc3Rpb24uc2hvdy52b2ljZScpCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogU3RvcmUgYSBuZXdseSBjcmVhdGVkIHJlc291cmNlIGluIHN0b3JhZ2UuCiAgICAgKgogICAgICogQHBhcmFtICBSZXF1ZXN0ICAkcmVxdWVzdAogICAgICogQHJldHVybiBSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc3RvcmVTbXMoJHN1cnZleUlkLCAkcXVlc3Rpb25JZCwgUmVxdWVzdCAkcmVxdWVzdCkKICAgIHsKICAgICAgICAkYW5zd2VyID0gdHJpbSgkcmVxdWVzdC0+aW5wdXQoJ0JvZHknKSk7CiAgICAgICAgJHF1ZXN0aW9uID0gUXVlc3Rpb246OmZpbmQoJHF1ZXN0aW9uSWQpOwogICAgICAgIGlmICgkcXVlc3Rpb24tPmtpbmQgPT09ICd5ZXMtbm8nKSB7CiAgICAgICAgICAgICRhbnN3ZXIgPSBzdHJ0b2xvd2VyKCRhbnN3ZXIpID09PSAneWVzJyA/IDEgOiAwOwogICAgICAgIH0KICAgICAgICAkbmV3UmVzcG9uc2UgPSAkcXVlc3Rpb24tPnJlc3BvbnNlcygpLT5jcmVhdGUoCiAgICAgICAgICAgIFsncmVzcG9uc2UnID0+ICRhbnN3ZXIsCiAgICAgICAgICAgICAndHlwZScgPT4gJ3NtcycsCiAgICAgICAgICAgICAnc2Vzc2lvbl9zaWQnID0+ICRyZXF1ZXN0LT5jb29raWUoJ3N1cnZleV9zZXNzaW9uJyldCiAgICAgICAgKTsKCiAgICAgICAgJG5leHRRdWVzdGlvbiA9ICR0aGlzLT5fcXVlc3Rpb25BZnRlcigkcXVlc3Rpb24pOwoKICAgICAgICBpZiAoaXNfbnVsbCgkbmV4dFF1ZXN0aW9uKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPl9yZXNwb25zZVdpdGhYbWxUeXBlKCR0aGlzLT5fc21zTWVzc2FnZUFmdGVyTGFzdFF1ZXN0aW9uKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+X3Jlc3BvbnNlV2l0aFhtbFR5cGUoCiAgICAgICAgICAgICAgICAkdGhpcy0+X3JlZGlyZWN0VG9RdWVzdGlvbigkbmV4dFF1ZXN0aW9uLCAncXVlc3Rpb24uc2hvdy5zbXMnKQogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gc3RvcmVUcmFuc2NyaXB0aW9uKCRzdXJ2ZXlJZCwgJHF1ZXN0aW9uSWQsIFJlcXVlc3QgJHJlcXVlc3QpCiAgICB7CiAgICAgICAgJGNhbGxTaWQgPSAkcmVxdWVzdC0+aW5wdXQoJ0NhbGxTaWQnKTsKICAgICAgICAkcXVlc3Rpb24gPSBRdWVzdGlvbjo6ZmluZCgkcXVlc3Rpb25JZCk7CiAgICAgICAgJHF1ZXN0aW9uUmVzcG9uc2UgPSAkcXVlc3Rpb24tPnJlc3BvbnNlcygpLT53aGVyZSgnc2Vzc2lvbl9zaWQnLCAkY2FsbFNpZCktPmZpcnN0T3JGYWlsKCk7CiAgICAgICAgJHF1ZXN0aW9uUmVzcG9uc2UtPnJlc3BvbnNlVHJhbnNjcmlwdGlvbigpLT5jcmVhdGUoCiAgICAgICAgICAgIFsndHJhbnNjcmlwdGlvbicgPT4gJHRoaXMtPl90cmFuc2NyaXB0aW9uTWVzc2FnZUlmQ29tcGxldGVkKCRyZXF1ZXN0KV0KICAgICAgICApOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gX3Jlc3BvbnNlRnJvbVZvaWNlUmVxdWVzdCgkcXVlc3Rpb24sICRyZXF1ZXN0KQogICAgewogICAgICAgIGlmICgkcXVlc3Rpb24tPmtpbmQgPT09ICdmcmVlLWFuc3dlcicpIHsKICAgICAgICAgICAgcmV0dXJuICRyZXF1ZXN0LT5pbnB1dCgnUmVjb3JkaW5nVXJsJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICRyZXF1ZXN0LT5pbnB1dCgnRGlnaXRzJyk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gX3F1ZXN0aW9uQWZ0ZXIoJHF1ZXN0aW9uKQogICAgewogICAgICAgICRzdXJ2ZXkgPSBTdXJ2ZXk6OmZpbmQoJHF1ZXN0aW9uLT5zdXJ2ZXlfaWQpOwogICAgICAgICRhbGxRdWVzdGlvbnMgPSAkc3VydmV5LT5xdWVzdGlvbnMoKS0+b3JkZXJCeSgnaWQnLCAnYXNjJyktPmdldCgpOwogICAgICAgICRwb3NpdGlvbiA9ICRhbGxRdWVzdGlvbnMtPnNlYXJjaCgkcXVlc3Rpb24pOwogICAgICAgICRuZXh0UXVlc3Rpb24gPSAkYWxsUXVlc3Rpb25zLT5nZXQoJHBvc2l0aW9uICsgMSk7CiAgICAgICAgcmV0dXJuICRuZXh0UXVlc3Rpb247CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfcmVkaXJlY3RUb1F1ZXN0aW9uKCRxdWVzdGlvbiwgJHJvdXRlKQogICAgewogICAgICAgICRxdWVzdGlvblVybCA9IHJvdXRlKAogICAgICAgICAgICAkcm91dGUsCiAgICAgICAgICAgIFsncXVlc3Rpb24nID0+ICRxdWVzdGlvbi0+aWQsICdzdXJ2ZXknID0+ICRxdWVzdGlvbi0+c3VydmV5LT5pZF0KICAgICAgICApOwogICAgICAgICRyZWRpcmVjdFJlc3BvbnNlID0gbmV3IFR3aW1sKCk7CiAgICAgICAgJHJlZGlyZWN0UmVzcG9uc2UtPnJlZGlyZWN0KCRxdWVzdGlvblVybCwgWydtZXRob2QnID0+ICdHRVQnXSk7CgogICAgICAgIHJldHVybiByZXNwb25zZSgkcmVkaXJlY3RSZXNwb25zZSk7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfdm9pY2VNZXNzYWdlQWZ0ZXJMYXN0UXVlc3Rpb24oKQogICAgewogICAgICAgICR2b2ljZVJlc3BvbnNlID0gbmV3IFR3aW1sKCk7CiAgICAgICAgJHZvaWNlUmVzcG9uc2UtPnNheSgnVGhhdCB3YXMgdGhlIGxhc3QgcXVlc3Rpb24nKTsKICAgICAgICAkdm9pY2VSZXNwb25zZS0+c2F5KCdUaGFuayB5b3UgZm9yIHBhcnRpY2lwYXRpbmcgaW4gdGhpcyBzdXJ2ZXknKTsKICAgICAgICAkdm9pY2VSZXNwb25zZS0+c2F5KCdHb29kLWJ5ZScpOwogICAgICAgICR2b2ljZVJlc3BvbnNlLT5oYW5ndXAoKTsKCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCR2b2ljZVJlc3BvbnNlKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9zbXNNZXNzYWdlQWZ0ZXJMYXN0UXVlc3Rpb24oKSB7CiAgICAgICAgJG1lc3NhZ2VSZXNwb25zZSA9IG5ldyBUd2ltbCgpOwogICAgICAgICRtZXNzYWdlUmVzcG9uc2UtPm1lc3NhZ2UoCiAgICAgICAgICAgICJUaGF0IHdhcyB0aGUgbGFzdCBxdWVzdGlvbi5cbiIgLgogICAgICAgICAgICAiVGhhbmsgeW91IGZvciBwYXJ0aWNpcGF0aW5nIGluIHRoaXMgc3VydmV5LlxuIiAuCiAgICAgICAgICAgICdHb29kIGJ5ZS4nCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gcmVzcG9uc2UoJG1lc3NhZ2VSZXNwb25zZSkKICAgICAgICAgICAgICAgICAgIC0+d2l0aENvb2tpZShDb29raWU6OmZvcmdldCgnc3VydmV5X3Nlc3Npb24nKSkKICAgICAgICAgICAgICAgICAgIC0+d2l0aENvb2tpZShDb29raWU6OmZvcmdldCgnY3VycmVudF9xdWVzdGlvbicpKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIF90cmFuc2NyaXB0aW9uTWVzc2FnZUlmQ29tcGxldGVkKCRyZXF1ZXN0KQogICAgewogICAgICAgIGlmICgkcmVxdWVzdC0+aW5wdXQoJ1RyYW5zY3JpcHRpb25TdGF0dXMnKSA9PT0gJ2NvbXBsZXRlZCcpIHsKICAgICAgICAgICAgcmV0dXJuICRyZXF1ZXN0LT5pbnB1dCgnVHJhbnNjcmlwdGlvblRleHQnKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cmFuc2NyaWJpbmcgdGhlIGFuc3dlcic7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfcmVzcG9uc2VXaXRoWG1sVHlwZSgkcmVzcG9uc2UpCiAgICB7CiAgICAgICAgcmV0dXJuICRyZXNwb25zZS0+aGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veG1sJyk7CiAgICB9Cn0K</textarea>
<textarea class="saurus-file" data-file="resources/views/surveys/results.blade.php" data-mode="php">QGV4dGVuZHMoJ2xheW91dHMubWFzdGVyJykKCkBzZWN0aW9uKCdjb250ZW50JykKPGgxPlJlc3VsdHMgZm9yIHN1cnZleToge3sgJHN1cnZleS0+dGl0bGUgfX08L2gxPgo8ZGl2IGNsYXNzPSJjb2wtbWQtMTIiPgogICAgPHVsIGNsYXNzPSJsaXN0LXVuc3R5bGVkIj4KICAgICAgICBAZm9yZWFjaCAoJHJlc3BvbnNlcyBhcyAkcmVzcG9uc2UpCiAgICAgICAgPGxpPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1kZWZhdWx0Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBhbmVsLWhlYWRpbmciPgogICAgICAgICAgICAgICAgICAgIFJlc3BvbnNlIGZyb206IHt7ICRyZXNwb25zZS0+Zmlyc3QoKS0+c2Vzc2lvbl9zaWQgfX0KICAgICAgICAgICAgICAgICAgICA8L2JyPgogICAgICAgICAgICAgICAgICAgIFN1cnZleSB0eXBlOgogICAgICAgICAgICAgICAgICAgIEBpZigkcmVzcG9uc2UtPmZpcnN0KCktPnR5cGUgPT0gJ3ZvaWNlJykKICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtcHJpbWFyeSI+CiAgICAgICAgICAgICAgICAgICAgQGVsc2UKICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtc3VjY2VzcyI+CiAgICAgICAgICAgICAgICAgICAgQGVuZGlmCiAgICAgICAgICAgICAgICAgICAgICAgIHt7ICRyZXNwb25zZS0+Zmlyc3QoKS0+dHlwZSB9fQogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+CiAgICAgICAgICAgICAgICAgICAgQGZvcmVhY2ggKCRyZXNwb25zZSBhcyAkcXVlc3Rpb25SZXNwb25zZSkKICAgICAgICAgICAgICAgICAgICA8b2wgY2xhc3M9Imxpc3QtZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+UXVlc3Rpb246IHt7ICRxdWVzdGlvblJlc3BvbnNlLT5xdWVzdGlvbi0+Ym9keSB9fTwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1ncm91cC1pdGVtIj5BbnN3ZXIgdHlwZToge3sgJHF1ZXN0aW9uUmVzcG9uc2UtPnF1ZXN0aW9uLT5raW5kIH19PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgQGlmKCRxdWVzdGlvblJlc3BvbnNlLT5xdWVzdGlvbi0+a2luZCA9PT0gJ2ZyZWUtYW5zd2VyJyAmJiAkcXVlc3Rpb25SZXNwb25zZS0+dHlwZSA9PT0gJ3ZvaWNlJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InZvaWNlLXJlc3BvbnNlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idm9pY2UtcmVzcG9uc2UtdGV4dCI+UmVzcG9uc2U6PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYSBmYS1wbGF5LWNpcmNsZSBmYS0yeCBwbGF5LWljb24iPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YXVkaW8gY2xhc3M9InZvaWNlLXJlc3BvbnNlIiBzcmM9Int7ICRxdWVzdGlvblJlc3BvbnNlLT5yZXNwb25zZSB9fSI+PC9hdWRpbz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgQGVsc2VpZigkcXVlc3Rpb25SZXNwb25zZS0+cXVlc3Rpb24tPmtpbmQgPT09ICd5ZXMtbm8nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpZigkcXVlc3Rpb25SZXNwb25zZS0+cmVzcG9uc2UgPT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBZRVMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGVuZGlmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgJHF1ZXN0aW9uUmVzcG9uc2UtPnJlc3BvbnNlIH19CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZW5kaWYKICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgQGlmKCFpc19udWxsKCRxdWVzdGlvblJlc3BvbnNlLT50cmFuc2NyaXB0aW9uKSkKICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPlRyYW5zY3JpYmVkIEFuc3dlcjoge3sgJHF1ZXN0aW9uUmVzcG9uc2UtPnRyYW5zY3JpcHRpb24gfX08L2xpPgogICAgICAgICAgICAgICAgICAgICAgICBAZW5kaWYKICAgICAgICAgICAgICAgICAgICA8L29sPgogICAgICAgICAgICAgICAgICAgIEBlbmRmb3JlYWNoCiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9saT4KICAgICAgICBAZW5kZm9yZWFjaAogICAgPC91bD4KPC9kaXY+CkBzdG9wCg==</textarea>
</div>
</div>
      <div class="saurus-overview">
        <ul></ul>
      </div>
    </div>
    <div class="saurus-code">
      <div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div>
      <div class="saurus-editor"></div>
    </div>
    <div class="saurus-explorer">
      <div class="saurus-file-list"></div><a href="https://github.com/TwilioDevEd/automated-survey-laravel" target="_blank" class="explorer-get-code"> <i class="fa fa-lg fa-github-square"> </i>View Code on GitHub</a>
    </div>
  </div>
</div>
</div>

      </div>
    </div>

    
    


<div class="footer" data-swiftype-index="false">
  <div class="uk-container uk-container-center">
    <div class="footer__statement">We can’t wait to see what you build.</div>
    <div class="uk-grid">
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Products</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/voice-video" class="footer__link">Voice &amp; Video</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/messaging" class="footer__link">Messaging</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/authy" class="footer__link">Authentication</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/wireless" class="footer__link">Connected Devices</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Use Cases</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/access-security" class="footer__link">Access Security</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/contextual-call-center" class="footer__link">Contextual Call Center</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/marketplace-communications" class="footer__link">Marketplace Communications</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/mobile-messaging" class="footer__link">Mobile Messaging</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">About</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/what-is-cloud-communications?" class="footer__link">What is Twilio?</a>
            </li>
            <li class="footer__list-item">
              <a href="https://customers.twilio.com/" class="footer__link">Customers</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help" class="footer__link">Get Help</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help/sales" class="footer__link">Talk to Sales</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-medium-2-5">
        <section class="footer__section">
  <header class="footer__header">Hits From The Blog</header>
  <ul class="footer__list footer__list">
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/building-an-ivr-with-no-code-by-using-taskrouter-as-a-state-machine.html" class="footer__link">Building an IVR with no code by using TaskRouter as a state machine</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/logrole-gives-you-permissions-based-granular-searching-for-twilio-logs.html" class="footer__link">Logrole Gives You Permissions Based, Granular Searching For Twilio Logs</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-callbacks-with-stamplay-twilio-and-unbounce.html" class="footer__link">Build Callbacks With Stamplay, Twilio and Unbounce</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-a-basic-call-center-in-just-a-few-minutes-with-twilio.html" class="footer__link">Build a Basic Call Center in Just a Few Minutes with Twilio</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/redact-delete-sms-messages-node-js.html" class="footer__link">Redact or Delete SMS Messages as They Arrive with Node.js</a>
    </li>
    
  </ul>

</section>
      </div>
    </div>
    <footer class="footer__footer">
      <div class="footer__logo" title="Twilio">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">
          <path d="M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11z"/>
          <circle cx="18.7" cy="11.3" r="3.1"/>
          <circle cx="18.7" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="11.3" r="3.1"/>
        </svg>
      </div>
      <ul class="legal__list">
        <li class="legal__list-item">
          <a href="https://www.twilio.com/company" class="legal__link">About Twilio</a>
        </li>
        <li class="legal__list-item">
          <a href="https://www.twilio.com/legal" class="legal__link">Legal</a>
        </li>
        <li class="legal__list-item">Copyright &copy; 2016 Twilio, Inc. 
          <br class="uk-visible-small">All Rights Reserved.
        </li>
      </ul>
    </footer>
  </div>
</div>


    
    <script src="https://www.twilio.com/docs/static/js/vendor.min.16abf41c42de.js"></script>
    

  

  <!-- Mixpanel -->
  <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
  typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,
    e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
    mixpanel.init("f71c19735fa6ecc5225ff563285e1794");
    </script>
  

  
    <!-- Heap -->
    <script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
    heap.load('1541905715');
    </script>
  

  
    <!-- GA -->
    <script type="text/javascript">
    try {
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2900316-1']);
      _gaq.push(['_setSiteSpeedSampleRate', 50]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    } catch(err) {}

    var _kmq = _kmq || [];
    </script>
  

  
    <!-- Eloqua -->
    <script type="text/javascript">
    var _elqQ = _elqQ || [];
    _elqQ.push(['elqSetSiteId', '815114181']);
    _elqQ.push(['elqTrackPageView']);
    _elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);

    (function () {
      function async_load() {
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
        s.src = 'http://img03.en25.com/i/elqCfg.min.js';
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
      }
      if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
      else if (window.attachEvent) window.attachEvent('onload', async_load);
    })();
    </script>
  

  
    <!-- Transifex -->
    <script type="text/javascript">
    window.liveSettings = {
      api_key: '4c06c1c5a6b341e591d969476fe2675f'
    };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>
    <style>
    .txlive-langselector { display: none; }
    </style>
  

  



    
      <script src="https://www.twilio.com/docs/static/js/docs.min.0c5bb1abb16f.js"></script>
    

    
    
<script type="text/javascript" src="https://www.twilio.com/docs/static/js-lib/ace/ace.js"></script>
<script type="text/javascript" src="https://www.twilio.com/docs/static/js-lib/ace/theme-monokai.js"></script>

<script type="text/javascript" src="https://www.twilio.com/docs/static/js/walkthrough.min.js"></script>





    

  </body>

<!-- Mirrored from www.twilio.com/docs/tutorials/walkthrough/automated-survey/php/laravel by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:54 GMT -->
</html>
