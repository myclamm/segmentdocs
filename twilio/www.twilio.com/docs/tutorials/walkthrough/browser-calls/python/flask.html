


<!DOCTYPE html>
<html class="no-js">
  
<!-- Mirrored from www.twilio.com/docs/tutorials/walkthrough/browser-calls/python/flask by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
	<!-- Optimizely -->
	<script src="https://cdn.optimizely.com/js/6082066.js"></script>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    
<meta name="description" content="Twilio Client allows your users to make and receive phone calls in their browsers.
This tutorial will show you the front-end and backend code necessary to make
browser-to-phone and browser-to-browser calls with Twilio Client.
Companies like Zendesk and
Home Depot use Twilio
Client to power their customer support centers. Learn how to do it yourself
in this tutorial.">

    

    <title>
      Browser Calls - Python / Flask Tutorial - Twilio
    </title>

    <link rel="canonical" href="https://www.twilio.com/docs/tutorials/walkthrough/browser-calls/python/flask" />

    
    <link rel="shortcut icon" href="https://www.twilio.com/docs/static/img/favicons/favicon.db41f19ea294.ico"/>
    <link rel="apple-touch-icon" href="https://www.twilio.com/docs/static/img/favicons/favicon_57.98200b6899e6.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.twilio.com/docs/static/img/favicons/favicon_72.86ae17486256.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.twilio.com/docs/static/img/favicons/favicon_114.ee1859950ad4.png"/>

    
    <link rel="stylesheet" type="text/css" href="http://cloud.typography.com/6230892/752864/css/fonts.css">
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-awesome.min.295235b28b6e.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/twilio-icons.45de73e993f2.css" />
    <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/font-mfizz.818f36cb00cc.css" />

    
    
    
    
    <meta property="og:url" content="https://www.twilio.com?utm_source=docs&utm_medium=social&utm_campaign=guides_tags">

    
    
    
    

    
    

    

    
      <link rel="stylesheet" href="https://www.twilio.com/docs/static/css/docs.min.05ed18599e08.css" />
    

    
    
<link rel="stylesheet" href="https://www.twilio.com/docs/static/legacy/walkthrough.css" />


    
    <script>
  var twilio = twilio || {};
  twilio.realm = "prod";
  twilio.SWIFTYPE_ENGINE_KEY = "T68bXEBf7NaKzyRpvbnG";
</script>


<script>
  twilio.account = twilio.account || {};
  

  twilio.user = twilio.user || {};
  
  

</script>


    <script>
  
  window.userBetaFeatures = ["marketplace", "enable-video-rooms"];
</script>

  </head>

  <body class="
    
      tutorials
    
    
    
  ">

    

	
	<!-- Google Tag Manager -->
	<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-MWRD6S"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window, document, 'script', 'dataLayer', 'GTM-MWRD6S');</script>
	<!-- End Google Tag Manager -->
	



    
    <div role="drawer" class="nav__drawer">
  <div role="drawer__wrapper" class="nav__drawer-wrapper">
    <div role="drawer__nav" class="nav__drawer-nav"><span class="nav__drawer-auth"><a href="https://www.twilio.com/login" class="nav__drawer-auth-link">Log In</a><a href="https://www.twilio.com/try-twilio" class="nav__drawer-auth-link">Sign Up</a></span><a href="#close" role="drawer__close" class="nav__drawer-close">Close</a></div>
    <div class="nav__drawer-menu">
      <div class="nav__drawer-container">
        <div class="nav__drawer-grid">
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Products</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/voice-video" class="nav__drawer-link nav__drawer-link--category">Voice &amp; Video</a></li>
                  <li><a href="https://www.twilio.com/voice" class="nav__drawer-link">Programmable Voice</a></li>
                  <li><a href="https://www.twilio.com/video" class="nav__drawer-link">Programmable Video</a></li>
                  <li><a href="https://www.twilio.com/sip-trunking" class="nav__drawer-link">Elastic SIP Trunking</a></li>
                  <li><a href="https://www.twilio.com/taskrouter" class="nav__drawer-link">TaskRouter</a></li>
                  <li><a href="https://www.twilio.com/stun-turn" class="nav__drawer-link">Network Traversal</a></li>
                </ul>
                <ul>
                  <li><a href="https://www.twilio.com/messaging" class="nav__drawer-link nav__drawer-link--category">Messaging</a></li>
                  <li><a href="https://www.twilio.com/sms" class="nav__drawer-link">Programmable SMS</a></li>
                  <li><a href="https://www.twilio.com/chat" class="nav__drawer-link">Programmable Chat</a></li>
                  <li><a href="https://www.twilio.com/notify" class="nav__drawer-link">Notify</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Authentication</div>
                  </li>
                  <li><a href="https://www.twilio.com/authy" class="nav__drawer-link">Authy</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Connectivity</div>
                  </li>
                  <li><a href="https://www.twilio.com/lookup" class="nav__drawer-link">Lookup</a></li>
                  <li><a href="https://www.twilio.com/phone-numbers" class="nav__drawer-link">Phone Numbers</a></li>
                  <li><a href="https://www.twilio.com/wireless" class="nav__drawer-link">Programmable Wireless</a></li>
                  <li><a href="https://www.twilio.com/sync" class="nav__drawer-link">Sync</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Marketplace</div>
                  </li>
                  <li><a href="https://www.twilio.com/marketplace/add-ons" class="nav__drawer-link">Add-ons</a></li>
                </ul>
                <ul>
                  <li>
                    <div class="nav__drawer-link nav__drawer-link--category">Platform</div>
                  </li>
                  <li><a href="https://www.twilio.com/enterprise" class="nav__drawer-link">Enterprise Plan</a></li>
                  <li><a href="https://www.twilio.com/interconnect" class="nav__drawer-link">Interconnect</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="nav__drawer-section">
            <div role="drawer__header" class="nav__drawer-header">Use Cases</div>
            <div role="drawer__dropdown" class="nav__drawer-dropdown">
              <ul>
                <li><a href="https://www.twilio.com/use-cases/access-security" class="nav__drawer-link nav__drawer-link--category">Access Security</a></li>
                <li><a href="https://www.twilio.com/use-cases/call-and-text-marketing" class="nav__drawer-link nav__drawer-link--category">Call &amp; Text Marketing</a></li>
                <li><a href="https://www.twilio.com/use-cases/collaboration" class="nav__drawer-link nav__drawer-link--category">Collaboration</a></li>
                <li><a href="https://www.twilio.com/use-cases/commerce-communications" class="nav__drawer-link nav__drawer-link--category">Commerce Communications</a></li>
                <li><a href="https://www.twilio.com/use-cases/contact-center" class="nav__drawer-link nav__drawer-link--category">Contact Center</a></li>
              </ul>
              <hr>
            </div>
            <div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://customers.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Customer Stories</a></li>
                  <li><a href="https://www.twilio.com/showcase" class="nav__drawer-link nav__drawer-link--small">Partner Showcase</a></li>
                  <li><a href="https://www.twilio.com/what-is-cloud-communications?" class="nav__drawer-link nav__drawer-link--small">Why Twilio?</a></li>
                  <li><a href="https://www.twilio.com/support-plans" class="nav__drawer-link nav__drawer-link--small">Support Plans</a></li>
                  <li><a href="http://status.twilio.com/" class="nav__drawer-link nav__drawer-link--small">Status</a></li>
                </ul>
              </div>
              <div class="nav__drawer-column">
                <ul>
                  <li><a href="https://www.twilio.com/docs" class="nav__drawer-link nav__drawer-link--small">API &amp; Docs</a></li>
                  <li><a href="https://www.twilio.com/blog" class="nav__drawer-link nav__drawer-link--small">Blog</a></li>
                  <li><a href="https://www.twilio.com/help" class="nav__drawer-link nav__drawer-link--small">Help</a></li>
                  <li><a href="https://www.twilio.com/company/jobs" class="nav__drawer-link nav__drawer-link--small">Jobs at Twilio</a></li>
                </ul>
              </div>
            </div>
            <div class="nav__sales"><a href="https://www.twilio.com/help/sales" class="nav__sales-button">Talk to Sales</a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div role="nav" class="nav nav--subnav nav--inverted nav--transparent " data-subnav-length="40">
  <div role="nav__menu" class="nav__header">
    <div class="nav__title"><a href="https://www.twilio.com/" class="nav__logo">Twilio</a></div>
    <nav class="nav__menu">
      <ul class="nav__menu-items">
        <li class="nav__menu-item"></li>
        
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/login" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="10.2" height="13.5" viewBox="0 0 10.2 13.5">
              <circle fill="none" stroke="#F22F46" stroke-miterlimit="10" cx="5.1" cy="3" r="2.5"></circle>
              <path fill="none" stroke="#F22F46" stroke-miterlimit="10" d="M.5 13.5c0-2.5 2.1-4.6 4.6-4.6s4.6 2.1 4.6 4.6"></path>
            </svg>
            Log In
          </a>
        </li>
        <li class="nav__menu-item">
          <a href="https://www.twilio.com/try-twilio" class="nav__menu-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">
              <path d="M0 6.5h13M6.5 0v13" fill="none" stroke="#F22F46" stroke-miterlimit="10"></path>
            </svg>
            Sign Up
          </a>
        </li>
        
        <li class="nav__menu-item"><a href="#menu" role="nav__activate" class="nav__menu-link nav__menu-activate"><span></span>Menu &amp; Products</a></li>
      </ul>
    </nav>
    <nav role="subnav" class="nav__subnav">
      <header class="nav__subnav-header">
        <a href="https://www.twilio.com/docs" class="nav__subnav-header-link">Docs</a>
        
          <a href="https://www.twilio.com/docs/tutorials" role="subnav__dropdown" 
            class="nav__subnav-link nav__subnav-current">Tutorials</a>
        
      </header>
      <ul role="subnav__items" class="nav__subnav-items">
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/quickstart" class="nav__subnav-link">Quickstart</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/guides" class="nav__subnav-link">Guides</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/tutorials" class="nav__subnav-link">Tutorials</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/api" class="nav__subnav-link">API Reference</a>
        </li>
        <li role="subnav__item" class="nav__subnav-item ">
          <a href="https://www.twilio.com/docs/libraries" class="nav__subnav-link">SDKs</a>
        </li>
      </ul>
    </nav>
  </div>
</div>



    
    

<div class="docs__pagenav">
  <div class="uk-container uk-container-center">
    <div class="uk-grid">

      <div class="uk-width-3-4 uk-hidden-small">
        <div class="breadcrumbs">
          <a href="https://www.twilio.com/docs/tutorials">Tutorials</a> &gt;
          <span>
            Browser Calls (Python |
            Flask)
          </span>
          <span class="get-the-code">
            <a target="_blank" title="Download Source Code" data-metric="download_source" 
               href="https://github.com/TwilioDevEd/browser-calls-flask/archive/master.zip">
              <i class="fa fa-download"></i>
            </a>
            <a target="_blank" title="Visit at GitHub" data-metric="view_source" 
               href="https://github.com/TwilioDevEd/browser-calls-flask/tree/master">
              <i class="fa fa-github"></i>
            </a>
          </span>
        </div>
      </div>

      <div class="uk-width-1-1 uk-width-medium-1-4">
        <div class="search">
          <form action="https://www.twilio.com/docs/search" method="GET">
            <div class="wrapper">
              <input id="search-box" name="q" type="text" value="">
            </div>
            <button type="submit">
              <i class="fa fa-fw fa-search"></i>
            </button>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>



    <div class="docs-container">
      <div class="uk-container">
        
        
<div class="viewsaurus-container">
	<div id="viewsaurus" data-title="Browser Calls">
  <div class="saurus-panes">
    <div class="saurus-prose">
      <div class="saurus-prose-header">
        <div class="title-outer"><span class="step-title">Browser Calls</span></div>
      </div>
      <div class="saurus-nav-buttons">
        <div class="saurus-nav-button nav-overview">
          <div class="saurus-nav-button-inner"><i class="fa fa-fw fa-list"></i></div>
          <div class="nav-divider"></div>
        </div>
        <div class="saurus-nav-button nav-previous">
          <div class="saurus-nav-button-inner"><a href="#"> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div>
          <div class="nav-divider"></div>
        </div>
        <div class="saurus-nav-button nav-next clickable">
          <div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div>
        </div>
        <div class="saurus-next-title"><span class="next-title-inner"></span></div>
      </div>
      <div class="saurus-progress-bar"></div>
      <div class="saurus-start">
        <p>Learn how to use Twilio Client to make browser-to-phone and browser-to-browser calls with ease. The unsatisfied customers of the Birchwood Bicycle Polo Co. need your help!</p><a href="#0">Start Tutorial</a>
      </div>
      <div class="saurus-content">
<div data-title="Browser Calls with Twilio and Flask" class="chapter">
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="91-105" class="step"><h2 id="what-does-this-thing-do-">What Does This Thing do?</h2>
<p>This <a href="http://flask.pocoo.org/">Flask</a> web application shows how you can
use <a href="https://www.twilio.com/client">Twilio Client</a> to make
browser-to-phone and browser-to-browser calls.</p>
<p><img src="http://howtodocs.s3.amazonaws.com/browser-calls/browser-calls-home.png" alt="Browser Calls home page"></p>
<p>This application powers the support site for the Birchwood Bicycle Polo
Co., which sells equipment to those who play
<a href="https://www.youtube.com/watch?v=DaK9Zj3QHDY">&quot;the sport of kings.&quot;</a> It
has three main features:</p>
<ul>
<li>Unsatisfied customers can submit support tickets with their phone number
and their problem</li>
<li>Support agents can call customers&#39; phones from their browser to follow up
on support tickets</li>
<li>Customers can also use their browser to speak with support agents live
when available</li>
</ul>
<p>In this tutorial, we&#39;ll point out the key bits of code that make this
application work.
<a href="https://github.com/TwilioDevEd/browser-calls-flask">Check out the project README on GitHub</a>
to see how to run the code yourself.</p>
<p>Let&#39;s get started! Click the right arrow above to advance to the next
code snippet.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://github.com/twilio/twilio-python/">Twilio Python Helper Library</a></li>
<li><a href="https://www.twilio.com/docs/client">Twilio Client docs</a></li>
<li><a href="http://flask.pocoo.org/docs/">Flask docs</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/forms.py" data-highlight="10-17" class="step"><h2 id="submit-a-support-ticket">Submit a Support Ticket</h2>
<p>The home page of our app displays a form for customers to submit support
tickets. We use one of Flask&#39;s community components to create forms,
<a href="https://flask-wtf.readthedocs.org/en/latest/">Flask-WTF</a>
to power the page.</p>
<p>The <code>SupportTicket</code> model itself has just a few fields. The <code>international_phone_number</code>
formatter uses the
<a href="https://github.com/daviddrysdale/python-phonenumbers">python-phonenumbers</a>
library.</p>
<pre><code>class SupportTicket(db.Model):
    &quot;&quot;&quot; Represents a support ticket &quot;&quot;&quot;
    __tablename__ = &quot;tickets&quot;

    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String, nullable=False)
    phone_number = db.Column(db.String, nullable=False)
    description = db.Column(db.String, nullable=False)
    timestamp = db.Column(db.DateTime)

    @property
    def international_phone_number(self):
        parsed_number = phonenumbers.parse(self.phone_number)
        return phonenumbers.format_number(parsed_number, PhoneNumberFormat.INTERNATIONAL)
</code></pre><hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://wtforms.readthedocs.org/en/latest/">WTForms</a></li>
<li><a href="http://flask-sqlalchemy.pocoo.org/">Flask SQLAlchemy models</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/templates/support_dashboard.html" data-highlight="33-56" class="step"><h2 id="the-support-dashboard">The Support Dashboard</h2>
<p>When a support agent visits the <code>/dashboard</code>, they see all of the support
tickets that have been submitted.</p>
<p><img src="http://howtodocs.s3.amazonaws.com/browser-calls/browser-calls-dashboard.png" alt="Browser Calls support dashboard"></p>
<p>Each ticket also has a &quot;Call Customer&quot; button which invokes a JavaScript
function we wrote named <code>callCustomer()</code>. That function kicks off a Twilio
Client call to the phone number passed as its sole parameter.</p>

  </div>
  <div data-file="browser_calls_flask/views.py" data-highlight="35-44, 55-58" class="step"><h2 id="generate-a-capability-token">Generate a Capability Token</h2>
<p>Before our users can make calls with Twilio Client in their browser, we
need to provide them a capability token.</p>
<p>We use the <a href="https://twilio-python.readthedocs.org/en/latest/">twilio-python</a>
helper library to generate and configure our capability tokens. To allow
our support agents to call the phone numbers on our tickets, we use the
<code>allow_client_outgoing()</code> method.</p>
<p>That method requires an identifier for a
<a href="https://www.twilio.com/help/faq/twilio-client/how-do-i-create-a-twiml-app">TwiML Application</a>.
Twilio will send a POST request to our backend <code>/support/call</code> endpoint every time a user makes a
Twilio Client call. The TwiML Application tells Twilio which URL to send
that request to.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/capability-tokens">Twilio Client: Capability Tokens</a></li>
<li><a href="https://twilio-python.readthedocs.org/en/latest/usage/token-generation.html">Generate Capability Tokens with twilio-python</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="18-29" class="step"><h2 id="set-up-twilio-client">Set up Twilio Client</h2>
<p>To use Twilio Client in a web browser we use the
<a href="https://www.twilio.com/docs/client/twilio-js">twilio.js library</a>.</p>
<p>We start by retrieving the capability token from the view we defined in the
previous step with an AJAX request. We then enable the Twilio Client
for this page passing our token as a parameter to <code>Twilio.Device.setup()</code>.</p>
<p>The <code>Twilio.Device.ready()</code> callback lets us know when the browser is
ready to make and receive calls.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://api.jquery.com/jquery.get/">jQuery <code>.get()</code></a></li>
<li><a href="https://www.twilio.com/docs/client/device#setup">Twilio.Device.setup()</a></li>
<li><a href="https://www.twilio.com/docs/client/device#ready">Twilio.Device.ready()</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="91-97" class="step"><h2 id="call-a-customer-browser-to-phone-">Call a Customer (browser-to-phone)</h2>
<p>When our support agent clicks &quot;Call Customer&quot; on a support ticket, this
function initiates the call.</p>
<p>We use <code>Twilio.Device.connect()</code> to begin a new outgoing call. Our backend
will tell Twilio how to handle this call. We therefore include a <code>phoneNumber</code>
parameter that we&#39;ll use in our <code>call</code> view.</p>
<p>Let&#39;s look at that view next.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/device#connect">Twilio.Device.connect()</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/views.py" data-highlight="61-70, 76" class="step"><h2 id="connect-the-call-to-a-phone-number">Connect the Call to a Phone Number</h2>
<p>Whenever one of our users makes a call, Twilio will send a POST request to
the URL we set on our TwiML Application - in this example it&#39;s
<code>/support/call</code>.</p>
<p>We use <a href="https://www.twilio.com/docs/api/twiml">TwiML</a> to respond to the
request and tell Twilio how to handle the call. Twilio will pass the
<code>phoneNumber</code> parameter, from the previous step, along its request. We
will then <a href="https://www.twilio.com/docs/api/twiml/dial">Dial</a> in our TwiML.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/api/twiml/number">&lt;Number&gt; TwiML verb</a></li>
<li><a href="https://twilio-python.readthedocs.org/en/latest/usage/twiml.html">TwiML creation with twilio-python</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="47-58, 62-63" class="step"><h2 id="the-call-is-live">The Call Is Live</h2>
<p>After our <code>call</code> view responds, Twilio completes the connection between
our support agent&#39;s browser and the customer&#39;s phone.</p>
<p>We use the <code>Twilio.Device.connect()</code> callback to update some UI elements
and make it clear that our user is on a call. This function receives a
<a href="https://www.twilio.com/docs/client/connection">Connection</a> object
that offers some additional details about the call.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/device#connect-handler">Twilio.Device.connect() callback</a></li>
<li><a href="http://api.jquery.com/prop/">jQuery .prop()</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="99-105" class="step"><h2 id="call-a-support-agent-browser-to-browser-">Call a Support Agent (browser-to-browser)</h2>
<p>Support tickets are useful, but sometimes a customer needs help right now.
With just a little more work we let customers talk to a support agent
live via a browser-to-browser call.</p>
<p><img src="http://howtodocs.s3.amazonaws.com/browser-calls/browser-calls-call-support.png" alt="Browser Calls call support"></p>
<p>When a customer clicks &quot;Call support&quot; on the home page we again use
<code>Twilio.Device.connect()</code> to initiate the call. This time we don&#39;t pass
any additional parameters — our backend will route this call to our
support agent.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/device#connect">Twilio.Device.connect()</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/views.py" data-highlight="46-50, 61-76" class="step"><h2 id="connect-the-call-to-the-support-agent">Connect the Call to the Support Agent</h2>
<p>To allow our support agents to accept incoming calls we use the
<code>allow_client_incoming()</code> method when generating their capability token.
We have to also pass <code>support_agent</code> as the client&#39;s name to this method.</p>
<p>When Twilio sends a POST request to our <code>call</code> view, we can connect the
call to our support agent by responding with a
<a href="https://www.twilio.com/docs/api/twiml/client">&lt;Client&gt;</a> TwiML noun and
the <code>support_agent</code> name.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/capability-tokens#allow-incoming-connections">Allow Incoming Connections on Capability Tokens</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="75-89" class="step"><h2 id="answer-the-call">Answer The Call</h2>
<p>When our support agent&#39;s client receives an incoming call, it will trigger
the function we defined on the <code>Twilio.Device.incoming()</code> callback.</p>
<p>The incoming <code>connection</code> will be &quot;pending&quot; until we invoke its
<code>.accept()</code> method. This is done in a function bound to the &quot;Answer
call&quot; button.</p>
<p>We also set a <code>.accept()</code> callback to update the UI once the call is live.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/device#incoming">Twilio.Device.incoming()</a></li>
<li><a href="https://www.twilio.com/docs/client/connection#accept">Twilio.Device.accept()</a></li>
<li><a href="https://api.jquery.com/click/">jQuery .click()</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="107-110, 65-73" class="step"><h2 id="ending-a-call">Ending a call</h2>
<p>To end the call we invoke <code>Twilio.Device.disconnectAll()</code>, which we wired
to the &quot;Hang up&quot; button in our UI.</p>
<p>We also define a callback function with <code>Twilio.Device.disconnect()</code>,
above, to reset some UI elements.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/device#disconnect-all">Twilio.Device.disconnectAll()</a></li>
<li><a href="https://www.twilio.com/docs/client/device#disconnect">Twilio.Device.disconnect()</a></li>
</ul>

  </div>
  <div data-file="browser_calls_flask/static/js/browser-calls.js" data-highlight="36-45" class="step"><h2 id="check-if-a-support-agent-is-available">Check if a support agent is available</h2>
<p>If a customer calls support but no support agent is online, their call
will go unanswered. To avoid this frustration, when no agent is available,
we display a message above the &quot;Call support&quot; button.</p>
<p><img src="http://howtodocs.s3.amazonaws.com/browser-calls/browser-calls-support-unavailable.png" alt="Browser Calls support unavailable"></p>
<p>We use <code>Twilio.Device.presence()</code> to update this message when the
support agent&#39;s availability changes.</p>
<hr>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://www.twilio.com/docs/client/device#presence">Twilio Client .presence()</a></li>
</ul>

  </div>
  <div class="step"><h2 id="where-to-next-">Where To Next?</h2>
<p>That&#39;s it! Our Flask application now powers browser-to-phone and
browser-to-browser calls using Twilio Client.</p>
<p>If you&#39;re a Python developer working with Twilio, you might also enjoy these
tutorials:</p>
<p><a href="https://www.twilio.com/docs/tutorials/walkthrough/eta-notifications/python/flask"><strong>ETA Notifications (Flask)</strong></a></p>
<p>ETA notifications implementation with Python - Flask and Twilio.</p>
<p><a href="https://www.twilio.com/docs/tutorials/walkthrough/call-tracking/python/django"><strong>Call Tracking (Django)</strong></a></p>
<p>Use Twilio to track the effectiveness of your different marketing campaigns.</p>
<p>Thanks for checking out this tutorial! If you have any feedback to share
with us, we&#39;d love to hear it. <a href="http://www.twilio.com/help/contact">Contact support</a> to let us know what you think.</p>

  </div>
</div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="browser_calls_flask/static/js/browser-calls.js" data-mode="javascript">LyoqCiAqIFR3aWxpbyBDbGllbnQgY29uZmlndXJhdGlvbiBmb3IgdGhlIGJyb3dzZXItY2FsbHMtZGphbmdvCiAqIGV4YW1wbGUgYXBwbGljYXRpb24uCiAqLwoKLy8gU3RvcmUgc29tZSBzZWxlY3RvcnMgZm9yIGVsZW1lbnRzIHdlJ2xsIHJldXNlCnZhciBjYWxsU3RhdHVzID0gJCgiI2NhbGwtc3RhdHVzIik7CnZhciBhbnN3ZXJCdXR0b24gPSAkKCIuYW5zd2VyLWJ1dHRvbiIpOwp2YXIgY2FsbFN1cHBvcnRCdXR0b24gPSAkKCIuY2FsbC1zdXBwb3J0LWJ1dHRvbiIpOwp2YXIgaGFuZ1VwQnV0dG9uID0gJCgiLmhhbmd1cC1idXR0b24iKTsKdmFyIGNhbGxDdXN0b21lckJ1dHRvbnMgPSAkKCIuY2FsbC1jdXN0b21lci1idXR0b24iKTsKCi8qIEhlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGNhbGwgc3RhdHVzIGJhciAqLwpmdW5jdGlvbiB1cGRhdGVDYWxsU3RhdHVzKHN0YXR1cykgewogICAgY2FsbFN0YXR1cy50ZXh0KHN0YXR1cyk7Cn0KCi8qIEdldCBhIFR3aWxpbyBDbGllbnQgdG9rZW4gd2l0aCBhbiBBSkFYIHJlcXVlc3QgKi8KJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7CiAgICAkLmdldCgiL3N1cHBvcnQvdG9rZW4iLCB7Zm9yUGFnZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSwgZnVuY3Rpb24oZGF0YSkgewogICAgICAgIC8vIFNldCB1cCB0aGUgVHdpbGlvIENsaWVudCBEZXZpY2Ugd2l0aCB0aGUgdG9rZW4KICAgICAgICBUd2lsaW8uRGV2aWNlLnNldHVwKGRhdGEudG9rZW4pOwogICAgfSk7Cn0pOwoKLyogQ2FsbGJhY2sgdG8gbGV0IHVzIGtub3cgVHdpbGlvIENsaWVudCBpcyByZWFkeSAqLwpUd2lsaW8uRGV2aWNlLnJlYWR5KGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgIHVwZGF0ZUNhbGxTdGF0dXMoIlJlYWR5Iik7Cn0pOwoKLyogUmVwb3J0IGFueSBlcnJvcnMgdG8gdGhlIGNhbGwgc3RhdHVzIGRpc3BsYXkgKi8KVHdpbGlvLkRldmljZS5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHsKICAgIHVwZGF0ZUNhbGxTdGF0dXMoIkVSUk9SOiAiICsgZXJyb3IubWVzc2FnZSk7Cn0pOwoKLyogQ2FsbGJhY2sgdG8gZGV0ZXJtaW5lIGlmICJzdXBwb3J0X2FnZW50IiBpcyBhdmFpbGFibGUgb3Igbm90ICovClR3aWxpby5EZXZpY2UucHJlc2VuY2UoZnVuY3Rpb24ocHJlc2VuY2VFdmVudCkgewogICAgaWYgKHByZXNlbmNlRXZlbnQuZnJvbSA9PT0gJ3N1cHBvcnRfYWdlbnQnKSB7CiAgICAgICAgaWYgKHByZXNlbmNlRXZlbnQuYXZhaWxhYmxlKSB7CiAgICAgICAgICAgICQoIiNzdXBwb3J0LXVuYXZhaWxhYmxlIikuaGlkZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICQoIiNzdXBwb3J0LXVuYXZhaWxhYmxlIikuc2hvdygpOwogICAgICAgIH0KICAgIH0KfSk7CgovKiBDYWxsYmFjayBmb3Igd2hlbiBUd2lsaW8gQ2xpZW50IGluaXRpYXRlcyBhIG5ldyBjb25uZWN0aW9uICovClR3aWxpby5EZXZpY2UuY29ubmVjdChmdW5jdGlvbiAoY29ubmVjdGlvbikgewogICAgLy8gRW5hYmxlIHRoZSBoYW5nIHVwIGJ1dHRvbiBhbmQgZGlzYWJsZSB0aGUgY2FsbCBidXR0b25zCiAgICBoYW5nVXBCdXR0b24ucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICBjYWxsQ3VzdG9tZXJCdXR0b25zLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICBjYWxsU3VwcG9ydEJ1dHRvbi5wcm9wKCJkaXNhYmxlZCIsIHRydWUpOwogICAgYW5zd2VyQnV0dG9uLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CgogICAgLy8gSWYgcGhvbmVOdW1iZXIgaXMgcGFydCBvZiB0aGUgY29ubmVjdGlvbiwgdGhpcyBpcyBhIGNhbGwgZnJvbSBhCiAgICAvLyBzdXBwb3J0IGFnZW50IHRvIGEgY3VzdG9tZXIncyBwaG9uZQogICAgaWYgKCJwaG9uZU51bWJlciIgaW4gY29ubmVjdGlvbi5tZXNzYWdlKSB7CiAgICAgICAgdXBkYXRlQ2FsbFN0YXR1cygiSW4gY2FsbCB3aXRoICIgKyBjb25uZWN0aW9uLm1lc3NhZ2UucGhvbmVOdW1iZXIpOwogICAgfSBlbHNlIHsKICAgICAgICAvLyBUaGlzIGlzIGEgY2FsbCBmcm9tIGEgd2Vic2l0ZSB1c2VyIHRvIGEgc3VwcG9ydCBhZ2VudAogICAgICAgIHVwZGF0ZUNhbGxTdGF0dXMoIkluIGNhbGwgd2l0aCBzdXBwb3J0Iik7CiAgICB9Cn0pOwoKLyogQ2FsbGJhY2sgZm9yIHdoZW4gYSBjYWxsIGVuZHMgKi8KVHdpbGlvLkRldmljZS5kaXNjb25uZWN0KGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHsKICAgIC8vIERpc2FibGUgdGhlIGhhbmd1cCBidXR0b24gYW5kIGVuYWJsZSB0aGUgY2FsbCBidXR0b25zCiAgICBoYW5nVXBCdXR0b24ucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsKICAgIGNhbGxDdXN0b21lckJ1dHRvbnMucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICBjYWxsU3VwcG9ydEJ1dHRvbi5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKCiAgICB1cGRhdGVDYWxsU3RhdHVzKCJSZWFkeSIpOwp9KTsKCi8qIENhbGxiYWNrIGZvciB3aGVuIFR3aWxpbyBDbGllbnQgcmVjZWl2ZXMgYSBuZXcgaW5jb21pbmcgY2FsbCAqLwpUd2lsaW8uRGV2aWNlLmluY29taW5nKGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHsKICAgIHVwZGF0ZUNhbGxTdGF0dXMoIkluY29taW5nIHN1cHBvcnQgY2FsbCIpOwoKICAgIC8vIFNldCBhIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgYWNjZXB0ZWQKICAgIGNvbm5lY3Rpb24uYWNjZXB0KGZ1bmN0aW9uKCkgewogICAgICAgIHVwZGF0ZUNhbGxTdGF0dXMoIkluIGNhbGwgd2l0aCBjdXN0b21lciIpOwogICAgfSk7CgogICAgLy8gU2V0IGEgY2FsbGJhY2sgb24gdGhlIGFuc3dlciBidXR0b24gYW5kIGVuYWJsZSBpdAogICAgYW5zd2VyQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgIGNvbm5lY3Rpb24uYWNjZXB0KCk7CiAgICB9KTsKICAgIGFuc3dlckJ1dHRvbi5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKfSk7CgovKiBDYWxsIGEgY3VzdG9tZXIgZnJvbSBhIHN1cHBvcnQgdGlja2V0ICovCmZ1bmN0aW9uIGNhbGxDdXN0b21lcihwaG9uZU51bWJlcikgewogICAgdXBkYXRlQ2FsbFN0YXR1cygiQ2FsbGluZyAiICsgcGhvbmVOdW1iZXIgKyAiLi4uIik7CgogICAgdmFyIHBhcmFtcyA9IHsicGhvbmVOdW1iZXIiOiBwaG9uZU51bWJlcn07CiAgICBUd2lsaW8uRGV2aWNlLmNvbm5lY3QocGFyYW1zKTsKfQoKLyogQ2FsbCB0aGUgc3VwcG9ydF9hZ2VudCBmcm9tIHRoZSBob21lIHBhZ2UgKi8KZnVuY3Rpb24gY2FsbFN1cHBvcnQoKSB7CiAgICB1cGRhdGVDYWxsU3RhdHVzKCJDYWxsaW5nIHN1cHBvcnQuLi4iKTsKCiAgICAvLyBPdXIgYmFja2VuZCB3aWxsIGFzc3VtZSB0aGF0IG5vIHBhcmFtcyBtZWFucyBhIGNhbGwgdG8gc3VwcG9ydF9hZ2VudAogICAgVHdpbGlvLkRldmljZS5jb25uZWN0KCk7Cn0KCi8qIEVuZCBhIGNhbGwgKi8KZnVuY3Rpb24gaGFuZ1VwKCkgewogICAgVHdpbGlvLkRldmljZS5kaXNjb25uZWN0QWxsKCk7Cn0K</textarea>
<textarea class="saurus-file" data-file="browser_calls_flask/forms.py" data-mode="python">ZnJvbSBmbGFza193dGYgaW1wb3J0IEZvcm0KZnJvbSB3dGZvcm1zIGltcG9ydCBTdHJpbmdGaWVsZApmcm9tIHd0Zm9ybXMgaW1wb3J0IFRleHRBcmVhRmllbGQKZnJvbSB3dGZvcm1zLnZhbGlkYXRvcnMgaW1wb3J0IERhdGFSZXF1aXJlZApmcm9tIHd0Zm9ybXMudmFsaWRhdG9ycyBpbXBvcnQgVmFsaWRhdGlvbkVycm9yCgpmcm9tIC52YWxpZGF0b3JzIGltcG9ydCBpc192YWxpZF9udW1iZXIKCgpjbGFzcyBTdXBwb3J0VGlja2V0Rm9ybShGb3JtKToKICAgICAgICBuYW1lID0gU3RyaW5nRmllbGQoJ05hbWUnLCB2YWxpZGF0b3JzPVtEYXRhUmVxdWlyZWQoKV0pCiAgICAgICAgcGhvbmVfbnVtYmVyID0gU3RyaW5nRmllbGQoJ1Bob25lIE51bWJlcicsIGRlc2NyaXB0aW9uPSdNdXN0IGluY2x1ZGUgaW50ZXJuYXRpb25hbCBwcmVmaXggLSBlLmcuICsxIDU1NSA1NTUgNTU1NTUnLCB2YWxpZGF0b3JzPVtEYXRhUmVxdWlyZWQoKV0pCiAgICAgICAgZGVzY3JpcHRpb24gPSBUZXh0QXJlYUZpZWxkKCdEZXNjcmlwdGlvbicsIGRlc2NyaXB0aW9uPSdBIGRlc2NyaXB0aW9uIG9mIHlvdXIgcHJvYmxlbScsIHZhbGlkYXRvcnM9W0RhdGFSZXF1aXJlZCgpXSkKCiAgICAgICAgZGVmIHZhbGlkYXRlX3Bob25lX251bWJlcihmb3JtLCBmaWVsZCk6CiAgICAgICAgICAgIGlmIG5vdCBpc192YWxpZF9udW1iZXIoZmllbGQuZGF0YSk6CiAgICAgICAgICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXJyb3IoIkludmFsaWQgcGhvbmUgbnVtYmVyISIpCg==</textarea>
<textarea class="saurus-file" data-file="browser_calls_flask/templates/support_dashboard.html" data-mode="html">eyUgZXh0ZW5kcyAibGF5b3V0Lmh0bWwiICV9Cgp7JSBibG9jayB0aXRsZSAlfVN1cHBvcnQgRGFzaGJvYXJkeyUgZW5kYmxvY2sgdGl0bGUgJX0KCnslIGJsb2NrIGNvbnRlbnQgJX0KICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgoKICAgIDxoMj5TdXBwb3J0IFRpY2tldHM8L2gyPgoKICAgIDxwIGNsYXNzPSJsZWFkIj4KICAgICAgVGhpcyBpcyB0aGUgbGlzdCBvZiBtb3N0IHJlY2VudCBzdXBwb3J0IHRpY2tldHMuIENsaWNrIHRoZSAiQ2FsbCBjdXN0b21lciIgYnV0dG9uIHRvIHN0YXJ0IGEgcGhvbmUgY2FsbCBmcm9tIHlvdXIgYnJvd3Nlci4KICAgIDwvcD4KCiAgICA8ZGl2IGNsYXNzPSJyb3ciPgoKICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTQgY29sLW1kLXB1c2gtOCI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtcHJpbWFyeSBjbGllbnQtY29udHJvbHMiPgogICAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+CiAgICAgICAgICAgIDxoMyBjbGFzcz0icGFuZWwtdGl0bGUiPk1ha2UgYSBjYWxsPC9oMz4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+CiAgICAgICAgICAgIDxwPjxzdHJvbmc+U3RhdHVzPC9zdHJvbmc+PC9wPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3ZWxsIHdlbGwtc20iIGlkPSJjYWxsLXN0YXR1cyI+CiAgICAgICAgICAgICAgQ29ubmVjdGluZyB0byBUd2lsaW8uLi4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWxnIGJ0bi1zdWNjZXNzIGFuc3dlci1idXR0b24iIGRpc2FibGVkPkFuc3dlciBjYWxsPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tbGcgYnRuLWRhbmdlciBoYW5ndXAtYnV0dG9uIiBkaXNhYmxlZCBvbmNsaWNrPSJoYW5nVXAoKSI+SGFuZyB1cDwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTggY29sLW1kLXB1bGwtNCI+CiAgICAgICAgeyUgZm9yIHRpY2tldCBpbiBzdXBwb3J0X3RpY2tldHMgJX0KICAgICAgICAgIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWRlZmF1bHQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj4KICAgICAgICAgICAgICA8aDMgY2xhc3M9InBhbmVsLXRpdGxlIj5UaWNrZXQgI3t7IHRpY2tldC5pZCB9fSA8c21hbGwgY2xhc3M9InB1bGwtcmlnaHQiPnt7IHRpY2tldC50aW1lc3RhbXAgfX08L3NtYWxsPjwvaDM+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+CgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InB1bGwtcmlnaHQiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjYWxsQ3VzdG9tZXIoJ3t7IHRpY2tldC5waG9uZV9udW1iZXIgfX0nKSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IGJ0bi1sZyBjYWxsLWN1c3RvbWVyLWJ1dHRvbiI+CiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWVhcnBob25lIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9zcGFuPiAgQ2FsbCBjdXN0b21lcgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgIDxwPjxzdHJvbmc+TmFtZTo8L3N0cm9uZz4ge3sgdGlja2V0Lm5hbWUgfX08L3A+CiAgICAgICAgICAgICAgPHA+PHN0cm9uZz5QaG9uZSBudW1iZXI6PC9zdHJvbmc+IHt7IHRpY2tldC5pbnRlcm5hdGlvbmFsX3Bob25lX251bWJlcn19PC9wPgogICAgICAgICAgICAgIDxwPjxzdHJvbmc+RGVzY3JpcHRpb246PC9zdHJvbmc+PC9wPgogICAgICAgICAgICAgIHt7IHRpY2tldC5kZXNjcmlwdGlvbnxzYWZlIH19CgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIHslIGVuZGZvciAlfQogICAgICA8L2Rpdj4KCiAgICA8L2Rpdj4KICA8L2Rpdj4KeyUgZW5kYmxvY2sgJX0K</textarea>
<textarea class="saurus-file" data-file="browser_calls_flask/views.py" data-mode="python">ZnJvbSBmbGFzayBpbXBvcnQgcmVuZGVyX3RlbXBsYXRlLCBmbGFzaCwganNvbmlmeSwgcmVxdWVzdApmcm9tIC4gaW1wb3J0IGFwcCwgZGIKZnJvbSAuZm9ybXMgaW1wb3J0IFN1cHBvcnRUaWNrZXRGb3JtCmZyb20gLm1vZGVscyBpbXBvcnQgU3VwcG9ydFRpY2tldAoKZnJvbSB0d2lsaW8udXRpbCBpbXBvcnQgVHdpbGlvQ2FwYWJpbGl0eQpmcm9tIHR3aWxpbyBpbXBvcnQgdHdpbWwKCgpAYXBwLnJvdXRlKCcvJykKZGVmIHJvb3QoKToKICAgIGZvcm0gPSBTdXBwb3J0VGlja2V0Rm9ybSgpCiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdob21lLmh0bWwnLCBmb3JtPWZvcm0pCgoKQGFwcC5yb3V0ZSgnL3RpY2tldHMnLCBtZXRob2RzPVsnR0VUJywgJ1BPU1QnXSkKZGVmIG5ld190aWNrZXQoKToKICAgIHN1Y2Nlc3NfbWVzc2FnZSA9ICJZb3VyIHRpY2tldCB3YXMgc3VibWl0dGVkISBBbiBhZ2VudCB3aWxsIGNhbGwgeW91IHNvb24uIgogICAgZm9ybSA9IFN1cHBvcnRUaWNrZXRGb3JtKCkKCiAgICBpZiBmb3JtLnZhbGlkYXRlX29uX3N1Ym1pdCgpOgogICAgICAgIHRpY2tldCA9IFN1cHBvcnRUaWNrZXQoKipmb3JtLmRhdGEpCiAgICAgICAgZGIuc2Vzc2lvbi5hZGQodGlja2V0KQogICAgICAgIGRiLnNlc3Npb24uY29tbWl0KCkKICAgICAgICBmbGFzaChzdWNjZXNzX21lc3NhZ2UpCiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdob21lLmh0bWwnLCBmb3JtPWZvcm0pCgoKQGFwcC5yb3V0ZSgnL2Rhc2hib2FyZCcsIG1ldGhvZHM9WydHRVQnXSkKZGVmIGRhc2hib2FyZCgpOgogICAgc3VwcG9ydF90aWNrZXRzID0gU3VwcG9ydFRpY2tldC5xdWVyeS5hbGwoKQogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgnc3VwcG9ydF9kYXNoYm9hcmQuaHRtbCcsIHN1cHBvcnRfdGlja2V0cz1zdXBwb3J0X3RpY2tldHMpCgoKQGFwcC5yb3V0ZSgnL3N1cHBvcnQvdG9rZW4nLCBtZXRob2RzPVsnR0VUJ10pCmRlZiBnZXRfdG9rZW4oKToKICAgICIiIlJldHVybnMgYSBUd2lsaW8gQ2xpZW50IHRva2VuIiIiCiAgICAjIENyZWF0ZSBhIFR3aWxpb0NhcGFiaWxpdHkgb2JqZWN0IHdpdGggb3VyIFR3aWxpbyBBUEkgY3JlZGVudGlhbHMKICAgIGNhcGFiaWxpdHkgPSBUd2lsaW9DYXBhYmlsaXR5KAogICAgICAgIGFwcC5jb25maWdbJ1RXSUxJT19BQ0NPVU5UX1NJRCddLAogICAgICAgIGFwcC5jb25maWdbJ1RXSUxJT19BVVRIX1RPS0VOJ10pCgogICAgIyBBbGxvdyBvdXIgdXNlcnMgdG8gbWFrZSBvdXRnb2luZyBjYWxscyB3aXRoIFR3aWxpbyBDbGllbnQKICAgIGNhcGFiaWxpdHkuYWxsb3dfY2xpZW50X291dGdvaW5nKGFwcC5jb25maWdbJ1RXSU1MX0FQUExJQ0FUSU9OX1NJRCddKQoKICAgICMgSWYgdGhlIHVzZXIgaXMgb24gdGhlIHN1cHBvcnQgZGFzaGJvYXJkIHBhZ2UsIHdlIGFsbG93IHRoZW0gdG8gYWNjZXB0CiAgICAjIGluY29taW5nIGNhbGxzIHRvICJzdXBwb3J0X2FnZW50IgogICAgIyAoaW4gYSByZWFsIGFwcCB3ZSB3b3VsZCBhbHNvIHJlcXVpcmUgdGhlIHVzZXIgdG8gYmUgYXV0aGVudGljYXRlZCkKICAgIGlmIHJlcXVlc3QuYXJncy5nZXQoJ2ZvclBhZ2UnKSA9PSAnL2Rhc2hib2FyZCc6CiAgICAgICAgY2FwYWJpbGl0eS5hbGxvd19jbGllbnRfaW5jb21pbmcoJ3N1cHBvcnRfYWdlbnQnKQogICAgZWxzZToKICAgICAgICAjIE90aGVyd2lzZSB3ZSBnaXZlIHRoZW0gYSBuYW1lIG9mICJjdXN0b21lciIKICAgICAgICBjYXBhYmlsaXR5LmFsbG93X2NsaWVudF9pbmNvbWluZygnY3VzdG9tZXInKQoKICAgICMgR2VuZXJhdGUgdGhlIGNhcGFiaWxpdHkgdG9rZW4KICAgIHRva2VuID0gY2FwYWJpbGl0eS5nZW5lcmF0ZSgpCgogICAgcmV0dXJuIGpzb25pZnkoeyd0b2tlbic6IHRva2VufSkKCgpAYXBwLnJvdXRlKCcvc3VwcG9ydC9jYWxsJywgbWV0aG9kcz1bJ1BPU1QnXSkKZGVmIGNhbGwoKToKICAgICIiIlJldHVybnMgVHdpTUwgaW5zdHJ1Y3Rpb25zIHRvIFR3aWxpbydzIFBPU1QgcmVxdWVzdHMiIiIKICAgIHJlc3BvbnNlID0gdHdpbWwuUmVzcG9uc2UoKQoKICAgIHdpdGggcmVzcG9uc2UuZGlhbChjYWxsZXJJZD1hcHAuY29uZmlnWydUV0lMSU9fTlVNQkVSJ10pIGFzIGRpYWw6CiAgICAgICAgIyBJZiB0aGUgYnJvd3NlciBzZW50IGEgcGhvbmVOdW1iZXIgcGFyYW0sIHdlIGtub3cgdGhpcyByZXF1ZXN0CiAgICAgICAgIyBpcyBhIHN1cHBvcnQgYWdlbnQgdHJ5aW5nIHRvIGNhbGwgYSBjdXN0b21lcidzIHBob25lCiAgICAgICAgaWYgJ3Bob25lTnVtYmVyJyBpbiByZXF1ZXN0LmZvcm06CiAgICAgICAgICAgIGRpYWwubnVtYmVyKHJlcXVlc3QuZm9ybVsncGhvbmVOdW1iZXInXSkKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIE90aGVyd2lzZSB3ZSBhc3N1bWUgdGhpcyByZXF1ZXN0IGlzIGEgY3VzdG9tZXIgdHJ5aW5nCiAgICAgICAgICAgICMgdG8gY29udGFjdCBzdXBwb3J0IGZyb20gdGhlIGhvbWUgcGFnZQogICAgICAgICAgICBkaWFsLmNsaWVudCgnc3VwcG9ydF9hZ2VudCcpCgogICAgcmV0dXJuIHN0cihyZXNwb25zZSkK</textarea>
</div>
</div>
      <div class="saurus-overview">
        <ul></ul>
      </div>
    </div>
    <div class="saurus-code">
      <div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div>
      <div class="saurus-editor"></div>
    </div>
    <div class="saurus-explorer">
      <div class="saurus-file-list"></div><a href="https://github.com/TwilioDevEd/browser-calls-flask" target="_blank" class="explorer-get-code"> <i class="fa fa-lg fa-github-square"> </i>View Code on GitHub</a>
    </div>
  </div>
</div>
</div>

      </div>
    </div>

    
    


<div class="footer" data-swiftype-index="false">
  <div class="uk-container uk-container-center">
    <div class="footer__statement">We can’t wait to see what you build.</div>
    <div class="uk-grid">
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Products</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/voice-video" class="footer__link">Voice &amp; Video</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/messaging" class="footer__link">Messaging</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/authy" class="footer__link">Authentication</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/wireless" class="footer__link">Connected Devices</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">Use Cases</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/access-security" class="footer__link">Access Security</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/contextual-call-center" class="footer__link">Contextual Call Center</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/marketplace-communications" class="footer__link">Marketplace Communications</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/use-cases/mobile-messaging" class="footer__link">Mobile Messaging</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5">
        <section class="footer__section">
          <header class="footer__header">About</header>
          <ul class="footer__list">
            <li class="footer__list-item">
              <a href="https://www.twilio.com/what-is-cloud-communications?" class="footer__link">What is Twilio?</a>
            </li>
            <li class="footer__list-item">
              <a href="https://customers.twilio.com/" class="footer__link">Customers</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help" class="footer__link">Get Help</a>
            </li>
            <li class="footer__list-item">
              <a href="https://www.twilio.com/help/sales" class="footer__link">Talk to Sales</a>
            </li>
          </ul>
        </section>
      </div>
      <div class="uk-width-1-1 uk-width-medium-2-5">
        <section class="footer__section">
  <header class="footer__header">Hits From The Blog</header>
  <ul class="footer__list footer__list">
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/building-an-ivr-with-no-code-by-using-taskrouter-as-a-state-machine.html" class="footer__link">Building an IVR with no code by using TaskRouter as a state machine</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/logrole-gives-you-permissions-based-granular-searching-for-twilio-logs.html" class="footer__link">Logrole Gives You Permissions Based, Granular Searching For Twilio Logs</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-callbacks-with-stamplay-twilio-and-unbounce.html" class="footer__link">Build Callbacks With Stamplay, Twilio and Unbounce</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/build-a-basic-call-center-in-just-a-few-minutes-with-twilio.html" class="footer__link">Build a Basic Call Center in Just a Few Minutes with Twilio</a>
    </li>
    
    <li class="footer__list-item">
      <a href="https://www.twilio.com/blog/2017/01/redact-delete-sms-messages-node-js.html" class="footer__link">Redact or Delete SMS Messages as They Arrive with Node.js</a>
    </li>
    
  </ul>

</section>
      </div>
    </div>
    <footer class="footer__footer">
      <div class="footer__logo" title="Twilio">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">
          <path d="M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11z"/>
          <circle cx="18.7" cy="11.3" r="3.1"/>
          <circle cx="18.7" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="18.7" r="3.1"/>
          <circle cx="11.3" cy="11.3" r="3.1"/>
        </svg>
      </div>
      <ul class="legal__list">
        <li class="legal__list-item">
          <a href="https://www.twilio.com/company" class="legal__link">About Twilio</a>
        </li>
        <li class="legal__list-item">
          <a href="https://www.twilio.com/legal" class="legal__link">Legal</a>
        </li>
        <li class="legal__list-item">Copyright &copy; 2016 Twilio, Inc. 
          <br class="uk-visible-small">All Rights Reserved.
        </li>
      </ul>
    </footer>
  </div>
</div>


    
    <script src="https://www.twilio.com/docs/static/js/vendor.min.16abf41c42de.js"></script>
    

  

  <!-- Mixpanel -->
  <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
  typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,
    e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
    mixpanel.init("f71c19735fa6ecc5225ff563285e1794");
    </script>
  

  
    <!-- Heap -->
    <script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
    heap.load('1541905715');
    </script>
  

  
    <!-- GA -->
    <script type="text/javascript">
    try {
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2900316-1']);
      _gaq.push(['_setSiteSpeedSampleRate', 50]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    } catch(err) {}

    var _kmq = _kmq || [];
    </script>
  

  
    <!-- Eloqua -->
    <script type="text/javascript">
    var _elqQ = _elqQ || [];
    _elqQ.push(['elqSetSiteId', '815114181']);
    _elqQ.push(['elqTrackPageView']);
    _elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);

    (function () {
      function async_load() {
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
        s.src = 'http://img03.en25.com/i/elqCfg.min.js';
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
      }
      if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
      else if (window.attachEvent) window.attachEvent('onload', async_load);
    })();
    </script>
  

  
    <!-- Transifex -->
    <script type="text/javascript">
    window.liveSettings = {
      api_key: '4c06c1c5a6b341e591d969476fe2675f'
    };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>
    <style>
    .txlive-langselector { display: none; }
    </style>
  

  



    
      <script src="https://www.twilio.com/docs/static/js/docs.min.0c5bb1abb16f.js"></script>
    

    
    
<script type="text/javascript" src="https://www.twilio.com/docs/static/js-lib/ace/ace.js"></script>
<script type="text/javascript" src="https://www.twilio.com/docs/static/js-lib/ace/theme-monokai.js"></script>

<script type="text/javascript" src="https://www.twilio.com/docs/static/js/walkthrough.min.js"></script>





    

  </body>

<!-- Mirrored from www.twilio.com/docs/tutorials/walkthrough/browser-calls/python/flask by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:54 GMT -->
</html>
