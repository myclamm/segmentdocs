<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:10:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<script type="text/javascript">
(function() {
    var projectId = 3524915770;
    var protocol = ('https:' == document.location.protocol ?
    'https://' : 'http://');
    var scriptTag = document.createElement('script');
    scriptTag.type = 'text/javascript';
    scriptTag.async = true;
    scriptTag.src = protocol + 'cdn.optimizely.com/js/' +
    projectId + '.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(scriptTag, s);
})();
function optimizelyTimeout() {
    window.optimizely = window.optimizely|| [];
    if (!window.optimizely.data) {
    window.optimizely.push("timeout");
    }
}
setTimeout(optimizelyTimeout, 1000);
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.twilio.com/blog/xmlrpc.php">
<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '815114181']);
_elqQ.push(['elqTrackPageView']);
_elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);
(function () {
  function async_load()
  {
    var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
    s.src = 'http://img03.en25.com/i/elqCfg.min.js';
    var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
  }
  if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
  else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>
<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','http://connect.facebook.net/en_US/fbevents.js');

fbq('init', '467131150158811');
fbq('track', "PageView");</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=467131150158811&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

<style>
@media screen and (max-width: 600px) {
  #signal-header { display: none; }
}
</style>

<link type="text/css" media="all" href="https://www.twilio.com/blog/wp-content/cache/autoptimize/css/autoptimize_7a2cc50131d932d32297f43c61de37cd.css" rel="stylesheet" /><link type="text/css" media="screen" href="https://www.twilio.com/blog/wp-content/cache/autoptimize/css/autoptimize_97ca666341cd9b69002e26c8f2ca5299.css" rel="stylesheet" /><title>Identity Management in Spring Boot with Twilio and Stormpath in 15 Minutes &#8211; Twilio Cloud Communications Blog</title>

<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.13 - http://yoast.com/wordpress/seo/ -->
<link rel="canonical" href="https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='dns-prefetch' href='https://www.twilio.com/blog//s0.wp.com' />
<link rel='dns-prefetch' href='https://www.twilio.com/blog//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Feed" href="https://www.twilio.com/blog/feed" />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Comments Feed" href="https://www.twilio.com/blog/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Identity Management in Spring Boot with Twilio and Stormpath in 15 Minutes Comments Feed" href="https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/twilioinc.wpengine.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.2"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>










<!-- This site uses the Google Analytics by Yoast plugin v5.4.7 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','http://www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-2900316-1', 'auto');
	__gaTracker('set', 'forceSSL', true);
	 window.optimizely = window.optimizely || [];
 window.optimizely.push("activateUniversalAnalytics");
	__gaTracker('set', 'dimension4', 'Megan Speir');
	__gaTracker('set', 'dimension5', 'post');
	__gaTracker('set', 'dimension6', 'developers-drawing-the-owl');
	__gaTracker('set', 'dimension7', 'untagged');
	__gaTracker('set', 'dimension8', '2016-09-29T13:58:11+00:00');
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by Yoast -->


<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.4.3","is_admin":"0","ajaxurl":"https:\/\/twilioinc.wpengine.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>

<script type='text/javascript'>
/* <![CDATA[ */
var swiftypeParams = {"engineKey":"UpGyyJZzgUMXHM65YENj"};
/* ]]> */
</script>

<link rel='https://api.w.org/' href='https://www.twilio.com/blog/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.twilio.com/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.twilio.com/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='shortlink' href='https://www.twilio.com/blog/?p=18862' />
<link rel="alternate" type="application/json+oembed" href="https://www.twilio.com/blog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2F2016%2F09%2Fidentity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.twilio.com/blog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2F2016%2F09%2Fidentity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html&amp;format=xml" />
<link rel="icon" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-32x32.png" sizes="32x32" />
<link rel="icon" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-180x180.png" />
<meta name="msapplication-TileImage" content="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-270x270.png" />
</head>

<body class="single single-post postid-18862 single-format-standard group-blog">
<!-- Google Tag Manager -->
<noscript><iframe src="https://www.twilio.com/blog//www.googletagmanager.com/ns.html?id=GTM-W4RVXH"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W4RVXH');</script>
<!-- End Google Tag Manager -->

<div id="fb-root"></div>
<script>(function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = "http://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=414254592083321&version=v2.0";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
window.fbAsyncInit = function() {
  FB.Event.subscribe('edge.create', function(targetUrl) {
    __gaTracker('send', 'social', 'facebook', 'like', targetUrl);
  });
};
window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));

function trackTwitter(intent_event) {
  if (intent_event) {
    var opt_pagePath;
    if (intent_event.target && intent_event.target.nodeName == 'IFRAME') {
          opt_target = extractParamFromUri(intent_event.target.src, 'url');
    }
    __gaTracker('send', 'social', 'twitter', 'tweet', opt_pagePath);
  }
}

function extractParamFromUri(uri, paramName) {
  if (!uri) {
    return;
  }
  var regex = new RegExp('[\\?&#]' + paramName + '=([^&#]*)');
  var params = regex.exec(uri);
  if (params != null) {
    return unescape(params[1]);
  }
  return;
}

//Wrap event bindings - Wait for async js to load
twttr.ready(function (twttr) {
  //event bindings
  twttr.events.bind('tweet', trackTwitter);
});
</script>
<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
  heap.load("1541905715");
</script>
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<nav class="navbar navbar-default" role="navigation">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle hidden-xs" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://www.twilio.com/blog/">
					<img src="https://s3.amazonaws.com/ahoy-assets.twilio.com/global/images/wordmark.svg" width="200"> <span class="logo-blog">blog</span>
				</a>
			</div>

			<div class="hidden-xs"><ul id="menu-site-navigation" class="nav navbar-nav pull-right"><li id="menu-item-12202" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12202"><a href="http://www.twilio.com/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/', 'Home');" title="Home">Home</a></li>
<li id="menu-item-12205" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12205"><a href="http://www.twilio.com/blog" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/blog', 'Blog');" title="Blog">Blog</a></li>
<li id="menu-item-12204" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12204"><a href="https://www.twilio.com/docs/howto" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/docs/howto', 'Tutorials');" title="Tutorials">Tutorials</a></li>
<li id="menu-item-12206" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12206"><a href="https://www.twilio.com/docs/api" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/docs/api', 'Docs');" title="Docs">Docs</a></li>
<li id="menu-item-12207" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12207"><a href="http://www.twilio.com/help" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/help', 'Help');" title="Help">Help</a></li>
<li id="menu-item-12208" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12208"><a href="https://www.twilio.com/login" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/login', 'Login');" title="Login">Login</a></li>
<li id="menu-item-12209" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12209"><a href="https://www.twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/try-twilio', 'Signup');" title="Signup">Signup</a></li>
</ul></div>		</div>
	</nav>

	<div id="content" class="site-content container">
		<div class="row">

	<div id="primary" class="content-area col-md-9">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-18862" class="row post-18862 post type-post status-publish format-standard has-post-thumbnail hentry category-developers-drawing-the-owl">
	<header class="entry-header col-md-12">
		<h2 class="entry-title">Identity Management in Spring Boot with Twilio and Stormpath in 15 Minutes</h2>
						<div class="entry-image col-md-12">
        <img width="640" height="243" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/twilio-speculative-white-1024x388.jpg" class="img-responsive wp-post-image" alt="twilio-speculative-white" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/twilio-speculative-white-1024x388.jpg 1024w, https://www.twilio.com/blog/wp-content/uploads/2016/09/twilio-speculative-white-300x114.jpg 300w, https://www.twilio.com/blog/wp-content/uploads/2016/09/twilio-speculative-white-768x291.jpg 768w, https://www.twilio.com/blog/wp-content/uploads/2016/09/twilio-speculative-white-200x76.jpg 200w, https://www.twilio.com/blog/wp-content/uploads/2016/09/twilio-speculative-white.jpg 1320w" sizes="(max-width: 640px) 100vw, 640px" />			</div>
      <div class="clear"></div>
			
		<footer class="entry-footer">
			<div class="entry-meta">
					<div class="row">
	<div class="col-md-6">
	<span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://www.twilio.com/blog/author/mspeir">Megan Speir</a></span></span> on <span class="posted-on"><a href="https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html" rel="bookmark"><time class="entry-date published" datetime="2016-09-29T13:58:11+00:00">September 29, 2016</time><time class="updated" datetime="2016-09-29T14:00:40+00:00">September 29, 2016</time></a></span>	</div>
	<div class="col-md-6">
		<div class="social-buttons">
			<div class="fb-like" data-href="https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="twilio" data-count="none" data-url="https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html" data-text="Identity Management in Spring Boot with Twilio and Stormpath in 15 Minutes ">Tweet</a>
      <a href="https://twitter.com/twilio" class="twitter-follow-button" data-show-count="false">Follow @twilio</a>
		</div>
	</div>
	</div>
			</div><!-- .entry-meta -->
		</footer><!-- .entry-footer -->
	</header><!-- .entry-header -->

	<div class="entry-content col-md-12">
		<div class="row">
			<div class="col-md-12">
				<p><i><span style="font-weight: 400;"><img class="alignright size-full wp-image-18871" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185.jpeg" alt="4d3a7b598434110ef3a0d44f96817185" width="256" height="256" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185.jpeg 256w, https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185-150x150.jpeg 150w, https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185-200x200.jpeg 200w, https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185-32x32.jpeg 32w, https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185-50x50.jpeg 50w, https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185-64x64.jpeg 64w, https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185-96x96.jpeg 96w, https://www.twilio.com/blog/wp-content/uploads/2016/09/4d3a7b598434110ef3a0d44f96817185-128x128.jpeg 128w" sizes="(max-width: 256px) 100vw, 256px" />This is a syndicated post, </span></i><a href="https://stormpath.com/blog/identity-management-spring-boot-twilio" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://stormpath.com/blog/identity-management-spring-boot-twilio', 'originally posted');"><i><span style="font-weight: 400;">originally posted</span></i></a><i><span style="font-weight: 400;"> by </span></i><a href="https://twitter.com/afitnerd" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://twitter.com/afitnerd', 'Micah Silverman');"><i><span style="font-weight: 400;">Micah Silverman</span></i></a><i><span style="font-weight: 400;">, Developer Evangelist at Stormpath, an api that lets developers add authentication, authorization, and user management to any web or mobile app in minutes. Micah created a Spring Boot application that uses Twilio&#8217;s </span></i><a href="https://www.twilio.com/docs/libraries/java" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/libraries/java', 'Java Helper Library');"><i><span style="font-weight: 400;">Java Helper Library</span></i></a><i><span style="font-weight: 400;"> and </span></i><a href="https://stormpath.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://stormpath.com/', 'Stormpath');"><i><span style="font-weight: 400;">Stormpath</span></i></a><i> </i><i><span style="font-weight: 400;">to send login notifications.<br />
</span></i></p>
<p><span style="font-weight: 400;">Today, in less than 30 seconds or so, I was able to set up a Twilio account and send myself a text message using </span><a href="https://httpie.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://httpie.org/', 'httpie');"><span style="font-weight: 400;">httpie</span></a><span style="font-weight: 400;">. Another few minutes work (fewer than 5) and I had a Spring Boot application doing the same.</span></p>
<p><span style="font-weight: 400;">In about the same five minutes, you can get set up with Stormpath’s Identity Management as a service platform and learn to love auth.</span></p>
<p><span style="font-weight: 400;">We are truly living in a golden age of not-on-my-computer (cloud) services.</span></p>
<p><span style="font-weight: 400;">Just about anything you can imagine having done with computers or other devices over the last 15 years you can now sign-up for and get a proof of concept going in minutes. I remember sometime around 2007 (post iPhone 1) having a conversation with an SMS broker. After filling out a sheaf of paperwork, waiting about four months and being on the hook for lots of money, we were ready to write code against the SMS gateway. This was some arcane stuff way back then.</span></p>
<p><span style="font-weight: 400;">Ever try to roll your own identity management? Did you salt your hashes? Or, just admit it – you stored passwords in plaintext like everyone else back then.</span></p>
<p><span style="font-weight: 400;">In this post, we’ll put Stormpath and Twilio together. Here’s the scenario: When a user logs in from a new device, we want to send them an SMS notification to let them know. This is a common practice today to keep people informed about activity on their accounts. If I get a notification that a login from a new address has occurred and it wasn’t me, then I know that my account has been compromised.</span></p>
<p><span style="font-weight: 400;">For the purposes of this demonstration, we’ll consider new IP address access from a new device.</span></p>
<p><span style="font-weight: 400;">The code for this post can be found </span><a href="https://github.com/stormpath/stormpath-spring-boot-twilio-example" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/stormpath/stormpath-spring-boot-twilio-example', 'here');"><span style="font-weight: 400;">here</span></a><span style="font-weight: 400;">.</span></p>
<h2><b>Set Up Stormpath</b></h2>
<p><span style="font-weight: 400;">The first step is to create a Stormpath account. You can follow our Quickstart docs </span><a href="https://docs.stormpath.com/java/spring-boot-web/quickstart.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://docs.stormpath.com/java/spring-boot-web/quickstart.html', 'here');"><span style="font-weight: 400;">here</span></a><span style="font-weight: 400;">. These are the basic steps:</span></p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Register at https://api.stormpath.com/register</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Click the link in the confirmation email</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Create an API Key to use for API access (Save it to: <code></span><span style="font-weight: 400;">~/.stormpath/apiKey.properties</code></span><span style="font-weight: 400;">)</span></li>
</ul>
<h3><b>Set up the Stormpath Spring Boot Integration</b></h3>
<p><span style="font-weight: 400;">The source code for this example can be found </span><a href="https://github.com/stormpath/stormpath-spring-boot-twilio-example" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/stormpath/stormpath-spring-boot-twilio-example', 'here');"><span style="font-weight: 400;">here</span></a><span style="font-weight: 400;">.</span></p>
<p><span style="font-weight: 400;">For now, don’t worry about the Twilio stuff – it’s disabled by default. In the next section, we will integrate and enable Twilio.</span></p>
<p><span style="font-weight: 400;">The Stormpath Spring Boot integration makes it easy to trigger additional actions before and after a user logs in. It’s this mechanism that we use to send Twilio messages later on. For now, we will just make sure that the post-login handler is working.</span></p>
<p><span style="font-weight: 400;">To use the Stormpath Spring Boot integration you need only include a single dependency:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465d8b282645037" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
&lt;dependency&gt;
    &lt;groupId&gt;com.stormpath.spring&lt;/groupId&gt;
    &lt;artifactId&gt;stormpath-thymeleaf-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;${stormpath.version}&lt;/version&gt;
&lt;/dependency&gt;   </textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465d8b282645037-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465d8b282645037-2">2</div><div class="crayon-num" data-line="crayon-5879501465d8b282645037-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465d8b282645037-4">4</div><div class="crayon-num" data-line="crayon-5879501465d8b282645037-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465d8b282645037-1"><span class="crayon-o">&lt;</span><span class="crayon-i">dependency</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465d8b282645037-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">groupId</span><span class="crayon-o">&gt;</span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">stormpath</span><span class="crayon-sy">.</span><span class="crayon-i">spring</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">groupId</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5879501465d8b282645037-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">artifactId</span><span class="crayon-o">&gt;</span><span class="crayon-e">stormpath</span><span class="crayon-o">-</span><span class="crayon-e">thymeleaf</span><span class="crayon-o">-</span><span class="crayon-e">spring</span><span class="crayon-o">-</span><span class="crayon-e">boot</span><span class="crayon-o">-</span><span class="crayon-e">starter</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">artifactId</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465d8b282645037-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">version</span><span class="crayon-o">&gt;</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">stormpath</span><span class="crayon-sy">.</span><span class="crayon-i">version</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-i">version</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5879501465d8b282645037-5"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-i">dependency</span><span class="crayon-o">&gt;</span><span class="crayon-h">&nbsp;&nbsp; </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0034 seconds] -->
<p><span style="font-weight: 400;">In this case, we are using the Spring Boot + Web MVC + Thymeleaf integration so that we can return </span><a href="http://www.thymeleaf.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.thymeleaf.org/', 'Thymeleaf');"><span style="font-weight: 400;">Thymeleaf</span></a><span style="font-weight: 400;"> templates.</span></p>
<p><span style="font-weight: 400;">To set up our <code></span><span style="font-weight: 400;">postLoginHandler</code></span><span style="font-weight: 400;">, we simply need to create a Spring Boot configuration that exposes a bean:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465dac136977208" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
@Configuration
public class PostLoginHandler{

    ...

    @Bean
    @Qualifier("loginPostHandler")
    public WebHandler defaultLoginPostHandler() {
        return (HttpServletRequest request, HttpServletResponse response, Account account) -&gt; {
            log.info("Hit default loginPostHandler with account: {}", account.getEmail());
            return true;
        };
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465dac136977208-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dac136977208-2">2</div><div class="crayon-num" data-line="crayon-5879501465dac136977208-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dac136977208-4">4</div><div class="crayon-num" data-line="crayon-5879501465dac136977208-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dac136977208-6">6</div><div class="crayon-num" data-line="crayon-5879501465dac136977208-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dac136977208-8">8</div><div class="crayon-num" data-line="crayon-5879501465dac136977208-9">9</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-5879501465dac136977208-10">10</div><div class="crayon-num" data-line="crayon-5879501465dac136977208-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dac136977208-12">12</div><div class="crayon-num" data-line="crayon-5879501465dac136977208-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dac136977208-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465dac136977208-1"><span class="crayon-n">@Configuration</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dac136977208-2"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">PostLoginHandler</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5879501465dac136977208-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dac136977208-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-5879501465dac136977208-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dac136977208-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@Bean</span></div><div class="crayon-line" id="crayon-5879501465dac136977208-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@Qualifier</span><span class="crayon-sy">(</span><span class="crayon-s">"loginPostHandler"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dac136977208-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">WebHandler </span><span class="crayon-e">defaultLoginPostHandler</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5879501465dac136977208-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">HttpServletRequest </span><span class="crayon-i">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">HttpServletResponse </span><span class="crayon-i">response</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Account </span><span class="crayon-i">account</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-5879501465dac136977208-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-e">info</span><span class="crayon-sy">(</span><span class="crayon-s">"Hit default loginPostHandler with account: {}"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">account</span><span class="crayon-sy">.</span><span class="crayon-e">getEmail</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465dac136977208-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dac136977208-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465dac136977208-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dac136977208-14"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0044 seconds] -->
<p><span style="font-weight: 400;">You can fire up the Spring Boot app like so:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465db7159036389" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
mvn clean install
mvn spring-boot:run</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465db7159036389-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465db7159036389-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465db7159036389-1"><span class="crayon-e">mvn </span><span class="crayon-e">clean </span><span class="crayon-e">install</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465db7159036389-2"><span class="crayon-e">mvn </span><span class="crayon-i">spring</span><span class="crayon-o">-</span><span class="crayon-i">boot</span><span class="crayon-o">:</span><span class="crayon-i">run</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p><span style="font-weight: 400;">Now, you can browse to: <code></span><span style="font-weight: 400;">http://localhost:8080/register</code></span><span style="font-weight: 400;"> to create an account in Stormpath. You can then browse to: <code></span><span style="font-weight: 400;">http://localhost:8080/login</code></span><span style="font-weight: 400;">. You should see something like this in the log output:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465dc1534491305" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
2016-09-14 22:37:18.078  ... : Hit default loginPostHandler with account: micah@stormpath.com</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465dc1534491305-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465dc1534491305-1"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">09</span><span class="crayon-o">-</span><span class="crayon-cn">14</span><span class="crayon-h"> </span><span class="crayon-cn">22</span><span class="crayon-o">:</span><span class="crayon-cn">37</span><span class="crayon-o">:</span><span class="crayon-cn">18.078</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Hit </span><span class="crayon-st">default</span><span class="crayon-h"> </span><span class="crayon-e">loginPostHandler </span><span class="crayon-e">with </span><span class="crayon-i">account</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">micah</span><span class="crayon-sy">@</span><span class="crayon-v">stormpath</span><span class="crayon-sy">.</span><span class="crayon-i">com</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p><span style="font-weight: 400;">Huzzah! Our post-login hook is working.</span></p>
<h3><b>A Word on <code></b><b>CustomData</code></b></h3>
<p><span style="font-weight: 400;">The use case we are modeling in this example is to send a text message (SMS) to a user whenever they login from a new location. In order to do that we need the user’s phone number. We also need to store an array of locations they’ve logged in from so we can determine if they are logging in from a new location.</span></p>
<p><span style="font-weight: 400;">Enter Stormpath <code></span><span style="font-weight: 400;">CustomData</code></span><span style="font-weight: 400;">. We knew early on that we couldn’t capture all the use cases for user data that our customers might have. So, we attached 10MB of free-form JSON data to every first-class Stormpath object, including user accounts. That’s <code></span><span style="font-weight: 400;">CustomData</code></span><span style="font-weight: 400;">.</span></p>
<p><span style="font-weight: 400;">We store the information for the user like so:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465dcc280977653" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
{
  "loginIPs": [
    "0:0:0:0:0:0:0:1",
    "104.156.228.126",
    "104.156.228.136"
  ],
  "phoneNumber": "+15556065555"
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465dcc280977653-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dcc280977653-2">2</div><div class="crayon-num" data-line="crayon-5879501465dcc280977653-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dcc280977653-4">4</div><div class="crayon-num" data-line="crayon-5879501465dcc280977653-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dcc280977653-6">6</div><div class="crayon-num" data-line="crayon-5879501465dcc280977653-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dcc280977653-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465dcc280977653-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dcc280977653-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"loginIPs"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span></div><div class="crayon-line" id="crayon-5879501465dcc280977653-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"0:0:0:0:0:0:0:1"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dcc280977653-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"104.156.228.126"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5879501465dcc280977653-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"104.156.228.136"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dcc280977653-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5879501465dcc280977653-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"phoneNumber"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"+15556065555"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dcc280977653-8"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p><span style="font-weight: 400;">Here’s what it looks like in the Stormpath Admin Console:</span></p>
<p><span style="font-weight: 400;"><img class="aligncenter wp-image-18864 size-full" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/54721858.png" alt="54721858" width="888" height="712" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/54721858.png 888w, https://www.twilio.com/blog/wp-content/uploads/2016/09/54721858-300x241.png 300w, https://www.twilio.com/blog/wp-content/uploads/2016/09/54721858-768x616.png 768w, https://www.twilio.com/blog/wp-content/uploads/2016/09/54721858-200x160.png 200w" sizes="(max-width: 888px) 100vw, 888px" /><br />
</span></p>
<p><span style="font-weight: 400;">We’ll get back to how this <code></span><span style="font-weight: 400;">CustomData</code></span><span style="font-weight: 400;"> is set up once we work Twilio into the mix.</span></p>
<h2><b>Set Up Twilio</b></h2>
<p><span style="font-weight: 400;">Twilio has a </span><a href="https://www.twilio.com/docs/quickstart/java/sms" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/quickstart/java/sms', 'QuickStart');"><span style="font-weight: 400;">QuickStart</span></a><span style="font-weight: 400;"> that will get you up and running very quickly.</span></p>
<p><span style="font-weight: 400;">The basic steps are these:</span></p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Enter some basic registration information</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Enter your phone number</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Provision a Twilio phone number</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Test that you can send a message from your Twilio phone number to your phone number</span></li>
</ul>
<p><span style="font-weight: 400;">Make sure that you run the tests and can send messages. You can test it from the command line yourself using curl or </span><a href="https://httpie.org/https://httpie.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://httpie.org/https://httpie.org/', 'httpie');"><span style="font-weight: 400;">httpie</span></a><span style="font-weight: 400;">:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465dd8964441139" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
http -f POST \
https://api.twilio.com/2010-04-01/Accounts//Messages.json \
To= From=  Body="Hello there..." \
--auth :</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465dd8964441139-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dd8964441139-2">2</div><div class="crayon-num" data-line="crayon-5879501465dd8964441139-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465dd8964441139-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465dd8964441139-1"><span class="crayon-i">http</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-i">POST</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dd8964441139-2"><span class="crayon-i">https</span><span class="crayon-o">:</span><span class="crayon-c">//api.twilio.com/2010-04-01/Accounts//Messages.json \</span></div><div class="crayon-line" id="crayon-5879501465dd8964441139-3"><span class="crayon-st">To</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">From</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">Body</span><span class="crayon-o">=</span><span class="crayon-s">"Hello there..."</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465dd8964441139-4"><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-o">:</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p><span style="font-weight: 400;">Now that you know you can use your Twilio account, adding it as a dependency to the Spring Boot application is a snap:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465ded246766392" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
&lt;dependency&gt;
    &lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;
    &lt;artifactId&gt;twilio-java-sdk&lt;/artifactId&gt;
    &lt;version&gt;(6.0,6.9)&lt;/version&gt;
&lt;/dependency&gt;   </textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465ded246766392-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465ded246766392-2">2</div><div class="crayon-num" data-line="crayon-5879501465ded246766392-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465ded246766392-4">4</div><div class="crayon-num" data-line="crayon-5879501465ded246766392-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465ded246766392-1"><span class="crayon-o">&lt;</span><span class="crayon-i">dependency</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465ded246766392-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">groupId</span><span class="crayon-o">&gt;</span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">twilio</span><span class="crayon-sy">.</span><span class="crayon-i">sdk</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-i">groupId</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5879501465ded246766392-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">artifactId</span><span class="crayon-o">&gt;</span><span class="crayon-i">twilio</span><span class="crayon-o">-</span><span class="crayon-i">java</span><span class="crayon-o">-</span><span class="crayon-i">sdk</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-i">artifactId</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465ded246766392-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">version</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-cn">6.0</span><span class="crayon-sy">,</span><span class="crayon-cn">6.9</span><span class="crayon-sy">)</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-i">version</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5879501465ded246766392-5"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-i">dependency</span><span class="crayon-o">&gt;</span><span class="crayon-h">&nbsp;&nbsp; </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0030 seconds] -->
<p></p>
<h2><b>Tie It All Together</b></h2>
<p><span style="font-weight: 400;">Earlier, we set up the Spring Boot application to perform an action after a user has successfully logged in. That action was simply to log some information. Now, we are going to integrate the ability to send a Twilio message using this same post-login handler.</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465df8963890861" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
@Bean
@Qualifier("loginPostHandler")
public WebHandler twilioLoginPostHandler() {
    return (HttpServletRequest request, HttpServletResponse response, Account account) -&gt; {
        log.info("Account Full Name: " + account.getFullName());

        CustomData customData = account.getCustomData();
        String toNumber = (String) customData.get(phoneNumberIdentifier);
        List loginIPs = getLoginIPs(customData);

        String ipAddress = getIPAddress(request);

        if (loginIPs.contains(ipAddress)) {
            // they've already logged in from this location
            log.info("{} has already logged in from: {}. No message sent.", account.getEmail(), ipAddress);
        } else {
            boolean messageSent = TwilioLoginMessageBuilder
                .builder()
                .setAccountSid(twilioAccountSid)
                .setAuthToken(twilioAuthToken)
                .setFromNumber(twilioFromNumber)
                .setToNumber(toNumber)
                .send("New login for: " + account.getEmail() + ", from: " + ipAddress);

            // only save the ip address if the twilio message was successfully sent
            if (messageSent) {
                saveLoginIPs(ipAddress, loginIPs, customData);
            }
        }

        return true;
    };
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465df8963890861-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-2">2</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-4">4</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-6">6</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-8">8</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-9">9</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-5879501465df8963890861-10">10</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-12">12</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-14">14</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-16">16</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-17">17</div><div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="crayon-5879501465df8963890861-18">18</div><div class="crayon-num crayon-marked-num crayon-bottom" data-line="crayon-5879501465df8963890861-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-20">20</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-22">22</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-24">24</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-26">26</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-28">28</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-30">30</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465df8963890861-32">32</div><div class="crayon-num" data-line="crayon-5879501465df8963890861-33">33</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465df8963890861-1"><span class="crayon-n">@Bean</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-2"><span class="crayon-n">@Qualifier</span><span class="crayon-sy">(</span><span class="crayon-s">"loginPostHandler"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-3"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">WebHandler </span><span class="crayon-e">twilioLoginPostHandler</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">HttpServletRequest </span><span class="crayon-i">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">HttpServletResponse </span><span class="crayon-i">response</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Account </span><span class="crayon-i">account</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-e">info</span><span class="crayon-sy">(</span><span class="crayon-s">"Account Full Name: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">account</span><span class="crayon-sy">.</span><span class="crayon-e">getFullName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-6">&nbsp;</div><div class="crayon-line" id="crayon-5879501465df8963890861-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CustomData </span><span class="crayon-v">customData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">account</span><span class="crayon-sy">.</span><span class="crayon-e">getCustomData</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">toNumber</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">customData</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-i">phoneNumberIdentifier</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">List </span><span class="crayon-v">loginIPs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getLoginIPs</span><span class="crayon-sy">(</span><span class="crayon-i">customData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-5879501465df8963890861-10">&nbsp;</div><div class="crayon-line" id="crayon-5879501465df8963890861-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">ipAddress</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getIPAddress</span><span class="crayon-sy">(</span><span class="crayon-i">request</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-12">&nbsp;</div><div class="crayon-line" id="crayon-5879501465df8963890861-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">loginIPs</span><span class="crayon-sy">.</span><span class="crayon-e">contains</span><span class="crayon-sy">(</span><span class="crayon-i">ipAddress</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// they've already logged in from this location</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-e">info</span><span class="crayon-sy">(</span><span class="crayon-s">"{} has already logged in from: {}. No message sent."</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">account</span><span class="crayon-sy">.</span><span class="crayon-e">getEmail</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">ipAddress</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">messageSent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">TwilioLoginMessageBuilder</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-5879501465df8963890861-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">builder</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-marked-line crayon-bottom" id="crayon-5879501465df8963890861-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setAccountSid</span><span class="crayon-sy">(</span><span class="crayon-i">twilioAccountSid</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setAuthToken</span><span class="crayon-sy">(</span><span class="crayon-i">twilioAuthToken</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setFromNumber</span><span class="crayon-sy">(</span><span class="crayon-i">twilioFromNumber</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">setToNumber</span><span class="crayon-sy">(</span><span class="crayon-i">toNumber</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">send</span><span class="crayon-sy">(</span><span class="crayon-s">"New login for: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">account</span><span class="crayon-sy">.</span><span class="crayon-e">getEmail</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", from: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-i">ipAddress</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-24">&nbsp;</div><div class="crayon-line" id="crayon-5879501465df8963890861-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// only save the ip address if the twilio message was successfully sent</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">messageSent</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">saveLoginIPs</span><span class="crayon-sy">(</span><span class="crayon-i">ipAddress</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">loginIPs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">customData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-30">&nbsp;</div><div class="crayon-line" id="crayon-5879501465df8963890861-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465df8963890861-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465df8963890861-33"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0136 seconds] -->
<p><span style="font-weight: 400;">Lines 8 and 9 retrieve the user’s phone number and the list of addresses that the user has logged in from before. It pulls this information from the user’s <code></span><span style="font-weight: 400;">CustomData</code></span><span style="font-weight: 400;">.</span></p>
<p><span style="font-weight: 400;">Assuming they are logging in from a new location, line 18 saves the new address back to <code></span><span style="font-weight: 400;">CustomData</code> </span><span style="font-weight: 400;">and line 20 fires off the Twilio message.</span></p>
<p><span style="font-weight: 400;">The <code></span><span style="font-weight: 400;">TwilioLoginMessageBuilder</code></span><span style="font-weight: 400;"> is defined in the sample and uses a </span><a href="https://en.wikipedia.org/wiki/Fluent_interface" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://en.wikipedia.org/wiki/Fluent_interface', 'fluent');"><span style="font-weight: 400;">fluent</span></a><span style="font-weight: 400;"> interface.</span></p>
<p><span style="font-weight: 400;">The <code></span><span style="font-weight: 400;">send</code></span><span style="font-weight: 400;"> method used on line 26 above first checks to make sure that Twilio is configured properly and, if so, attempts to send the message:</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465e04420080268" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
TwilioRestClient client = new TwilioRestClient(accountSid, authToken);

List params = new ArrayList&lt;&gt;();
params.add(new BasicNameValuePair("To", toNumber));
params.add(new BasicNameValuePair("From", fromNumber));
params.add(new BasicNameValuePair("Body", msg));

MessageFactory messageFactory = client.getAccount().getMessageFactory();
try {
    Message message = messageFactory.create(params);
    log.info("Message successfuly sent via Twilio. Sid: {}", message.getSid());
    return true;
} catch (TwilioRestException e) {
    log.error("Error communicating with Twilio: {}", e.getErrorMessage(), e);
    return false;
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465e04420080268-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e04420080268-2">2</div><div class="crayon-num" data-line="crayon-5879501465e04420080268-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e04420080268-4">4</div><div class="crayon-num" data-line="crayon-5879501465e04420080268-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e04420080268-6">6</div><div class="crayon-num" data-line="crayon-5879501465e04420080268-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e04420080268-8">8</div><div class="crayon-num" data-line="crayon-5879501465e04420080268-9">9</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-5879501465e04420080268-10">10</div><div class="crayon-num" data-line="crayon-5879501465e04420080268-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e04420080268-12">12</div><div class="crayon-num" data-line="crayon-5879501465e04420080268-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e04420080268-14">14</div><div class="crayon-num" data-line="crayon-5879501465e04420080268-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e04420080268-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465e04420080268-1"><span class="crayon-e">TwilioRestClient </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TwilioRestClient</span><span class="crayon-sy">(</span><span class="crayon-i">accountSid</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">authToken</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e04420080268-2">&nbsp;</div><div class="crayon-line" id="crayon-5879501465e04420080268-3"><span class="crayon-e">List </span><span class="crayon-v">params</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-i">ArrayList</span><span class="crayon-o">&lt;&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e04420080268-4"><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">BasicNameValuePair</span><span class="crayon-sy">(</span><span class="crayon-s">"To"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">toNumber</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465e04420080268-5"><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">BasicNameValuePair</span><span class="crayon-sy">(</span><span class="crayon-s">"From"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">fromNumber</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e04420080268-6"><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">BasicNameValuePair</span><span class="crayon-sy">(</span><span class="crayon-s">"Body"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">msg</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465e04420080268-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e04420080268-8"><span class="crayon-e">MessageFactory </span><span class="crayon-v">messageFactory</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">getAccount</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getMessageFactory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465e04420080268-9"><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-5879501465e04420080268-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Message </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">messageFactory</span><span class="crayon-sy">.</span><span class="crayon-e">create</span><span class="crayon-sy">(</span><span class="crayon-i">params</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465e04420080268-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-e">info</span><span class="crayon-sy">(</span><span class="crayon-s">"Message successfuly sent via Twilio. Sid: {}"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">.</span><span class="crayon-e">getSid</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e04420080268-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465e04420080268-13"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">TwilioRestException</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e04420080268-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-s">"Error communicating with Twilio: {}"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">getErrorMessage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5879501465e04420080268-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e04420080268-16"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0098 seconds] -->
<p><span style="font-weight: 400;">Let’s fire up the app and see it in action!</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465e17921301313" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
mvn clean install

TWILIO_ACCOUNT_SID= \
TWILIO_AUTH_TOKEN= \
TWILIO_FROM_NUMBER= \
TWILIO_ENABLED=true \
java -jar target/*.jar</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465e17921301313-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e17921301313-2">2</div><div class="crayon-num" data-line="crayon-5879501465e17921301313-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e17921301313-4">4</div><div class="crayon-num" data-line="crayon-5879501465e17921301313-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e17921301313-6">6</div><div class="crayon-num" data-line="crayon-5879501465e17921301313-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465e17921301313-1"><span class="crayon-e">mvn </span><span class="crayon-e">clean </span><span class="crayon-e">install</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e17921301313-2">&nbsp;</div><div class="crayon-line" id="crayon-5879501465e17921301313-3"><span class="crayon-v">TWILIO_ACCOUNT_SID</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e17921301313-4"><span class="crayon-v">TWILIO_AUTH_TOKEN</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line" id="crayon-5879501465e17921301313-5"><span class="crayon-v">TWILIO_FROM_NUMBER</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e17921301313-6"><span class="crayon-v">TWILIO_ENABLED</span><span class="crayon-o">=</span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line" id="crayon-5879501465e17921301313-7"><span class="crayon-i">java</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">jar </span><span class="crayon-i">target</span><span class="crayon-o">/</span><span class="crayon-o">*</span><span class="crayon-sy">.</span><span class="crayon-i">jar</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p><span style="font-weight: 400;">Hitting the front door, <code></span><span style="font-weight: 400;">http://localhost:8080</code></span><span style="font-weight: 400;">, you have the opportunity to log in. If you look at the log, you’ll see that the first time you log in, you </span><i><span style="font-weight: 400;">don’t</span></i><span style="font-weight: 400;"> get a message because there’s no phone number for you on file.<img class="size-medium wp-image-18865 aligncenter" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/7161604-300x153.png" alt="7161604" width="300" height="153" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/7161604-300x153.png 300w, https://www.twilio.com/blog/wp-content/uploads/2016/09/7161604-200x102.png 200w, https://www.twilio.com/blog/wp-content/uploads/2016/09/7161604.png 393w" sizes="(max-width: 300px) 100vw, 300px" /><br />
<img class="size-medium wp-image-18869 aligncenter" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/15149852-1-300x203.png" alt="15149852" width="300" height="203" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/15149852-1-300x203.png 300w, https://www.twilio.com/blog/wp-content/uploads/2016/09/15149852-1-200x135.png 200w, https://www.twilio.com/blog/wp-content/uploads/2016/09/15149852-1.png 511w" sizes="(max-width: 300px) 100vw, 300px" /><br />
</span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465e22214047734" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
2016-09-15 16:48:31.621  INFO: Account Full Name: micah silverman
2016-09-15 16:48:31.750  WARN: No toNumber set. Cannot proceed.</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465e22214047734-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e22214047734-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465e22214047734-1"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">09</span><span class="crayon-o">-</span><span class="crayon-cn">15</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">48</span><span class="crayon-o">:</span><span class="crayon-cn">31.621</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">INFO</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Account </span><span class="crayon-e">Full </span><span class="crayon-i">Name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">micah </span><span class="crayon-i">silverman</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e22214047734-2"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">09</span><span class="crayon-o">-</span><span class="crayon-cn">15</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">48</span><span class="crayon-o">:</span><span class="crayon-cn">31.750</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">WARN</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">No </span><span class="crayon-e">toNumber </span><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Cannot </span><span class="crayon-v">proceed</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0030 seconds] -->
<p><span style="font-weight: 400;">The next thing to do is to set a phone number:<img class="size-medium wp-image-18867 aligncenter" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/34509960-300x63.png" alt="34509960" width="300" height="63" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/34509960-300x63.png 300w, https://www.twilio.com/blog/wp-content/uploads/2016/09/34509960-200x42.png 200w, https://www.twilio.com/blog/wp-content/uploads/2016/09/34509960.png 550w" sizes="(max-width: 300px) 100vw, 300px" /></span></p>
<p>&nbsp;</p>
<p><span style="font-weight: 400;">Now, you can log out and log in again and you should receive the Twilio notification:<img class="size-medium wp-image-18868 aligncenter" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/22712755-300x175.png" alt="22712755" width="300" height="175" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/22712755-300x175.png 300w, https://www.twilio.com/blog/wp-content/uploads/2016/09/22712755-200x117.png 200w, https://www.twilio.com/blog/wp-content/uploads/2016/09/22712755.png 446w" sizes="(max-width: 300px) 100vw, 300px" /></span></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-5879501465e2d960182359" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
2016-09-15 16:53:44.599  INFO: Account Full Name: micah silverman
2016-09-15 16:53:46.080  INFO: Message successfully sent via Twilio. Sid: SM9cd7fdfa3f8f463dbdd8f16662c13b5b</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-5879501465e2d960182359-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5879501465e2d960182359-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-5879501465e2d960182359-1"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">09</span><span class="crayon-o">-</span><span class="crayon-cn">15</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">53</span><span class="crayon-o">:</span><span class="crayon-cn">44.599</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">INFO</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Account </span><span class="crayon-e">Full </span><span class="crayon-i">Name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">micah </span><span class="crayon-i">silverman</span></div><div class="crayon-line crayon-striped-line" id="crayon-5879501465e2d960182359-2"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">09</span><span class="crayon-o">-</span><span class="crayon-cn">15</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">53</span><span class="crayon-o">:</span><span class="crayon-cn">46.080</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">INFO</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Message </span><span class="crayon-e">successfully </span><span class="crayon-e">sent </span><span class="crayon-e">via </span><span class="crayon-v">Twilio</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-i">Sid</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">SM9cd7fdfa3f8f463dbdd8f16662c13b5b</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0032 seconds] -->
<p><img class="size-full wp-image-18870 aligncenter" src="https://www.twilio.com/blog/wp-content/uploads/2016/09/51977529.png" alt="51977529" width="294" height="289" srcset="https://www.twilio.com/blog/wp-content/uploads/2016/09/51977529.png 294w, https://www.twilio.com/blog/wp-content/uploads/2016/09/51977529-200x197.png 200w, https://www.twilio.com/blog/wp-content/uploads/2016/09/51977529-32x32.png 32w, https://www.twilio.com/blog/wp-content/uploads/2016/09/51977529-50x50.png 50w, https://www.twilio.com/blog/wp-content/uploads/2016/09/51977529-64x64.png 64w" sizes="(max-width: 294px) 100vw, 294px" /></p>
<h2><b>Synergy!</b></h2>
<p><span style="font-weight: 400;">In this post, we’ve taken Stormpath’s post-login handler capability and coupled it with Twilio’s SMS capability to produce new functionality greater than the two of these platforms could do separately.</span></p>
<p><span style="font-weight: 400;">Definitely a golden-age for services.</span></p>
<p><span style="font-weight: 400;">In the </span><a href="https://github.com/stormpath/stormpath-spring-boot-twilio-example" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/stormpath/stormpath-spring-boot-twilio-example', 'code repo');"><span style="font-weight: 400;">code repo</span></a><span style="font-weight: 400;"> for this post, there’s some more Spring Boot magic that’s used including dynamically loading the <code></span><span style="font-weight: 400;">defaultLoginPostHandler</code></span><span style="font-weight: 400;"> or <code></span><span style="font-weight: 400;">twilioLoginPostHandler</code></span><span style="font-weight: 400;"> based on config settings. To use the Twilio handler, simply set the <code></span><span style="font-weight: 400;">twilio.enabled=true</code></span><span style="font-weight: 400;"> property in the <code></span><span style="font-weight: 400;">application.properties</code> file.</span></p>
<p><span style="font-weight: 400;">Now, go forth and glue some services together for fun and profit!</span></p>
<h2><b>Learn More</b></h2>
<p><span style="font-weight: 400;">Interested in learning more about user authentication with Spring Boot and Stormpath? We have some other great resources you can review:</span></p>
<p><a href="https://stormpath.com/blog/fun-with-java-spring-boot-token-management" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://stormpath.com/blog/fun-with-java-spring-boot-token-management', 'OAuth 2.0 Token Management with Spring Boot and Stormpath');"><span style="font-weight: 400;">OAuth 2.0 Token Management with Spring Boot and Stormpath</span></a></p>
<p><a href="https://stormpath.com/blog/spring-boot_id-site_heroku" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://stormpath.com/blog/spring-boot_id-site_heroku', 'Single Sign-On for Java in 20 Minutes with Spring Boot and Heroku');"><span style="font-weight: 400;">Single Sign-On for Java in 20 Minutes with Spring Boot and Heroku</span></a></p>
<p><a href="https://stormpath.com/blog/5-practical-tips-for-building-your-spring-boot-api" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://stormpath.com/blog/5-practical-tips-for-building-your-spring-boot-api', '5 Practical Tips for Building Your Spring Boot API');"><span style="font-weight: 400;">5 Practical Tips for Building Your Spring Boot API</span></a></p>
<p>&nbsp;</p>
			</div>
					</div>
	</div><!-- .entry-content -->

	<footer class="entry-footer col-md-12">
		<div class="entry-meta">
					<div class="social-buttons">
			<div class="fb-like" data-href="https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="twilio" data-count="none" data-url="https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html" data-text="Identity Management in Spring Boot with Twilio and Stormpath in 15 Minutes ">Tweet</a>
      <a href="https://twitter.com/twilio" class="twitter-follow-button" data-show-count="false">Follow @twilio</a>
		</div>
<span class="author-avatar"><img alt='' src='https://secure.gravatar.com/avatar/5d5f1db13fd8eb5fa55340b2e7d12ad3?s=20&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/5d5f1db13fd8eb5fa55340b2e7d12ad3?s=40&amp;d=mm&amp;r=g 2x' class='avatar avatar-20 photo' height='20' width='20' /></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://www.twilio.com/blog/author/mspeir">Megan Speir</a></span></span> <span class="author-meta author-email"><a href="mailto:mspeir@twilio.com">mspeir@twilio.com</a></span>		</div>
	</footer><!-- .entry-footer -->

  
</article><!-- #post-## -->

			
<div id="disqus_thread">
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html';
    var disqus_identifier = 'https://www.twilio.com/blog/2016/09/18862 https://www.twilio.com/blog/?p=18862';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'twilioblog';
    var disqus_title = "Identity Management in Spring Boot with Twilio and Stormpath in 15 Minutes";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html?cf_action=sync_comments&amp;post_id=18862';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "https:\/\/www.twilio.com\/blog\/2016\/09\/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html\/trackback"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		
		</main><!-- #main -->
	</div><!-- #primary -->


<div id="secondary" class="widget-area col-md-3 hide-xs" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://www.twilio.com/blog/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside><aside id="text-2" class="widget widget_text">			<div class="textwidget"><p>Power modern communications. Build the next generation of voice and SMS applications.</p>

 <a href="http://twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://twilio.com/try-twilio', 'Start Building For Free');" class="btn">Start Building For Free</a></div>
		</aside><style scoped type="text/css">.utcw-8ngloje {word-wrap:break-word}.utcw-8ngloje span,.utcw-8ngloje a{border-style:solid;border-width:1px}.utcw-8ngloje span:hover,.utcw-8ngloje a:hover{border-style:solid;border-width:1px}</style><aside id="utcw-2" class="widget widget_utcw widget_tag_cloud"><h1 class="widget-title">Posts By Stack</h1><div class="utcw-8ngloje tagcloud"><a class="tag-link-22 utcw-tag utcw-tag-net" href="https://www.twilio.com/blog/tag/net" style="font-size:16px" title="40 topics">.NET</a> <a class="tag-link-98 utcw-tag utcw-tag-arduino" href="https://www.twilio.com/blog/tag/arduino" style="font-size:16px" title="21 topics">Arduino</a> <a class="tag-link-598 utcw-tag utcw-tag-java" href="https://www.twilio.com/blog/tag/java" style="font-size:16px" title="14 topics">Java</a> <a class="tag-link-600 utcw-tag utcw-tag-javascript" href="https://www.twilio.com/blog/tag/javascript" style="font-size:16px" title="86 topics">JavaScript</a> <a class="tag-link-847 utcw-tag utcw-tag-php" href="https://www.twilio.com/blog/tag/php" style="font-size:16px" title="57 topics">PHP</a> <a class="tag-link-891 utcw-tag utcw-tag-python" href="https://www.twilio.com/blog/tag/python" style="font-size:16px" title="72 topics">Python</a> <a class="tag-link-969 utcw-tag utcw-tag-ruby" href="https://www.twilio.com/blog/tag/ruby" style="font-size:16px" title="69 topics">Ruby</a> <a class="tag-link-2856 utcw-tag utcw-tag-swift" href="https://www.twilio.com/blog/tag/swift" style="font-size:16px" title="22 topics">Swift</a></div></aside><style scoped type="text/css">.utcw-5dkhj5o {word-wrap:break-word}.utcw-5dkhj5o span,.utcw-5dkhj5o a{border-style:solid;border-width:1px}.utcw-5dkhj5o span:hover,.utcw-5dkhj5o a:hover{border-style:solid;border-width:1px}</style><aside id="utcw-3" class="widget widget_utcw widget_tag_cloud"><h1 class="widget-title">Posts By Product</h1><div class="utcw-5dkhj5o tagcloud"><a class="tag-link-2043 utcw-tag utcw-tag-mms" href="https://www.twilio.com/blog/tag/mms" style="font-size:16px" title="50 topics">MMS</a> <a class="tag-link-3513 utcw-tag utcw-tag-programmable-chat" href="https://www.twilio.com/blog/tag/programmable-chat" style="font-size:16px" title="9 topics">Programmable Chat</a> <a class="tag-link-1537 utcw-tag utcw-tag-sip" href="https://www.twilio.com/blog/tag/sip" style="font-size:16px" title="15 topics">SIP</a> <a class="tag-link-1031 utcw-tag utcw-tag-sms" href="https://www.twilio.com/blog/tag/sms" style="font-size:16px" title="372 topics">SMS</a> <a class="tag-link-2871 utcw-tag utcw-tag-taskrouter" href="https://www.twilio.com/blog/tag/taskrouter" style="font-size:16px" title="8 topics">Task Router</a> <a class="tag-link-1199 utcw-tag utcw-tag-twilio-client" href="https://www.twilio.com/blog/tag/twilio-client" style="font-size:16px" title="32 topics">Twilio Client</a> <a class="tag-link-3032 utcw-tag utcw-tag-twilio-video" href="https://www.twilio.com/blog/tag/twilio-video" style="font-size:16px" title="9 topics">Twilio Video</a> <a class="tag-link-1277 utcw-tag utcw-tag-voice" href="https://www.twilio.com/blog/tag/voice" style="font-size:16px" title="172 topics">Voice</a></div></aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><a href="http://www.twilio.com/docs/tutorials" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/docs/tutorials', '');"><img src="https://www.twilio.com/blog/wp-content/uploads/2016/07/tutorials.png" style="width: 255px" /></a></div>
		</aside><aside id="categories-3" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-13"><a href="https://www.twilio.com/blog/all-things-code" >Code, Tutorials and Hacks</a>
</li>
	<li class="cat-item cat-item-5"><a href="https://www.twilio.com/blog/customer-highlights" >Customer Highlights</a>
</li>
	<li class="cat-item cat-item-7"><a href="https://www.twilio.com/blog/developers-drawing-the-owl" >Developers Drawing The Owl</a>
</li>
	<li class="cat-item cat-item-3"><a href="https://www.twilio.com/blog/news" >News</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://www.twilio.com/blog/stories-from-the-road" >Stories From The Road</a>
</li>
	<li class="cat-item cat-item-8"><a href="https://www.twilio.com/blog/inside-twilio" >The Owl’s Nest: Inside Twilio</a>
</li>
		</ul>
</aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"><div class="tagcloud "><a href="http://www.twilio.com/blog/feed" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/blog/feed', 'RSS Feed');">RSS Feed</a></div></div>
		</aside></div><!-- #secondary -->

		</div><!-- .row -->
	</div><!-- #content.container -->

<div class="" id="footer">
	<div class="container">
		<header>
			<div class="banner"></div>
			<div class="border"></div>
			<div class="stitching"></div>
		</header>
    <div class="row sitemap">
      <div class="row">
        <div class="col-md-2 col-md-offset-1">
          <h4><a href="http://www.twilio.com/company">Company</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/company">About Twilio</a></li>
            <li><a href="http://www.twilio.com/company/nine-values">Our Nine Values</a></li>
            <li><a href="http://www.twilio.com/company/leadership-principles">Our Leadership Principles</a></li>
            <li><a href="http://www.twilio.com/company/management">The Team</a></li>
            <li><a href="http://www.twilio.com/press">Press &amp; Media</a></li>
            <li><a href="http://www.twilio.org/">Twilio.org</a></li>
            <li><a href="http://www.twilio.com/company/jobs">Careers</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4><a href="http://www.twilio.com/products">Products</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/voice">Voice</a></li>
            <li><a href="http://www.twilio.com/video">Video</a></li>
            <li><a href="http://www.twilio.com/sms">SMS (Text Messaging)</a></li>
            <li><a href="http://www.twilio.com/mms">MMS (Picture Messaging)</a></li>
            <li><a href="http://www.twilio.com/sms/toll-free">Toll-Free SMS</a></li>
            <li><a href="http://www.twilio.com/sip-trunking">SIP Trunking</a></li>
            <li><a href="http://www.twilio.com/client/mobile">Client Mobile</a></li>
            <li><a href="http://www.twilio.com/webrtc">Client WebRTC</a></li>
            <li><a href="http://www.twilio.com/stun-turn">Network Traversal Service</a></li>
            <li><a href="http://www.twilio.com/taskrouter">TaskRouter</a></li>
            <li><a href="http://www.twilio.com/sms/phone-numbers">Phone Numbers</a></li>
            <li><a href="http://www.twilio.com/sms/shortcodes">Short Codes</a></li>
            <li><a href="http://www.twilio.com/support-plans">Support Plans</a></li>
            <li><a href="http://www.twilio.com/platform">Platform</a></li>
            <li><a href="http://www.twilio.com/lookup">Lookup</a></li>
            <li><a href="http://www.twilio.com/monitor">Monitor</a></li>
            <li><a href="http://www.twilio.com/copilot">Messaging Copilot</a></li>
            <li><a href="http://www.twilio.com/voice/conference">Global Conference</a></li>
            <li><a href="http://www.twilio.com/authy">Authy</a></li>
          </ul>
      </div>
      <div class="col-md-2">
        <h4><a href="http://www.twilio.com/pricing">Pricing</a></h4>
        <ul>
          <li><a href="http://www.twilio.com/voice/pricing">Voice Pricing</a></li>
          <li><a href="http://www.twilio.com/sms/pricing">Messaging Pricing</a></li>
          <li><a href="http://www.twilio.com/sip-trunking/pricing">SIP Trunking Pricing</a></li>
          <li><a href="http://www.twilio.com/client/pricing">Client Pricing</a></li>
          <li><a href="http://www.twilio.com/stun-turn/pricing">Network Traversal Pricing</a></li>
          <li><a href="http://www.twilio.com/taskrouter/pricing">TaskRouter</a></li>
          <li><a href="http://www.twilio.com/lookup#pricing">Lookup</a></li>
          <li><a href="http://www.twilio.com/international">International Coverage</a></li>
        </ul>
      </div>
      <div class="col-md-2">
          <h4><a href="http://www.twilio.com/use-cases">Use Cases</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/customers">Customer Stories</a></li>
            <li><a href="http://www.twilio.com/showcase">Showcase</a></li>
            <li><a href="http://www.twilio.com/use-cases/two-factor-authentication">Two-Factor Authentication</a></li>
            <li><a href="http://www.twilio.com/use-cases/appointment-reminders">Appointment Reminders</a></li>
            <li><a href="http://www.twilio.com/use-cases/dispatch-notifications">Dispatch Notifications</a></li>
            <li><a href="http://www.twilio.com/use-cases/eta-alerts">ETA Alerts</a></li>
            <li><a href="http://www.twilio.com/use-cases/automated-surveys">Automated Surveys</a></li>
            <li><a href="http://www.twilio.com/use-cases/masked-phone-numbers">Masked Phone Numbers</a></li>
            <li><a href="http://www.twilio.com/use-cases/visual-estimates">Visual Estimates</a></li>
            <li><a href="http://www.twilio.com/doers">Developer Network</a></li>
            <li><a href="http://www.twilio.com/webinars">Webinars</a></li>
            <li><a href="http://www.twilio.com/white-papers">White Papers</a></li>
          </ul>
      </div>
      <div class="col-md-2">
          <h4><a href="http://www.twilio.com/api">Api &amp; Docs</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/docs/api">API Documentation</a></li>
            <li><a href="http://www.twilio.com/docs/quickstart">Quickstarts</a></li>
            <li><a href="http://www.twilio.com/docs/howto">How Tos</a></li>
            <li><a href="http://www.twilio.com/docs/libraries">Helper Libraries</a></li>
            <li><a href="http://www.twilio.com/docs/security">Security</a></li>
          </ul>
      </div>
    </div>
		<div class="row clear">
			<footer><span>&copy; 2017 Twilio. All rights reserved. <aside>|</aside><a href="http://www.twilio.com/legal/tos">Terms of Service</a><aside>|</aside><a href="http://www.twilio.com/legal/privacy">Privacy Policy</a></span>
			</footer>
		</div>
	</div>
</div>


</div><!-- #page -->

<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201702'></script>







<script type="text/javascript" defer src="https://www.twilio.com/blog/wp-content/cache/autoptimize/js/autoptimize_30cf8936a215677503cd64ef48677239.js"></script></body>

<!-- Mirrored from www.twilio.com/blog/2016/09/identity-management-in-spring-boot-with-twilio-and-stormpath-in-15-minutes.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:10:06 GMT -->
</html>
