<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<script type="text/javascript">
(function() {
    var projectId = 3524915770;
    var protocol = ('https:' == document.location.protocol ?
    'https://' : 'http://');
    var scriptTag = document.createElement('script');
    scriptTag.type = 'text/javascript';
    scriptTag.async = true;
    scriptTag.src = protocol + 'cdn.optimizely.com/js/' +
    projectId + '.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(scriptTag, s);
})();
function optimizelyTimeout() {
    window.optimizely = window.optimizely|| [];
    if (!window.optimizely.data) {
    window.optimizely.push("timeout");
    }
}
setTimeout(optimizelyTimeout, 1000);
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.twilio.com/blog/xmlrpc.php">
<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '815114181']);
_elqQ.push(['elqTrackPageView']);
_elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);
(function () {
  function async_load()
  {
    var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
    s.src = 'http://img03.en25.com/i/elqCfg.min.js';
    var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
  }
  if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
  else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>
<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','http://connect.facebook.net/en_US/fbevents.js');

fbq('init', '467131150158811');
fbq('track', "PageView");</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=467131150158811&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

<style>
@media screen and (max-width: 600px) {
  #signal-header { display: none; }
}
</style>

<link type="text/css" media="all" href="https://www.twilio.com/blog/wp-content/cache/autoptimize/css/autoptimize_c5e2d64b61a66143876a206627cadebe.css" rel="stylesheet" /><link type="text/css" media="screen" href="https://www.twilio.com/blog/wp-content/cache/autoptimize/css/autoptimize_97ca666341cd9b69002e26c8f2ca5299.css" rel="stylesheet" /><title>Using Natural Language Processing for Better SMS Interfaces Using Twilio and Python&#8217;s TextBlob &#8211; Twilio Cloud Communications Blog</title>

<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.13 - http://yoast.com/wordpress/seo/ -->
<meta name="description" content="Natural Language Processing for Better SMS"/>
<link rel="canonical" href="https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='dns-prefetch' href='https://www.twilio.com/blog//s0.wp.com' />
<link rel='dns-prefetch' href='https://www.twilio.com/blog//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Feed" href="https://www.twilio.com/blog/feed" />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Comments Feed" href="https://www.twilio.com/blog/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Using Natural Language Processing for Better SMS Interfaces Using Twilio and Python&#8217;s TextBlob Comments Feed" href="https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/twilioinc.wpengine.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.2"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>










<!-- This site uses the Google Analytics by Yoast plugin v5.4.7 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','http://www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-2900316-1', 'auto');
	__gaTracker('set', 'forceSSL', true);
	 window.optimizely = window.optimizely || [];
 window.optimizely.push("activateUniversalAnalytics");
	__gaTracker('set', 'dimension4', 'Rob Spectre');
	__gaTracker('set', 'dimension5', 'post');
	__gaTracker('set', 'dimension6', 'all-things-code');
	__gaTracker('set', 'dimension7', 'Flask,Natural Language Processing,Natural Language Processing for Better SMS,Python,SMS,Textblog,twilio sms,Twilio Textblog');
	__gaTracker('set', 'dimension8', '2014-06-25T05:55:00+00:00');
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by Yoast -->


<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.4.3","is_admin":"0","ajaxurl":"https:\/\/twilioinc.wpengine.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>

<script type='text/javascript'>
/* <![CDATA[ */
var swiftypeParams = {"engineKey":"UpGyyJZzgUMXHM65YENj"};
/* ]]> */
</script>

<link rel='https://api.w.org/' href='https://www.twilio.com/blog/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.twilio.com/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.twilio.com/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='shortlink' href='https://www.twilio.com/blog/?p=13509' />
<link rel="alternate" type="application/json+oembed" href="https://www.twilio.com/blog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2F2014%2F06%2Fusing-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.twilio.com/blog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2F2014%2F06%2Fusing-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html&amp;format=xml" />
<link rel="icon" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-32x32.png" sizes="32x32" />
<link rel="icon" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-180x180.png" />
<meta name="msapplication-TileImage" content="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-270x270.png" />
</head>

<body class="single single-post postid-13509 single-format-standard group-blog">
<!-- Google Tag Manager -->
<noscript><iframe src="https://www.twilio.com/blog//www.googletagmanager.com/ns.html?id=GTM-W4RVXH"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W4RVXH');</script>
<!-- End Google Tag Manager -->

<div id="fb-root"></div>
<script>(function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = "http://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=414254592083321&version=v2.0";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
window.fbAsyncInit = function() {
  FB.Event.subscribe('edge.create', function(targetUrl) {
    __gaTracker('send', 'social', 'facebook', 'like', targetUrl);
  });
};
window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));

function trackTwitter(intent_event) {
  if (intent_event) {
    var opt_pagePath;
    if (intent_event.target && intent_event.target.nodeName == 'IFRAME') {
          opt_target = extractParamFromUri(intent_event.target.src, 'url');
    }
    __gaTracker('send', 'social', 'twitter', 'tweet', opt_pagePath);
  }
}

function extractParamFromUri(uri, paramName) {
  if (!uri) {
    return;
  }
  var regex = new RegExp('[\\?&#]' + paramName + '=([^&#]*)');
  var params = regex.exec(uri);
  if (params != null) {
    return unescape(params[1]);
  }
  return;
}

//Wrap event bindings - Wait for async js to load
twttr.ready(function (twttr) {
  //event bindings
  twttr.events.bind('tweet', trackTwitter);
});
</script>
<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
  heap.load("1541905715");
</script>
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<nav class="navbar navbar-default" role="navigation">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle hidden-xs" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://www.twilio.com/blog/">
					<img src="https://s3.amazonaws.com/ahoy-assets.twilio.com/global/images/wordmark.svg" width="200"> <span class="logo-blog">blog</span>
				</a>
			</div>

			<div class="hidden-xs"><ul id="menu-site-navigation" class="nav navbar-nav pull-right"><li id="menu-item-12202" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12202"><a href="http://www.twilio.com/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/', 'Home');" title="Home">Home</a></li>
<li id="menu-item-12205" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12205"><a href="http://www.twilio.com/blog" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/blog', 'Blog');" title="Blog">Blog</a></li>
<li id="menu-item-12204" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12204"><a href="https://www.twilio.com/docs/howto" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/docs/howto', 'Tutorials');" title="Tutorials">Tutorials</a></li>
<li id="menu-item-12206" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12206"><a href="https://www.twilio.com/docs/api" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/docs/api', 'Docs');" title="Docs">Docs</a></li>
<li id="menu-item-12207" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12207"><a href="http://www.twilio.com/help" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/help', 'Help');" title="Help">Help</a></li>
<li id="menu-item-12208" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12208"><a href="https://www.twilio.com/login" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/login', 'Login');" title="Login">Login</a></li>
<li id="menu-item-12209" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12209"><a href="https://www.twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/try-twilio', 'Signup');" title="Signup">Signup</a></li>
</ul></div>		</div>
	</nav>

	<div id="content" class="site-content container">
		<div class="row">

	<div id="primary" class="content-area col-md-9">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-13509" class="row post-13509 post type-post status-publish format-standard has-post-thumbnail hentry category-all-things-code tag-flask tag-natural-language-processing tag-natural-language-processing-for-better-sms tag-python tag-sms tag-textblog tag-twilio-sms tag-twilio-textblog">
	<header class="entry-header col-md-12">
		<h2 class="entry-title">Using Natural Language Processing for Better SMS Interfaces Using Twilio and Python&#8217;s TextBlob</h2>
						<div class="entry-image col-md-12">
        <img width="640" height="360" src="https://www.twilio.com/blog/wp-content/uploads/2014/06/bill_and_teds_excellent_adventure_5-1024x576.png" class="img-responsive wp-post-image" alt="bill_and_teds_excellent_adventure_5" srcset="https://www.twilio.com/blog/wp-content/uploads/2014/06/bill_and_teds_excellent_adventure_5-1024x576.png 1024w, https://www.twilio.com/blog/wp-content/uploads/2014/06/bill_and_teds_excellent_adventure_5-300x168.png 300w" sizes="(max-width: 640px) 100vw, 640px" />			</div>
      <div class="clear"></div>
			
		<footer class="entry-footer">
			<div class="entry-meta">
					<div class="row">
	<div class="col-md-6">
	<span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://www.twilio.com/blog/author/rspectre">Rob Spectre</a></span></span> on <span class="posted-on"><a href="https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html" rel="bookmark"><time class="entry-date published" datetime="2014-06-25T05:55:00+00:00">June 25, 2014</time><time class="updated" datetime="2015-09-24T11:51:47+00:00">September 24, 2015</time></a></span>	</div>
	<div class="col-md-6">
		<div class="social-buttons">
			<div class="fb-like" data-href="https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="twilio" data-count="none" data-url="https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html" data-text="Using Natural Language Processing for Better SMS Interfaces Using Twilio and Python&#8217;s TextBlob ">Tweet</a>
      <a href="https://twitter.com/twilio" class="twitter-follow-button" data-show-count="false">Follow @twilio</a>
		</div>
	</div>
	</div>
			</div><!-- .entry-meta -->
		</footer><!-- .entry-footer -->
	</header><!-- .entry-header -->

	<div class="entry-content col-md-12">
		<div class="row">
			<div class="col-md-12">
				<p dir="ltr" style="text-align: left;">The International Telecommunications Union, the telecom agency for the United Nations, <a href="http://qz.com/179897/more-people-around-the-world-have-cell-phones-than-ever-had-land-lines/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://qz.com/179897/more-people-around-the-world-have-cell-phones-than-ever-had-land-lines/', 'recently released some data');">recently released some data</a> suggesting for every 100 people on Planet Earth, 96 of them have a subscription to a cellular service.  That means there are nearly as many cell subscriptions out there as human beings &#8211; a stonking 6.8 billion.<img class="aligncenter" src="https://lh4.googleusercontent.com/Jqd7D_gcnVnOVk8qbKSTeXHkH5FhXgR0SDeVS0m53E-NwSzMNPy82NsRBqk71VMR-ZBr5VoAhTE-BnDjbBudfJ6pKKFlDrcozRKFvyjsw_EGt3Nn4VqfB2AjeijJp_nWUQ" alt="" width="409px;" height="231px;" /></p>
<p>Holy biscuits &#8211; that means there might well be more cell phones out there than people.</p>
<p>With Twilio, you can build apps with that touch every last one of them.  <a href="http://twilio.com/voice" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twilio.com/voice', 'Voice');">Voice</a> and <a href="http://twilio.com/sms" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twilio.com/sms', 'SMS');">SMS</a> are the only apps that come preinstalled on each of the devices those 6.8 billion people use.  However, with that many types of phones and languages out there to interface with, building interfaces that work for every human can be a fascinating engineering challenge.</p>
<p dir="ltr">Take SMS for example.  We’ve all come accustomed to text interfaces that ask for a KEYWORD in all caps and then take some action or deliver some information.  But with the wealth of tools at our fingertips as software people, surely we can do better than applications that hinge on single words or phrases in all caps like “Text HELP to do something useful.”<img class="alignright" src="https://lh5.googleusercontent.com/kvdf568o2r7VXXF5RJM0vOxE_7GArIMqtxHXAwKKPEyv2OPrmghbcaqOsyZHx9xIYwfAKehJ4xuY0dXqK7tFP2jPd1X_QcoO57b1PBxneok8MbRYuVeSabEGT1odYiid3w" alt="" width="284px;" height="200px;" /></p>
<p>One of those tools is <a href="http://en.wikipedia.org/wiki/Natural_language_processing" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://en.wikipedia.org/wiki/Natural_language_processing', 'natural language processing');">natural language processing</a> &#8211; the field of computer science, artificial intelligence and linguistics dedicated to improving the way computers interpret human input.  NLP is an endlessly riveting and complex field that mixes very deep comprehension and dissection of the way humans speak in different languages with stonkingly labyrinthine statistical models to makes computers interact with us the way people do.  That rabbit hole goes deep and can definitely be intimidating for the mere web hacker, but fortunately the ecosystem around the field is producing some helpful open source projects that take the same discipline that powers Siri, Google Now, Cortana and Watson, and makes it accessible to the lay programmer.</p>
<p>One such project in the Python community is called <a href="http://textblob.readthedocs.org/en/dev/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://textblob.readthedocs.org/en/dev/', 'TextBlob');">TextBlob</a>.  It’s a library I found through the excellent <a href="http://pycoders.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://pycoders.com/', 'Pycoder’s Weekly');">Pycoder’s Weekly</a> aiming to provide a dead simple interface to many common natural language processing tasks.  In this post, we’ll use this tool to improve a few common SMS interfaces to create a more useful, more human experience for our Twilio SMS apps.</p>
<h3 dir="ltr">What You’ll Need</h3>
<p dir="ltr">Here’s the ingredients list to cook up a tasty NLP souffle for our Twilio SMS app.</p>
<ul>
<li dir="ltr"><a href="http://www.twilio.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.twilio.com/', 'Twilio');">Twilio</a> <a href="https://www.twilio.com/sms" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/sms', 'SMS');">SMS</a> &#8211; sign up for <a href="http://www.twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.twilio.com/try-twilio', 'a free trial account here');">a free trial account here</a>.</li>
<li dir="ltr"><a href="https://www.python.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.python.org/', 'Python');">Python</a> &#8211; the programming language our tutorial will be in.</li>
<li dir="ltr"><a href="http://flask.pocoo.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://flask.pocoo.org/', 'Flask');">Flask</a> &#8211; a Python web microframework that will make it easy to accept incoming SMS messages.  Used here only for illustration, you’re welcome to use any web framework that works for you.</li>
<li dir="ltr"><a href="http://textblob.readthedocs.org/en/dev/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://textblob.readthedocs.org/en/dev/', 'TextBlob');">TextBlob</a> &#8211; our natural language processing library we’ll use to improve our SMS interfaces.</li>
</ul>
<h3 dir="ltr">Setting Up The Project</h3>
<p>First we need to <a href="http://www.twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.twilio.com/try-twilio', 'sign up for our free Twilio account');">sign up for our free Twilio account</a>.  Once your signup is complete and at your <a href="https://www.twilio.com/user/account" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/user/account', 'Twilio Account Dashboard');">Twilio Account Dashboard</a>, let’s click on <a href="https://www.twilio.com/user/account/phone-numbers" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/user/account/phone-numbers', 'the Numbers tab');">the Numbers tab</a>, select theTwilio phone number we would like to use for the project and configure it to point to the Python Twilio app we’ll be creating.</p>
<p dir="ltr"><img src="https://lh5.googleusercontent.com/qQ22LWOI5s_KW4-XPU4kiGMgxiPA7pkJFi7cwrcRUyIkP1q8tG4VTwV4BLyCwcEnvZz75nwhmi5Qo3jCEqxWBT49GBFmR6wd0KoxEpn0Ox2g4IKOOvydV06aTlIbkFOg_g" alt="" width="624px;" height="415px;" /></p>
<p dir="ltr">Next, we need to set up our project environment to get hacking.  First, we’ll install <a href="https://twilio-python.readthedocs.org/en/latest/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://twilio-python.readthedocs.org/en/latest/', 'the Twilio Python module');">the Twilio Python module</a> from the command line using Pip.</p>
<p></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce189f730665430" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
pip install twilio</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce189f730665430-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce189f730665430-1"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-i">twilio</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p dir="ltr">Next we’ll install the two other Python packages  we’ll use for this project.  The first is Flask, a web microframework that makes building Twilio apps very quick.  The second is TextBlob, the library we’ll use for our natural language processing.</p>
<p></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce18bb223772077" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
pip install flask
pip install textblob</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce18bb223772077-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18bb223772077-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce18bb223772077-1"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-e">flask</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18bb223772077-2"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-i">textblob</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p dir="ltr">Many NLP classifiers do depend on a collection of pre-classified data called a corpus.  TextBlob makes it easy to download the collections it relies on for natural language processing with a handy function:</p>
<p></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce18cc226863084" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
python -m textblob.download_corpora</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce18cc226863084-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce18cc226863084-1"><span class="crayon-i">python</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">m</span><span class="crayon-h"> </span><span class="crayon-v">textblob</span><span class="crayon-e">.download_corpora</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p dir="ltr">With our requirements installed, we’ll set up a quick Hello World app that we can modify to build our humanized SMS interfaces.  Here’s a quick, non-production example:</p>
<p></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce18d6276424207" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 14px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 14px !important; line-height: 24px !important;">
from flask import Flask
from flask import request

from twilio import twiml

app = Flask(__name__)

@app.route('/sms', methods=['POST'])
def sms():
    response = twiml.Response()
    body = request.form['Body']

    response.message("You sent me: {0}".format(body))

    return str(response)

if __name__ == "__main__":
    # Since this is a development project, we will keep debug on to make our
    # lives easier. We would want to configure our app more conservatively
    # in production.
    app.debug = True
    app.run()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-2">2</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-4">4</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-6">6</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-8">8</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-10">10</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-12">12</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-14">14</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-16">16</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-18">18</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-20">20</div><div class="crayon-num" data-line="crayon-58794d8ce18d6276424207-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18d6276424207-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce18d6276424207-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">request</span></div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">twilio </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">twiml</span></div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-6"><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span><span class="crayon-sy">(</span><span class="crayon-i">__name__</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-8"><span class="crayon-sy">@</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-s">'/sms'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">methods</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'POST'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-9"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">sms</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">Response</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-v">form</span><span class="crayon-sy">[</span><span class="crayon-s">'Body'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-12">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"You sent me: {0}"</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-14">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-i">response</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-16">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-17"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"__main__"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Since this is a development project, we will keep debug on to make our</span></div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># lives easier. We would want to configure our app more conservatively</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># in production.</span></div><div class="crayon-line" id="crayon-58794d8ce18d6276424207-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">debug</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18d6276424207-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0082 seconds] -->
<p>We’ll then run the Flask app to make it ready to receive an SMS message:</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce18e1730256592" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
python app.py</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce18e1730256592-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce18e1730256592-1"><span class="crayon-e">python </span><span class="crayon-v">app</span><span class="crayon-e">.py</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>Let’s send a text message to the Twilio phone number we configured up in the first step and see if it worked.</p>
<p dir="ltr" style="text-align: center;"><img class="aligncenter" src="https://lh3.googleusercontent.com/oRPDYMkxiI7I9ujSqNlTTNbV5XfdB8Mi2TIhE4YP1WRbBeX_fm_5b1IPpQC67XqRnfusPOCCW9azCZJ5Pf14BQM40jSAMYRtLPzJ6LDELcAzNSZzrs8f_uDEEsWkyslGBA" alt="" width="533px;" height="381px;" /></p>
<p>Excellent!  Now we’re ready to implement some natural language processing to improve the interfaces to our Twilio SMS apps.</p>
<h3 dir="ltr">Keeping Customers Happy with Analyzing Sentiment</h3>
<p dir="ltr">A common application for NLP is sentiment analysis: determining programmatically whether user input is positive or negative.  Let’s create a quick stub app that simulates a service that provides customers support via texting.</p>
<p></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce18eb239427803" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 14px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 14px !important; line-height: 24px !important;">
from flask import Flask
from flask import request

from twilio import twiml

app = Flask(__name__)

@app.route('/sms', methods=['POST'])
def sms():
    # Create the Twilio response
    response = twiml.Response()
    # Retrieve the body of the text message.
    body = request.form['Body']

    response.message("Thank you for texting Stallyns Support. What can "
                     "we help you with today?")

    return str(response)

if __name__ == "__main__":
    # Since this is a development project, we will keep debug on to make our
    # lives easier. We would want to configure our app more conservatively
    # in production.
    app.debug = True
    app.run()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-2">2</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-4">4</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-6">6</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-8">8</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-10">10</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-12">12</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-14">14</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-16">16</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-18">18</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-20">20</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-22">22</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18eb239427803-24">24</div><div class="crayon-num" data-line="crayon-58794d8ce18eb239427803-25">25</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce18eb239427803-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">request</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">twilio </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">twiml</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-6"><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span><span class="crayon-sy">(</span><span class="crayon-i">__name__</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-8"><span class="crayon-sy">@</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-s">'/sms'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">methods</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'POST'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-9"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">sms</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Create the Twilio response</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">Response</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Retrieve the body of the text message.</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-v">form</span><span class="crayon-sy">[</span><span class="crayon-s">'Body'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-14">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"Thank you for texting Stallyns Support. What can "</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"we help you with today?"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-i">response</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-20"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"__main__"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Since this is a development project, we will keep debug on to make our</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># lives easier. We would want to configure our app more conservatively</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># in production.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18eb239427803-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">debug</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line" id="crayon-58794d8ce18eb239427803-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0075 seconds] -->
<p><img class="alignright" src="https://lh6.googleusercontent.com/URACQvaxxGM-ITiTNAUoq9QDOOsGsxAQsN32dV97cgagf_QLakXvmfjqFRXb9DBaW1NHsh7j9Lc_VFPsimf6nMd7MrdhhaqvMXAN128riRfjozyziSt7V0FIr6hS0Kbh1Q" alt="" width="292px;" height="207px;" />Though our app doesn’t do anything yet, if we send a SMS to our project’s Twilio number, we can see a nice human response from our app.</p>
<p dir="ltr">To make the experience more personal, we could add some sentiment analysis to the application.  Based on whether or not the customer is happy or not, we can have our app respond accordingly.</p>
<p dir="ltr">Let’s add a little conditional logic to our app to supply different SMS replies based on the positivity or negativity of the user’s text message.</p>
<p></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce18f7370079383" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 14px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 14px !important; line-height: 24px !important;">
from flask import Flask
from flask import request

from twilio import twiml

# Add an import for the TextBlob library
from textblob import TextBlob

app = Flask(__name__)

@app.route('/sms', methods=['POST'])
def sms():
    response = twiml.Response()
    body = request.form[‘Body’]

    # Use the body of the user's text message to create a new TextBlob object.
    text_blob = TextBlob(body)

    # Get sentiment of the user's statement.
    # &gt;&gt;&gt; sentiment = text_blob.sentiment
    # &gt;&gt;&gt; sentiment.polarity
    # 0.0
    sentiment = text_blob.sentiment

    # If the polarity of the sentiment is greater than zero, the statement is
    # positive.  Highest positivity is 1.0
    if sentiment.polarity &gt; 0:
        response.message("That's great to hear.  Is there anything else we "
                         "can help you with today?")
    # If the polarity of the sentiment is less than zero, the statement is
    # negative.  Lowest negativity is -1.0.
    elif sentiment.polarity &lt; 0:
        response.message("Oh no - we're sorry to hear that! How can we make "
                         "your experience better?")
    # If the polarity is 0.0, TextBlob was unable to determine the sentiment
    # of the statement.  In this case, we'll return a neutral response in turn.
    else:
        response.message("Thank you for that info.  What can I help you with?")

    return str(response)

if __name__ == "__main__":
    # Since this is a development project, we will keep debug on to make our
    # lives easier. We would want to configure our app more conservatively
    # in production.
    app.debug = True
    app.run()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-2">2</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-4">4</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-6">6</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-8">8</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-10">10</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-12">12</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-14">14</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-16">16</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-18">18</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-20">20</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-22">22</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-24">24</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-26">26</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-28">28</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-30">30</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-32">32</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-34">34</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-36">36</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-38">38</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-40">40</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-42">42</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-44">44</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce18f7370079383-46">46</div><div class="crayon-num" data-line="crayon-58794d8ce18f7370079383-47">47</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce18f7370079383-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">request</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">twilio </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-i">twiml</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-6"><span class="crayon-c"># Add an import for the TextBlob library</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-7"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">textblob </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">TextBlob</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-8">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-9"><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span><span class="crayon-sy">(</span><span class="crayon-i">__name__</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-10">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-11"><span class="crayon-sy">@</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-s">'/sms'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">methods</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'POST'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-12"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">sms</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">Response</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-v">form</span><span class="crayon-sy">[</span>‘<span class="crayon-i">Body</span>’<span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Use the body of the user's text message to create a new TextBlob object.</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">text_blob</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">TextBlob</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-18">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Get sentiment of the user's statement.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># &gt;&gt;&gt; sentiment = text_blob.sentiment</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># &gt;&gt;&gt; sentiment.polarity</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># 0.0</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sentiment</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">text_blob</span><span class="crayon-sy">.</span><span class="crayon-i">sentiment</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-24">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If the polarity of the sentiment is greater than zero, the statement is</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># positive.&nbsp;&nbsp;Highest positivity is 1.0</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">sentiment</span><span class="crayon-sy">.</span><span class="crayon-i">polarity</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"That's great to hear.&nbsp;&nbsp;Is there anything else we "</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"can help you with today?"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If the polarity of the sentiment is less than zero, the statement is</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># negative.&nbsp;&nbsp;Lowest negativity is -1.0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">elif</span><span class="crayon-h"> </span><span class="crayon-v">sentiment</span><span class="crayon-sy">.</span><span class="crayon-i">polarity</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"Oh no - we're sorry to hear that! How can we make "</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"your experience better?"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If the polarity is 0.0, TextBlob was unable to determine the sentiment</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># of the statement.&nbsp;&nbsp;In this case, we'll return a neutral response in turn.</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"Thank you for that info.&nbsp;&nbsp;What can I help you with?"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-i">response</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-42"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"__main__"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Since this is a development project, we will keep debug on to make our</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># lives easier. We would want to configure our app more conservatively</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># in production.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce18f7370079383-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">debug</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line" id="crayon-58794d8ce18f7370079383-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0127 seconds] -->
<p></p>
<p dir="ltr">Let’s give the app a try.  We’ll try emulating an unhappy customer.</p>
<p style="text-align: center;"><img class="aligncenter" src="https://lh4.googleusercontent.com/FgCBhxuw61qAV2KjYxNpB8fOJ9CBC4To7bStS2pa8N1244apbvUZfihtzHT5xT9Cxye95qRxTwHsK19rfB9F1yyITiRtTUFSS7rh0qcKx58-wl5lmc1W4oZYhRZcdMehbg" alt="" width="242px;" height="246px;" /></p>
<p>Then try emulating a happy customer.</p>
<p style="text-align: center;"><img class="aligncenter" src="https://lh3.googleusercontent.com/cP9Kulosgdvv3s0XI7Dq-GUe5fvEF4A5bXKI9APks6JqgR7iSW5652DM1GSlJ3uwSjUwCvqbloDkwRuG4HqTDWmzmewgmr4P3WRUDrY_WwJtes3fCMMcqnQHHPkt2j37wQ" alt="" width="245px;" height="237px;" /></p>
<p>Then try a behavior that is a little more &#8220;meh.&#8221;</p>
<p style="text-align: left;"><img class="aligncenter" src="https://lh3.googleusercontent.com/xBYsG_vBLAVM1IKg07Lar8FwagpsIdP7q0kAu0C8t8qYoIjYkr9FW_lLElf5Zia9pUcCnS5AIQQS-WLzjpilVGkTAaIwUnPpmRvT_9cX8z-97ldZSL3KP24yGCjti7vOnA" alt="" width="244px;" height="194px;" /><br />
Party on &#8211; we can take wildly disparate input that we could not possibly anticipate and with just a few lines of code customize our responses for a more human experience.  These kind of determinations can have wide implications beyond just customer support.  Recording sentiment can improve SMS apps that collect survey data, handle logistics alerts like deliveries and even facilitate classroom instruction.</p>
<h3>Forgiving Fat Fingers with Spelling Correction</h3>
<p dir="ltr">One of the biggest issues with keyword SMS interfaces is the tendency for us humans to making spelling errors on the tiny keypads and touchscreens that power our texting.  While parsing for a keyword in all capital letters like HELP is really easy for programmers, it’s not so easy for users.</p>
<p dir="ltr">Many keypads and keyboards have tiresome caps lock mechanisms and even four characters can be easy to miss when you’re typing with a single thumb.  Let’s see if we can make a HELP menu for a Twilio SMS app more human by adding some NLP.</p>
<p>First, let’s build a HELP menu by looking for the HELP keyword and responding with a menu.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce190a897887663" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 14px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 14px !important; line-height: 24px !important;">
from flask import Flask
from flask import request

from twilio import twiml

app = Flask(__name__)

@app.route('/sms', methods=['POST'])
def sms():
    # Construct the TwiML response.
    response = twiml.Response()
    # Collect the body of the text message from the user.
    body = request.form['Body']

    # If user sends HELP in the text message, display the HELP menu.
    if "HELP" in body.upper():
        response.message("Text EXCELLENT to party on. Text BOGUS to "
                         "to be most non-triumphant.")
    # If not, send a generic message.
    else:                
        response.message("Thank you for texting Stallyns. Text HELP for more "
                         "info.")

    return str(response)

if __name__ == "__main__":
    # Since this is a development project, we will keep debug on to make our
    # lives easier. We would want to configure our app more conservatively
    # in production.
    app.debug = True
    app.run()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-2">2</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-4">4</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-6">6</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-8">8</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-10">10</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-12">12</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-14">14</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-16">16</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-18">18</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-20">20</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-22">22</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-24">24</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-26">26</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-28">28</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce190a897887663-30">30</div><div class="crayon-num" data-line="crayon-58794d8ce190a897887663-31">31</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce190a897887663-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">request</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">twilio </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">twiml</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-6"><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span><span class="crayon-sy">(</span><span class="crayon-i">__name__</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-8"><span class="crayon-sy">@</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-s">'/sms'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">methods</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'POST'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-9"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">sms</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Construct the TwiML response.</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">Response</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Collect the body of the text message from the user.</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-v">form</span><span class="crayon-sy">[</span><span class="crayon-s">'Body'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-14">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce190a897887663-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If user sends HELP in the text message, display the HELP menu.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-s">"HELP"</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">.</span><span class="crayon-e">upper</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"Text EXCELLENT to party on. Text BOGUS to "</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"to be most non-triumphant."</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If not, send a generic message.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"Thank you for texting Stallyns. Text HELP for more "</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"info."</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-i">response</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-26"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"__main__"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Since this is a development project, we will keep debug on to make our</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># lives easier. We would want to configure our app more conservatively</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># in production.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce190a897887663-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">debug</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line" id="crayon-58794d8ce190a897887663-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0092 seconds] -->
<p><img class="alignright" src="https://lh5.googleusercontent.com/Lm3js0i0hc-nTkWEsVy7RPO4uTwy0N7o28CBJZaLFbVEAU3NFxlsFjzcWKwhJHpE0qeb0hTmK0Q6S-FFS7j8fMhrmi0CaiHil4ls8grv32czGmJzZTFc9oOsDv8V9GirKQ" alt="" width="330px;" height="248px;" />Giving it a try with our phone, looks like we have the basic HELP keyword menu every Twilio SMS app should have.  But we also see the rub &#8211; my chubby thumb totally beefed typing HELP correctly and AutoCorrect only kicks in after a space or enter.  For one word keyword instructions, the smartphone often doesn’t correct before the message is already sent.  Totally bogus experience.</p>
<p>Let’s see if we can make this Twilio SMS app a little more forgiving of our human foibles with some NLP.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce191d212255695" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 14px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 14px !important; line-height: 24px !important;">
from flask import Flask
from flask import request

from twilio import twiml

from textblob import TextBlob

app = Flask(__name__)

@app.route('/sms', methods=['POST'])
def sms():
    response = twiml.Response()
    body = request.form['Body']

    help_message = "Text EXCELLENT to party on.  Text BOGUS to be most " \
                   "non-triumphant."

    # If the user uses the keyword, give her the HELP menu.
    if "HELP" in body.upper():
        response.message(help_message)
    # If the explicit keyword is not found, check for spelling errors
    elif is_keyword_misspelled(body, "HELP"):
        response.message(help_message)
    # If keyword is still not found, return generic message.
    else:
        response.message("Thank you for texting Stallyns. Text HELP for more "
                         "info.")

    return str(response)

def is_keyword_misspelled(body, keyword):
    """Spell check each word in a message and see if it matched a keyword for
    our app.

    Args:
        body: A str representing the message you want to spellcheck.
        keyword: A str representing the keyword that might be misspelled.

    Returns:
        Bool: True if keyword is present in a spelling alternative in the
        message, False if not.

    """
    text_blob = TextBlob(body)

    # Get list of words in uppercase.
    for word in text_blob.words.lower():
        # Spellcheck each word.  Returns alternative spelling suggestions
        # and confidence score.
        suggestions = word.spellcheck()
        for suggestion in suggestions:
            # Check if confidence of the spelling alternative is over 80%.
            if suggestion[1] &gt; 0.8:
                # Is it our keyword?
                if suggestion[0] == keyword.lower():
                    return True

    # If we don't find our keyword, return False
    return False

if __name__ == "__main__":
    # Since this is a development project, we will keep debug on to make our
    # lives easier. We would want to configure our app more conservatively
    # in production.
    app.debug = True
    app.run()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-2">2</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-4">4</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-6">6</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-8">8</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-10">10</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-12">12</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-14">14</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-16">16</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-18">18</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-20">20</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-22">22</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-24">24</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-26">26</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-28">28</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-30">30</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-32">32</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-34">34</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-36">36</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-38">38</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-40">40</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-42">42</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-44">44</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-46">46</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-48">48</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-50">50</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-52">52</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-54">54</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-56">56</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-58">58</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-60">60</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-62">62</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-64">64</div><div class="crayon-num" data-line="crayon-58794d8ce191d212255695-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce191d212255695-66">66</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce191d212255695-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">request</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">twilio </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">twiml</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-6"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">textblob </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">TextBlob</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-8"><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span><span class="crayon-sy">(</span><span class="crayon-i">__name__</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-10"><span class="crayon-sy">@</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-s">'/sms'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">methods</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'POST'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-11"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">sms</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">Response</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-v">form</span><span class="crayon-sy">[</span><span class="crayon-s">'Body'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-14">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce191d212255695-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">help_message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Text EXCELLENT to party on.&nbsp;&nbsp;Text BOGUS to be most "</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"non-triumphant."</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If the user uses the keyword, give her the HELP menu.</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-s">"HELP"</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">.</span><span class="crayon-e">upper</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-i">help_message</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If the explicit keyword is not found, check for spelling errors</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">elif</span><span class="crayon-h"> </span><span class="crayon-e">is_keyword_misspelled</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"HELP"</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-i">help_message</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If keyword is still not found, return generic message.</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-s">"Thank you for texting Stallyns. Text HELP for more "</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"info."</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-28">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce191d212255695-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-i">response</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-30">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce191d212255695-31"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">is_keyword_misspelled</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">keyword</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"""Spell check each word in a message and see if it matched a keyword for</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-33"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;our app.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-34">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce191d212255695-35"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;Args:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-36"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body: A str representing the message you want to spellcheck.</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-37"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword: A str representing the keyword that might be misspelled.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-38">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce191d212255695-39"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;Returns:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-40"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bool: True if keyword is present in a spelling alternative in the</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-41"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message, False if not.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-42">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce191d212255695-43"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;"""</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">text_blob</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">TextBlob</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Get list of words in uppercase.</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">word </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">text_blob</span><span class="crayon-sy">.</span><span class="crayon-v">words</span><span class="crayon-sy">.</span><span class="crayon-e">lower</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Spellcheck each word.&nbsp;&nbsp;Returns alternative spelling suggestions</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># and confidence score.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">suggestions</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">word</span><span class="crayon-sy">.</span><span class="crayon-e">spellcheck</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">suggestion </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">suggestions</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Check if confidence of the spelling alternative is over 80%.</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">suggestion</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.8</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Is it our keyword?</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">suggestion</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-k ">keyword</span><span class="crayon-sy">.</span><span class="crayon-e">lower</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># If we don't find our keyword, return False</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">False</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-60">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce191d212255695-61"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"__main__"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Since this is a development project, we will keep debug on to make our</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># lives easier. We would want to configure our app more conservatively</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># in production.</span></div><div class="crayon-line" id="crayon-58794d8ce191d212255695-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">debug</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce191d212255695-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0172 seconds] -->
<p><img class="alignright" src="https://lh3.googleusercontent.com/Ex5FH9uQvZk6oZnH5HQyve-7dKDbpeiTUl8zxMfdsdR_fYfr9GKboBBwWxaA9MRKIoJk-IKbSpjCD6AFwJBYco85y6KnBQjRixkIouREw3_b0Rvk-VpPWkh4x8bEz-AlSw" alt="" width="303px;" height="341px;" />Now if we try our project app, we can see that we despite our frequent spelling errors, we still get back the keyword menu we’re intending to retrieve.</p>
<p>That’s a user experience that could cause even the most course button masher to break into air guitar spontaneously.</p>
<p dir="ltr">
<p>&nbsp;</p>
<p><a href="http://twilioinc.wpengine.com/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html/bill_and_teds_excellent_adventure_5" rel="attachment wp-att-13550"><img class="aligncenter size-large wp-image-13550" src="https://www.twilio.com/blog/wp-content/uploads/2014/06/bill_and_teds_excellent_adventure_5-1024x576.png" alt="bill_and_teds_excellent_adventure_5" width="640" height="360" srcset="https://www.twilio.com/blog/wp-content/uploads/2014/06/bill_and_teds_excellent_adventure_5-1024x576.png 1024w, https://www.twilio.com/blog/wp-content/uploads/2014/06/bill_and_teds_excellent_adventure_5-300x168.png 300w" sizes="(max-width: 640px) 100vw, 640px" /></a>Let’s finish up showing how natural language processing can create better experiences for non-English texters as well.</p>
<h3 dir="ltr">Picking Up What Your Customer Is Putting Down With Language Detection</h3>
<p><img class="alignleft" src="https://lh4.googleusercontent.com/I_cuHwzultlCZcqP-x1yTQGsMjEhTfs0gFDsXoSIUgsMBOTvnaxyrpmbRuTA3Kh57U4tD_5_sxsKmFqLVh3lvDMcWWl7CEAexqKvW4YRzJ7Mzet5auTDTMVn8JCbz8ZnPg" alt="" width="320px;" height="139px;" /></p>
<p dir="ltr">In SMS applications serving users of multiple languages, informational menus are often presented to users with language specific keywords.</p>
<p dir="ltr">For example, if we were serving customers through our Twilio SMS app in both English and Spanish, we might serve the HELP keyword for an English menu and the AYUDA keyword for a Spanish menu.</p>
<p>A stub for an app like this would like:</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce192b686285813" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 14px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 14px !important; line-height: 24px !important;">
#!/usr/bin/env python
# -*- coding: utf-8 -*-

from flask import Flask
from twilio import twiml

app = Flask(__name__)

@app.route('/sms', methods=['POST'])
def sms():
    response = twiml.Response()

    response.message(u"Text HELP for more information.  Texto de AYUDA para "
                     u"información en español.")

    return str(response)

if __name__ == "__main__":
    # Since this is a development project, we will keep debug on to make our
    # lives easier. We would want to configure our app more conservatively
    # in production.
    app.debug = True
    app.run()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-2">2</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-4">4</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-6">6</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-8">8</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-10">10</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-12">12</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-14">14</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-16">16</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-18">18</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-20">20</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce192b686285813-22">22</div><div class="crayon-num" data-line="crayon-58794d8ce192b686285813-23">23</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce192b686285813-1"><span class="crayon-c">#!/usr/bin/env python</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-2"><span class="crayon-c"># -*- coding: utf-8 -*-</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-5"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">twilio </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">twiml</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-6">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce192b686285813-7"><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span><span class="crayon-sy">(</span><span class="crayon-i">__name__</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-8">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce192b686285813-9"><span class="crayon-sy">@</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-s">'/sms'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">methods</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'POST'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-10"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">sms</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">Response</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-12">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce192b686285813-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-i">u</span><span class="crayon-s">"Text HELP for more information.&nbsp;&nbsp;Texto de AYUDA para "</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">u</span><span class="crayon-s">"información en español."</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-i">response</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-18"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"__main__"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Since this is a development project, we will keep debug on to make our</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># lives easier. We would want to configure our app more conservatively</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># in production.</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce192b686285813-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">debug</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line" id="crayon-58794d8ce192b686285813-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0064 seconds] -->
<p></p>
<p dir="ltr">But that’s not a great experience for the user, right?  In order to serve all the users, we have to make horrible UX decisions that bias user behavior, like what order we position the languages and what preference is given in the event of cognate collision.</p>
<p dir="ltr">As developers, we have all the information we need about the user’s language we need right in the text he/she is sending us.  Using NLP to detect the language, we can create the best personalization of all with our application by conforming our application dynamically to the language of the user.</p>
<p dir="ltr">Let’s take a stab at what a language detecting help menu would like like using TextBlob’s built-in methods for the <a href="https://translate.google.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://translate.google.com/', 'Google Translate API');">Google Translate API</a>.</p>
<p></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794d8ce193c930529448" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 14px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 14px !important; line-height: 24px !important;">
#!/usr/bin/env python
# -*- coding: utf-8 -*-

from flask import Flask
from flask import request

from twilio import twiml

from textblob import TextBlob

app = Flask(__name__)

@app.route('/sms', methods=['POST'])
def sms():
    response = twiml.Response()
    body = request.form['Body']

    # Create a TextBlob object using the user's input.
    blob = TextBlob(body)

    # Detect the language with TextBlob's Google Translate integration
    language = blob.detect_language()

    if language == 'es':
        response.message(u"Gracias por los mensajes de texto Stallyns usted. "
                         u"Texto de ayuda para más información.")
    else:
        response.message(u"Thank you for texting Stallyns. Text HELP for more "
                         u"info.")

    return str(response)

if __name__ == "__main__":
    # Since this is a development project, we will keep debug on to make our
    # lives easier. We would want to configure our app more conservatively
    # in production.
    app.debug = True
    app.run()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-2">2</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-4">4</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-6">6</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-8">8</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-10">10</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-12">12</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-14">14</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-16">16</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-18">18</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-20">20</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-22">22</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-24">24</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-26">26</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-28">28</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-30">30</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-32">32</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-34">34</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-36">36</div><div class="crayon-num" data-line="crayon-58794d8ce193c930529448-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794d8ce193c930529448-38">38</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794d8ce193c930529448-1"><span class="crayon-c">#!/usr/bin/env python</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-2"><span class="crayon-c"># -*- coding: utf-8 -*-</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-5"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">flask </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">request</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-6">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce193c930529448-7"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">twilio </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">twiml</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-8">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce193c930529448-9"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">textblob </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">TextBlob</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-10">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce193c930529448-11"><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Flask</span><span class="crayon-sy">(</span><span class="crayon-i">__name__</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-12">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce193c930529448-13"><span class="crayon-sy">@</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-s">'/sms'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">methods</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'POST'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-14"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">sms</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">Response</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-v">form</span><span class="crayon-sy">[</span><span class="crayon-s">'Body'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Create a TextBlob object using the user's input.</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blob</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">TextBlob</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-20">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce193c930529448-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Detect the language with TextBlob's Google Translate integration</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">language</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">blob</span><span class="crayon-sy">.</span><span class="crayon-e">detect_language</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">language</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'es'</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-i">u</span><span class="crayon-s">"Gracias por los mensajes de texto Stallyns usted. "</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">u</span><span class="crayon-s">"Texto de ayuda para más información."</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-sy">(</span><span class="crayon-i">u</span><span class="crayon-s">"Thank you for texting Stallyns. Text HELP for more "</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">u</span><span class="crayon-s">"info."</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-30">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce193c930529448-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-i">response</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-32">&nbsp;</div><div class="crayon-line" id="crayon-58794d8ce193c930529448-33"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"__main__"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Since this is a development project, we will keep debug on to make our</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># lives easier. We would want to configure our app more conservatively</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># in production.</span></div><div class="crayon-line" id="crayon-58794d8ce193c930529448-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">debug</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794d8ce193c930529448-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0106 seconds] -->
<p><img class="alignright" src="https://lh5.googleusercontent.com/HzuSjaVE9mGAAFhUo7tNWlmPgH2yytVNSg8ghZkjgU5NXppgmm-EvNKNHw-uuq_aycmvYAjC0DkwnQlWkEKaQUbrT5ESA3A-givEBqMj9XsnxIvGEVXyNJ7rx6StcQCWFg" alt="" width="250px;" height="199px;" />So if we try texting into our Twilio SMS app now with emulating both English-speaking and Spanish-speaking customers, we see a much more human personalization in each customer’s native tongue.</p>
<p>Most triumphant!</p>
<h3 dir="ltr">Playing More With NLP</h3>
<p dir="ltr">Thanks for checking out how to use natural language processing to improve the SMS Interfaces of your Twilio apps.  We prototyped some examples of how NLP can be used to create more human experiences for your users.  We used sentiment analysis to customize our automated responses based on the user’s input.  We leveraged spelling correction to forgive the occasional mistakes that happen with SMS keywords.  And finally we used language to detection to ensure our app is literally speaking the same language as our customer.</p>
<p>Natural language processing is a way fun field of study and there are plenty more practical ways you can leverage it in your Twilio apps.  Here are some other projects I found helpful when exploring NLP:</p>
<ul>
<li dir="ltr"><a href="http://www.nltk.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.nltk.org/', 'Natural Language Toolkit');">Natural Language Toolkit</a> &#8211; the ginormous gold standard of NLP open source libraries.</li>
<li dir="ltr"><a href="https://www.coursera.org/course/nlp" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.coursera.org/course/nlp', 'Intro to NLP on Coursera');">Intro to NLP on Coursera</a> &#8211; The free online introduction to the field from Stanford.  Definitely brush up on your stats beforehand.</li>
<li dir="ltr"><a href="http://alias-i.com/lingpipe/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://alias-i.com/lingpipe/', 'LingPipe');">LingPipe</a> &#8211; A freemium NLP library for Java.</li>
<li dir="ltr"><a href="http://opennlp.apache.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://opennlp.apache.org/', 'Apache OpenNLP');">Apache OpenNLP</a></li>
</ul>
<p>I would love to see what you build with NLP and Twilio &#8211; you can find me on Twitter <a href="http://www.twitter.com/dn0t" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.twitter.com/dn0t', '@dn0t ');">@dn0t </a>or via email at <a href="mailto:rob@twilio.com">rob@twilio.com</a>.  Be excellent to each other!</p>
			</div>
					</div>
	</div><!-- .entry-content -->

	<footer class="entry-footer col-md-12">
		<div class="entry-meta">
					<div class="social-buttons">
			<div class="fb-like" data-href="https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="twilio" data-count="none" data-url="https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html" data-text="Using Natural Language Processing for Better SMS Interfaces Using Twilio and Python&#8217;s TextBlob ">Tweet</a>
      <a href="https://twitter.com/twilio" class="twitter-follow-button" data-show-count="false">Follow @twilio</a>
		</div>
<span class="author-avatar"><img alt='' src='https://secure.gravatar.com/avatar/407fa5f5cddffcdc88cb06df18bfb8fc?s=20&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/407fa5f5cddffcdc88cb06df18bfb8fc?s=40&amp;d=mm&amp;r=g 2x' class='avatar avatar-20 photo' height='20' width='20' /></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://www.twilio.com/blog/author/rspectre">Rob Spectre</a></span></span> <span class="author-meta author-email"><a href="mailto:rspectre@twilio.com">rspectre@twilio.com</a></span>		</div>
	</footer><!-- .entry-footer -->

   <div class="build-more"><h3>Build More With Python</h3>        <a href="https://www.twilio.com/docs/tutorials/walkthrough/server-notifications/python/django" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/docs/tutorials/walkthrough/server-notifications/python/django', '');">
          <h5>SMS and MMS Notifications with Python</h5>
        </a>
              <a href="https://www.twilio.com/blog/2015/01/net-promoter-score-python-sms.html" rel="bookmark" title="Permanent Link to Calculating Net Promoter Score with Python and SMS" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/blog/2015/01/net-promoter-score-python-sms.html', '');">
          <h5>Calculating Net Promoter Score with Python and SMS<h4>
        </a>
                <a href="https://www.twilio.com/blog/2015/02/arduino-powered-photobooth-arduino-yun-a-webcam-and-dropbox.html" rel="bookmark" title="Permanent Link to Build a Photobooth with an Arduino Yun, a Webcam and Dropbox" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/blog/2015/02/arduino-powered-photobooth-arduino-yun-a-webcam-and-dropbox.html', '');">
          <h5>Build a Photobooth with an Arduino Yun, a Webcam and Dropbox<h4>
        </a>
                <a href="https://www.twilio.com/blog/2015/02/multi-channel-support-desk-taskrouter.html" rel="bookmark" title="Permanent Link to Building A Multi Channel Support Desk with TaskRouter" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/blog/2015/02/multi-channel-support-desk-taskrouter.html', '');">
          <h5>Building A Multi Channel Support Desk with TaskRouter<h4>
        </a>
        </div>
</article><!-- #post-## -->

			
<div id="disqus_thread">
                    <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-3030">
        <div id="dsq-comment-header-3030" class="dsq-comment-header">
            <cite id="dsq-cite-3030">
http://www.worldtopseller.com/                <span id="dsq-author-user-3030">Michael Lu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3030" class="dsq-comment-body">
            <div id="dsq-comment-message-3030" class="dsq-comment-message"><p>Why there is no comment on this great post? I just love what you do, it takes me 20 minutes to finish reading the post.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3031">
        <div id="dsq-comment-header-3031" class="dsq-comment-header">
            <cite id="dsq-cite-3031">
                <span id="dsq-author-user-3031">Mick Stevens</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3031" class="dsq-comment-body">
            <div id="dsq-comment-message-3031" class="dsq-comment-message"><p>Wow! Seriously tempted to cancel my plans for the weekend to play with this! Bookmarking for Monday morning! Thanks Rob!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-3032">
        <div id="dsq-comment-header-3032" class="dsq-comment-header">
            <cite id="dsq-cite-3032">
http://www.brooklynhacker.com                <span id="dsq-author-user-3032">Rob Spectre</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3032" class="dsq-comment-body">
            <div id="dsq-comment-message-3032" class="dsq-comment-message"><p>Losing a weekend is definitely easy to do with TextBlob &#8211; feature rich with a simple interface.  Hope you let us know what you ended up building if you give it a whirl this weekend, Mick.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-3061">
        <div id="dsq-comment-header-3061" class="dsq-comment-header">
            <cite id="dsq-cite-3061">
                <span id="dsq-author-user-3061">Kang Fendi</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3061" class="dsq-comment-body">
            <div id="dsq-comment-message-3061" class="dsq-comment-message"><p>Interesting.. :)</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-3067">
        <div id="dsq-comment-header-3067" class="dsq-comment-header">
            <cite id="dsq-cite-3067">
                <span id="dsq-author-user-3067">Mick Stevens</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3067" class="dsq-comment-body">
            <div id="dsq-comment-message-3067" class="dsq-comment-message"><p>Wow! Finally managed to get time to play with this properly today. Tremendously powerful. Even without TextBlob (but a bit of thought &amp; planning) very easy to setup an ITR (&amp; who wouldn&#8217;t want one of those right!?) without spending any Capex. Add TextBlob to the mix &amp; the possibilities are literally endless. Rob, this stuff is priceless, MORE, MORE, MORE please!? :)</p>
<p>P.S.#1 Be careful not to create an SMS infinite loop when testing between Twilio nos. This will rapidly deplete your Twilio account credit! #schoolboyerror<br />
P.S.#2 Whatever you do, don&#8217;t text &#8220;POTS&#8221; to +1 646 679 6505 ;-)</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-3386">
        <div id="dsq-comment-header-3386" class="dsq-comment-header">
            <cite id="dsq-cite-3386">
                <span id="dsq-author-user-3386">Croc</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3386" class="dsq-comment-body">
            <div id="dsq-comment-message-3386" class="dsq-comment-message"><p>Excellent post. Thanks dude. Nothing bogus here.</p>
</div>
        </div>

    </li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html';
    var disqus_identifier = 'https://www.twilio.com/blog/2014/06/13509 http://twilioinc.wpengine.com/?p=13509';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'twilioblog';
    var disqus_title = "Using Natural Language Processing for Better SMS Interfaces Using Twilio and Python&#8217;s TextBlob";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html?cf_action=sync_comments&amp;post_id=13509';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "https:\/\/www.twilio.com\/blog\/2014\/06\/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html\/trackback"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		
		</main><!-- #main -->
	</div><!-- #primary -->


<div id="secondary" class="widget-area col-md-3 hide-xs" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://www.twilio.com/blog/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside><aside id="text-2" class="widget widget_text">			<div class="textwidget"><p>Power modern communications. Build the next generation of voice and SMS applications.</p>

 <a href="http://twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://twilio.com/try-twilio', 'Start Building For Free');" class="btn">Start Building For Free</a></div>
		</aside><style scoped type="text/css">.utcw-8ngloje {word-wrap:break-word}.utcw-8ngloje span,.utcw-8ngloje a{border-style:solid;border-width:1px}.utcw-8ngloje span:hover,.utcw-8ngloje a:hover{border-style:solid;border-width:1px}</style><aside id="utcw-2" class="widget widget_utcw widget_tag_cloud"><h1 class="widget-title">Posts By Stack</h1><div class="utcw-8ngloje tagcloud"><a class="tag-link-22 utcw-tag utcw-tag-net" href="https://www.twilio.com/blog/tag/net" style="font-size:16px" title="40 topics">.NET</a> <a class="tag-link-98 utcw-tag utcw-tag-arduino" href="https://www.twilio.com/blog/tag/arduino" style="font-size:16px" title="21 topics">Arduino</a> <a class="tag-link-598 utcw-tag utcw-tag-java" href="https://www.twilio.com/blog/tag/java" style="font-size:16px" title="14 topics">Java</a> <a class="tag-link-600 utcw-tag utcw-tag-javascript" href="https://www.twilio.com/blog/tag/javascript" style="font-size:16px" title="86 topics">JavaScript</a> <a class="tag-link-847 utcw-tag utcw-tag-php" href="https://www.twilio.com/blog/tag/php" style="font-size:16px" title="57 topics">PHP</a> <a class="tag-link-891 utcw-tag utcw-tag-python" href="https://www.twilio.com/blog/tag/python" style="font-size:16px" title="72 topics">Python</a> <a class="tag-link-969 utcw-tag utcw-tag-ruby" href="https://www.twilio.com/blog/tag/ruby" style="font-size:16px" title="69 topics">Ruby</a> <a class="tag-link-2856 utcw-tag utcw-tag-swift" href="https://www.twilio.com/blog/tag/swift" style="font-size:16px" title="22 topics">Swift</a></div></aside><style scoped type="text/css">.utcw-5dkhj5o {word-wrap:break-word}.utcw-5dkhj5o span,.utcw-5dkhj5o a{border-style:solid;border-width:1px}.utcw-5dkhj5o span:hover,.utcw-5dkhj5o a:hover{border-style:solid;border-width:1px}</style><aside id="utcw-3" class="widget widget_utcw widget_tag_cloud"><h1 class="widget-title">Posts By Product</h1><div class="utcw-5dkhj5o tagcloud"><a class="tag-link-2043 utcw-tag utcw-tag-mms" href="https://www.twilio.com/blog/tag/mms" style="font-size:16px" title="50 topics">MMS</a> <a class="tag-link-3513 utcw-tag utcw-tag-programmable-chat" href="https://www.twilio.com/blog/tag/programmable-chat" style="font-size:16px" title="9 topics">Programmable Chat</a> <a class="tag-link-1537 utcw-tag utcw-tag-sip" href="https://www.twilio.com/blog/tag/sip" style="font-size:16px" title="15 topics">SIP</a> <a class="tag-link-1031 utcw-tag utcw-tag-sms" href="https://www.twilio.com/blog/tag/sms" style="font-size:16px" title="372 topics">SMS</a> <a class="tag-link-2871 utcw-tag utcw-tag-taskrouter" href="https://www.twilio.com/blog/tag/taskrouter" style="font-size:16px" title="8 topics">Task Router</a> <a class="tag-link-1199 utcw-tag utcw-tag-twilio-client" href="https://www.twilio.com/blog/tag/twilio-client" style="font-size:16px" title="32 topics">Twilio Client</a> <a class="tag-link-3032 utcw-tag utcw-tag-twilio-video" href="https://www.twilio.com/blog/tag/twilio-video" style="font-size:16px" title="9 topics">Twilio Video</a> <a class="tag-link-1277 utcw-tag utcw-tag-voice" href="https://www.twilio.com/blog/tag/voice" style="font-size:16px" title="172 topics">Voice</a></div></aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><a href="http://www.twilio.com/docs/tutorials" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/docs/tutorials', '');"><img src="https://www.twilio.com/blog/wp-content/uploads/2016/07/tutorials.png" style="width: 255px" /></a></div>
		</aside><aside id="categories-3" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-13"><a href="https://www.twilio.com/blog/all-things-code" >Code, Tutorials and Hacks</a>
</li>
	<li class="cat-item cat-item-5"><a href="https://www.twilio.com/blog/customer-highlights" >Customer Highlights</a>
</li>
	<li class="cat-item cat-item-7"><a href="https://www.twilio.com/blog/developers-drawing-the-owl" >Developers Drawing The Owl</a>
</li>
	<li class="cat-item cat-item-3"><a href="https://www.twilio.com/blog/news" >News</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://www.twilio.com/blog/stories-from-the-road" >Stories From The Road</a>
</li>
	<li class="cat-item cat-item-8"><a href="https://www.twilio.com/blog/inside-twilio" >The Owl’s Nest: Inside Twilio</a>
</li>
		</ul>
</aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"><div class="tagcloud "><a href="http://www.twilio.com/blog/feed" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/blog/feed', 'RSS Feed');">RSS Feed</a></div></div>
		</aside></div><!-- #secondary -->

		</div><!-- .row -->
	</div><!-- #content.container -->

<div class="" id="footer">
	<div class="container">
		<header>
			<div class="banner"></div>
			<div class="border"></div>
			<div class="stitching"></div>
		</header>
    <div class="row sitemap">
      <div class="row">
        <div class="col-md-2 col-md-offset-1">
          <h4><a href="http://www.twilio.com/company">Company</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/company">About Twilio</a></li>
            <li><a href="http://www.twilio.com/company/nine-values">Our Nine Values</a></li>
            <li><a href="http://www.twilio.com/company/leadership-principles">Our Leadership Principles</a></li>
            <li><a href="http://www.twilio.com/company/management">The Team</a></li>
            <li><a href="http://www.twilio.com/press">Press &amp; Media</a></li>
            <li><a href="http://www.twilio.org/">Twilio.org</a></li>
            <li><a href="http://www.twilio.com/company/jobs">Careers</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4><a href="http://www.twilio.com/products">Products</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/voice">Voice</a></li>
            <li><a href="http://www.twilio.com/video">Video</a></li>
            <li><a href="http://www.twilio.com/sms">SMS (Text Messaging)</a></li>
            <li><a href="http://www.twilio.com/mms">MMS (Picture Messaging)</a></li>
            <li><a href="http://www.twilio.com/sms/toll-free">Toll-Free SMS</a></li>
            <li><a href="http://www.twilio.com/sip-trunking">SIP Trunking</a></li>
            <li><a href="http://www.twilio.com/client/mobile">Client Mobile</a></li>
            <li><a href="http://www.twilio.com/webrtc">Client WebRTC</a></li>
            <li><a href="http://www.twilio.com/stun-turn">Network Traversal Service</a></li>
            <li><a href="http://www.twilio.com/taskrouter">TaskRouter</a></li>
            <li><a href="http://www.twilio.com/sms/phone-numbers">Phone Numbers</a></li>
            <li><a href="http://www.twilio.com/sms/shortcodes">Short Codes</a></li>
            <li><a href="http://www.twilio.com/support-plans">Support Plans</a></li>
            <li><a href="http://www.twilio.com/platform">Platform</a></li>
            <li><a href="http://www.twilio.com/lookup">Lookup</a></li>
            <li><a href="http://www.twilio.com/monitor">Monitor</a></li>
            <li><a href="http://www.twilio.com/copilot">Messaging Copilot</a></li>
            <li><a href="http://www.twilio.com/voice/conference">Global Conference</a></li>
            <li><a href="http://www.twilio.com/authy">Authy</a></li>
          </ul>
      </div>
      <div class="col-md-2">
        <h4><a href="http://www.twilio.com/pricing">Pricing</a></h4>
        <ul>
          <li><a href="http://www.twilio.com/voice/pricing">Voice Pricing</a></li>
          <li><a href="http://www.twilio.com/sms/pricing">Messaging Pricing</a></li>
          <li><a href="http://www.twilio.com/sip-trunking/pricing">SIP Trunking Pricing</a></li>
          <li><a href="http://www.twilio.com/client/pricing">Client Pricing</a></li>
          <li><a href="http://www.twilio.com/stun-turn/pricing">Network Traversal Pricing</a></li>
          <li><a href="http://www.twilio.com/taskrouter/pricing">TaskRouter</a></li>
          <li><a href="http://www.twilio.com/lookup#pricing">Lookup</a></li>
          <li><a href="http://www.twilio.com/international">International Coverage</a></li>
        </ul>
      </div>
      <div class="col-md-2">
          <h4><a href="http://www.twilio.com/use-cases">Use Cases</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/customers">Customer Stories</a></li>
            <li><a href="http://www.twilio.com/showcase">Showcase</a></li>
            <li><a href="http://www.twilio.com/use-cases/two-factor-authentication">Two-Factor Authentication</a></li>
            <li><a href="http://www.twilio.com/use-cases/appointment-reminders">Appointment Reminders</a></li>
            <li><a href="http://www.twilio.com/use-cases/dispatch-notifications">Dispatch Notifications</a></li>
            <li><a href="http://www.twilio.com/use-cases/eta-alerts">ETA Alerts</a></li>
            <li><a href="http://www.twilio.com/use-cases/automated-surveys">Automated Surveys</a></li>
            <li><a href="http://www.twilio.com/use-cases/masked-phone-numbers">Masked Phone Numbers</a></li>
            <li><a href="http://www.twilio.com/use-cases/visual-estimates">Visual Estimates</a></li>
            <li><a href="http://www.twilio.com/doers">Developer Network</a></li>
            <li><a href="http://www.twilio.com/webinars">Webinars</a></li>
            <li><a href="http://www.twilio.com/white-papers">White Papers</a></li>
          </ul>
      </div>
      <div class="col-md-2">
          <h4><a href="http://www.twilio.com/api">Api &amp; Docs</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/docs/api">API Documentation</a></li>
            <li><a href="http://www.twilio.com/docs/quickstart">Quickstarts</a></li>
            <li><a href="http://www.twilio.com/docs/howto">How Tos</a></li>
            <li><a href="http://www.twilio.com/docs/libraries">Helper Libraries</a></li>
            <li><a href="http://www.twilio.com/docs/security">Security</a></li>
          </ul>
      </div>
    </div>
		<div class="row clear">
			<footer><span>&copy; 2017 Twilio. All rights reserved. <aside>|</aside><a href="http://www.twilio.com/legal/tos">Terms of Service</a><aside>|</aside><a href="http://www.twilio.com/legal/privacy">Privacy Policy</a></span>
			</footer>
		</div>
	</div>
</div>


</div><!-- #page -->

<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201702'></script>







<script type="text/javascript" defer src="https://www.twilio.com/blog/wp-content/cache/autoptimize/js/autoptimize_30cf8936a215677503cd64ef48677239.js"></script></body>

<!-- Mirrored from www.twilio.com/blog/2014/06/using-natural-language-processing-for-better-sms-interfaces-using-twilio-and-pythons-textblob.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:59 GMT -->
</html>
