<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<script type="text/javascript">
(function() {
    var projectId = 3524915770;
    var protocol = ('https:' == document.location.protocol ?
    'https://' : 'http://');
    var scriptTag = document.createElement('script');
    scriptTag.type = 'text/javascript';
    scriptTag.async = true;
    scriptTag.src = protocol + 'cdn.optimizely.com/js/' +
    projectId + '.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(scriptTag, s);
})();
function optimizelyTimeout() {
    window.optimizely = window.optimizely|| [];
    if (!window.optimizely.data) {
    window.optimizely.push("timeout");
    }
}
setTimeout(optimizelyTimeout, 1000);
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.twilio.com/blog/xmlrpc.php">
<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '815114181']);
_elqQ.push(['elqTrackPageView']);
_elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);
(function () {
  function async_load()
  {
    var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
    s.src = 'http://img03.en25.com/i/elqCfg.min.js';
    var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
  }
  if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
  else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>
<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','http://connect.facebook.net/en_US/fbevents.js');

fbq('init', '467131150158811');
fbq('track', "PageView");</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=467131150158811&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

<style>
@media screen and (max-width: 600px) {
  #signal-header { display: none; }
}
</style>

<link type="text/css" media="all" href="https://www.twilio.com/blog/wp-content/cache/autoptimize/css/autoptimize_7a2cc50131d932d32297f43c61de37cd.css" rel="stylesheet" /><link type="text/css" media="screen" href="https://www.twilio.com/blog/wp-content/cache/autoptimize/css/autoptimize_97ca666341cd9b69002e26c8f2ca5299.css" rel="stylesheet" /><title>Getting Started with Gradle and the Spark Framework &#8211; Twilio Cloud Communications Blog</title>

<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.13 - http://yoast.com/wordpress/seo/ -->
<meta name="description" content="Getting Started With Gradle and the Spark Framework"/>
<link rel="canonical" href="https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='dns-prefetch' href='https://www.twilio.com/blog//s0.wp.com' />
<link rel='dns-prefetch' href='https://www.twilio.com/blog//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Feed" href="https://www.twilio.com/blog/feed" />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Comments Feed" href="https://www.twilio.com/blog/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Twilio Cloud Communications Blog &raquo; Getting Started with Gradle and the Spark Framework Comments Feed" href="https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/twilioinc.wpengine.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.2"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>










<!-- This site uses the Google Analytics by Yoast plugin v5.4.7 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','http://www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-2900316-1', 'auto');
	__gaTracker('set', 'forceSSL', true);
	 window.optimizely = window.optimizely || [];
 window.optimizely.push("activateUniversalAnalytics");
	__gaTracker('set', 'dimension4', 'Eddie Zaneski');
	__gaTracker('set', 'dimension5', 'post');
	__gaTracker('set', 'dimension6', 'all-things-code');
	__gaTracker('set', 'dimension7', 'Gradle,Java,Spark,twilio,Voice');
	__gaTracker('set', 'dimension8', '2015-09-03T10:49:20+00:00');
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by Yoast -->


<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.4.3","is_admin":"0","ajaxurl":"https:\/\/twilioinc.wpengine.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>

<script type='text/javascript'>
/* <![CDATA[ */
var swiftypeParams = {"engineKey":"UpGyyJZzgUMXHM65YENj"};
/* ]]> */
</script>

<link rel='https://api.w.org/' href='https://www.twilio.com/blog/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.twilio.com/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.twilio.com/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='shortlink' href='https://www.twilio.com/blog/?p=15896' />
<link rel="alternate" type="application/json+oembed" href="https://www.twilio.com/blog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2F2015%2F09%2Fgetting-started-with-gradle-and-the-spark-framework-3.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.twilio.com/blog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2F2015%2F09%2Fgetting-started-with-gradle-and-the-spark-framework-3.html&amp;format=xml" />
<link rel="icon" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-32x32.png" sizes="32x32" />
<link rel="icon" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-180x180.png" />
<meta name="msapplication-TileImage" content="https://www.twilio.com/blog/wp-content/uploads/2015/09/cropped-favicon_1141-270x270.png" />
</head>

<body class="single single-post postid-15896 single-format-standard group-blog">
<!-- Google Tag Manager -->
<noscript><iframe src="https://www.twilio.com/blog//www.googletagmanager.com/ns.html?id=GTM-W4RVXH"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W4RVXH');</script>
<!-- End Google Tag Manager -->

<div id="fb-root"></div>
<script>(function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = "http://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=414254592083321&version=v2.0";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
window.fbAsyncInit = function() {
  FB.Event.subscribe('edge.create', function(targetUrl) {
    __gaTracker('send', 'social', 'facebook', 'like', targetUrl);
  });
};
window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));

function trackTwitter(intent_event) {
  if (intent_event) {
    var opt_pagePath;
    if (intent_event.target && intent_event.target.nodeName == 'IFRAME') {
          opt_target = extractParamFromUri(intent_event.target.src, 'url');
    }
    __gaTracker('send', 'social', 'twitter', 'tweet', opt_pagePath);
  }
}

function extractParamFromUri(uri, paramName) {
  if (!uri) {
    return;
  }
  var regex = new RegExp('[\\?&#]' + paramName + '=([^&#]*)');
  var params = regex.exec(uri);
  if (params != null) {
    return unescape(params[1]);
  }
  return;
}

//Wrap event bindings - Wait for async js to load
twttr.ready(function (twttr) {
  //event bindings
  twttr.events.bind('tweet', trackTwitter);
});
</script>
<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
  heap.load("1541905715");
</script>
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<nav class="navbar navbar-default" role="navigation">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle hidden-xs" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://www.twilio.com/blog/">
					<img src="https://s3.amazonaws.com/ahoy-assets.twilio.com/global/images/wordmark.svg" width="200"> <span class="logo-blog">blog</span>
				</a>
			</div>

			<div class="hidden-xs"><ul id="menu-site-navigation" class="nav navbar-nav pull-right"><li id="menu-item-12202" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12202"><a href="http://www.twilio.com/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/', 'Home');" title="Home">Home</a></li>
<li id="menu-item-12205" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12205"><a href="http://www.twilio.com/blog" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/blog', 'Blog');" title="Blog">Blog</a></li>
<li id="menu-item-12204" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12204"><a href="https://www.twilio.com/docs/howto" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/docs/howto', 'Tutorials');" title="Tutorials">Tutorials</a></li>
<li id="menu-item-12206" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12206"><a href="https://www.twilio.com/docs/api" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/docs/api', 'Docs');" title="Docs">Docs</a></li>
<li id="menu-item-12207" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12207"><a href="http://www.twilio.com/help" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/help', 'Help');" title="Help">Help</a></li>
<li id="menu-item-12208" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12208"><a href="https://www.twilio.com/login" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/login', 'Login');" title="Login">Login</a></li>
<li id="menu-item-12209" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12209"><a href="https://www.twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://www.twilio.com/try-twilio', 'Signup');" title="Signup">Signup</a></li>
</ul></div>		</div>
	</nav>

	<div id="content" class="site-content container">
		<div class="row">

	<div id="primary" class="content-area col-md-9">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-15896" class="row post-15896 post type-post status-publish format-standard has-post-thumbnail hentry category-all-things-code tag-gradle tag-java tag-spark tag-twilio tag-voice">
	<header class="entry-header col-md-12">
		<h2 class="entry-title">Getting Started with Gradle and the Spark Framework</h2>
						<div class="entry-image col-md-12">
        <img width="640" height="265" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/sparkheader.png" class="img-responsive wp-post-image" alt="Spark and Gradle" srcset="https://www.twilio.com/blog/wp-content/uploads/2015/09/sparkheader.png 640w, https://www.twilio.com/blog/wp-content/uploads/2015/09/sparkheader-300x124.png 300w" sizes="(max-width: 640px) 100vw, 640px" />			</div>
      <div class="clear"></div>
			
		<footer class="entry-footer">
			<div class="entry-meta">
					<div class="row">
	<div class="col-md-6">
	<span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://www.twilio.com/blog/author/eddiez">Eddie Zaneski</a></span></span> on <span class="posted-on"><a href="https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html" rel="bookmark"><time class="entry-date published" datetime="2015-09-03T10:49:20+00:00">September 3, 2015</time><time class="updated" datetime="2016-07-21T15:01:39+00:00">July 21, 2016</time></a></span>	</div>
	<div class="col-md-6">
		<div class="social-buttons">
			<div class="fb-like" data-href="https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="twilio" data-count="none" data-url="https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html" data-text="Getting Started with Gradle and the Spark Framework ">Tweet</a>
      <a href="https://twitter.com/twilio" class="twitter-follow-button" data-show-count="false">Follow @twilio</a>
		</div>
	</div>
	</div>
			</div><!-- .entry-meta -->
		</footer><!-- .entry-footer -->
	</header><!-- .entry-header -->

	<div class="entry-content col-md-12">
		<div class="row">
			<div class="col-md-12">
				<p>One of the worst phrases I hear at student hackathons is “I can’t build a cool web app because I only know Java”. I see two solutions to this dilemma. We can either agree to hunker down and get started learning Ruby or Python or we can embrace existing knowledge and dissolve this misconception. Even a veteran might not associate Java with quickly spinning up a web app, but today I&#8217;m going to show you how easy it can be with the <a href="http://sparkjava.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://sparkjava.com/', 'Spark Framework');">Spark Framework</a>. Spark is a Java micro web framework similar to Ruby’s <a href="http://www.sinatrarb.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.sinatrarb.com/', 'Sinatra');">Sinatra</a> or Python’s <a href="http://flask.pocoo.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://flask.pocoo.org/', 'Flask');">Flask</a>. With 7 simple lines of code and a small config file we can get spun up serving totally rad caffeinated HTTP requests.</p>
<h3 class="c0 c4"><a name="h.b569ijpwbs8s"></a>The Kit</h3>
<p>I’ll be doing all of this with the Java IDE <a href="https://www.jetbrains.com/idea/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.jetbrains.com/idea/', 'IntelliJ IDEA');">IntelliJ IDEA</a> because of its excellent integrations. You can grab a free copy of the Community Edition <a href="https://www.jetbrains.com/idea/download/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.jetbrains.com/idea/download/', 'here');">here</a>.</p>
<p>We’ll use <a href="https://ngrok.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://ngrok.com/', 'ngrok');">ngrok</a> to safely expose our app to Twilio. Check out Kevin’s <a href="https://www.twilio.com/blog/2013/10/test-your-webhooks-locally-with-ngrok.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/blog/2013/10/test-your-webhooks-locally-with-ngrok.html', 'tutorial');">tutorial</a> if you haven’t used it before.</p>
<p>Along with Spark, we’re going to see how easy it is to incorporate the <a href="https://www.twilio.com/docs/libraries/java" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/libraries/java', 'Twilio Java');">Twilio Java</a> helper library to receive calls in your app. If you don’t already have a Twilio account, you can create one free <a href="https://www.twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/try-twilio', 'here');">here</a>. We’ll also need a phone number capable of voice and SMS.</p>
<p>We’ll also need a build tool to tie everything together. This is certainly one of the biggest barriers to entry when you’re stepping outside the realm of smaller Java projects. I’ll be using <a href="https://gradle.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://gradle.org/', 'Gradle');">Gradle</a> but feel free to use <a href="https://maven.apache.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://maven.apache.org/', 'Maven');">Maven</a> or something you’re more comfortable with.</p>
<p>Let’s begin by making sure we have the Java 8 SE Development Kit (JDK) <a href="http://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html', 'installed');">installed</a>.</p>
<p>Verify we’re good by running the below command from your shell or command prompt.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c6692715573659" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
java -version</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c6692715573659-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c6692715573659-1"><span class="crayon-i">java</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">version</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>If you’re not using IntelliJ, install Gradle from the the <a href="https://gradle.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://gradle.org/', 'homepage');">homepage</a> or your favorite package manager. If you’re on OS X and have <a href="http://brew.sh/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://brew.sh/', 'brew');">brew</a> you can do the following.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66a3379915576" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
brew install gradle
gradle -version</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66a3379915576-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66a3379915576-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66a3379915576-1"><span class="crayon-e">brew </span><span class="crayon-e">install </span><span class="crayon-e">gradle</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66a3379915576-2"><span class="crayon-i">gradle</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">version</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p><img class="&quot; aligncenter" style="width: 400.00px; height: 229.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/pkwc9TmkrnMj8BqIdYtn9x7yvWXNPhyTT_7H1vq0tZYlsDACw0fgCtYnC2vhZvKukCLBJfYp66I5L0RLDi_N2BcFhfLYxanjGcnsJEJSS1Ahqgz4DD8g1vZ1WXwl7qN8S-k4Kw2.png" alt="KR9OgQyWAwIIE.gif" /></p>
<p>Phew. Now that we’re all set up it’s time for the fun part!</p>
<h3 class="c0 c4"><a name="h.3pgudts7o6ev"></a>Hello Spark</h3>
<p>Start by creating a new Gradle project. Fill in whatever you want for GroupId and ArtifactId. On the next screen make sure to check “Use auto-import”, “Create directories for empty content roots automatically”, and “Use default gradle wrapper”.</p>
<p><img class="&quot; aligncenter" style="width: 624.00px; height: 390.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/igYwDRwdGWu6vfCB9OuHqHeWoGQ3pKU2LJwBOGy7KJBNbxPYtqvAv7h34TBcaa6HpvIYpUEfxX7TlfH_TIdg8YAyJOa2VyKYhKasuuxEaVqFsFhhednY2NuDbd42213Qd09eQ2.png" alt="" /></p>
<p>Gradle uses <a href="http://www.groovy-lang.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.groovy-lang.org/', 'Groovy');">Groovy</a> syntax as opposed to the traditional XML that you’d find in Maven or Ant. I find it to be much more approachable than the alternatives. Configuration files can certainly be intimidating so we’ll step through and explain this one thoroughly. You can find the completed file at the end.</p>
<p>Open the created file named <code>build.gradle</code> and change its contents to the following.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66af568667088" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
plugins {
    id 'java'
    id 'application'
    id 'com.github.johnrengelman.shadow' version '1.2.2'
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66af568667088-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66af568667088-2">2</div><div class="crayon-num" data-line="crayon-58794da8c66af568667088-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66af568667088-4">4</div><div class="crayon-num" data-line="crayon-58794da8c66af568667088-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66af568667088-1"><span class="crayon-e">plugins</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66af568667088-2"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">id</span><span class="crayon-h"> </span><span class="crayon-s">'java'</span></div><div class="crayon-line" id="crayon-58794da8c66af568667088-3"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">id</span><span class="crayon-h"> </span><span class="crayon-s">'application'</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66af568667088-4"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">id</span><span class="crayon-h"> </span><span class="crayon-s">'com.github.johnrengelman.shadow'</span><span class="crayon-h"> </span><span class="crayon-i">version</span><span class="crayon-h"> </span><span class="crayon-s">'1.2.2'</span></div><div class="crayon-line" id="crayon-58794da8c66af568667088-5"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>Here we are defining what Gradle plugins to include. The Java plugin is what we need to compile and build our Java code. The Application and Shadow plugins are optional, but make it super easy for us to build an <a href="http://stackoverflow.com/a/11947093/959953" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://stackoverflow.com/a/11947093/959953', 'uber-jar');"><strong>uber-jar</strong></a> (a portable executable that contains all of our dependencies).</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66b9546697800" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
sourceCompatibility = 1.8

mainClassName = 'HelloSpark'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66b9546697800-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66b9546697800-2">2</div><div class="crayon-num" data-line="crayon-58794da8c66b9546697800-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66b9546697800-1"><span class="crayon-v">sourceCompatibility</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.8</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66b9546697800-2">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c66b9546697800-3"><span class="crayon-v">mainClassName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'HelloSpark'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>This specifies that we require Java 8 and declares the entry classname for our application.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66c3302940085" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
repositories {
    mavenCentral()
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66c3302940085-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66c3302940085-2">2</div><div class="crayon-num" data-line="crayon-58794da8c66c3302940085-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66c3302940085-1"><span class="crayon-e">repositories</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66c3302940085-2"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">mavenCentral</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c66c3302940085-3"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>Configures Gradle to download our dependencies from the <a href="http://search.maven.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://search.maven.org/', 'Central Maven Repository');">Central Maven Repository</a>.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66ce797485588" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
dependencies {
    compile 'com.sparkjava:spark-core:2.2'
    compile 'com.twilio.sdk:twilio-java-sdk:4.4.5'
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66ce797485588-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66ce797485588-2">2</div><div class="crayon-num" data-line="crayon-58794da8c66ce797485588-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66ce797485588-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66ce797485588-1"><span class="crayon-e">dependencies</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66ce797485588-2"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">compile</span><span class="crayon-h"> </span><span class="crayon-s">'com.sparkjava:spark-core:2.2'</span></div><div class="crayon-line" id="crayon-58794da8c66ce797485588-3"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">compile</span><span class="crayon-h"> </span><span class="crayon-s">'com.twilio.sdk:twilio-java-sdk:4.4.5'</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66ce797485588-4"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>Finally we declare the dependencies that we want Gradle to include at compile time. This is where you’d include any other dependencies you’d like in the form of “GROUP:NAME:VERSION”.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66d8801869676" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
plugins {
    id 'java'
    id 'application'
    id 'com.github.johnrengelman.shadow' version '1.2.2'
}

sourceCompatibility = 1.8

mainClassName = 'HelloSpark'

repositories {
    mavenCentral()
}

dependencies {
    compile 'com.sparkjava:spark-core:2.2'
    compile 'com.twilio.sdk:twilio-java-sdk:4.4.5'
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-2">2</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-4">4</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-6">6</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-8">8</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-10">10</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-12">12</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-14">14</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-16">16</div><div class="crayon-num" data-line="crayon-58794da8c66d8801869676-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66d8801869676-18">18</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66d8801869676-1"><span class="crayon-e">plugins</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-2"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">id</span><span class="crayon-h"> </span><span class="crayon-s">'java'</span></div><div class="crayon-line" id="crayon-58794da8c66d8801869676-3"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">id</span><span class="crayon-h"> </span><span class="crayon-s">'application'</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-4"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">id</span><span class="crayon-h"> </span><span class="crayon-s">'com.github.johnrengelman.shadow'</span><span class="crayon-h"> </span><span class="crayon-i">version</span><span class="crayon-h"> </span><span class="crayon-s">'1.2.2'</span></div><div class="crayon-line" id="crayon-58794da8c66d8801869676-5"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-6">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c66d8801869676-7"><span class="crayon-v">sourceCompatibility</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.8</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-8">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c66d8801869676-9"><span class="crayon-v">mainClassName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'HelloSpark'</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-10">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c66d8801869676-11"><span class="crayon-e">repositories</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-12"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">mavenCentral</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c66d8801869676-13"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-14">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c66d8801869676-15"><span class="crayon-e">dependencies</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-16"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">compile</span><span class="crayon-h"> </span><span class="crayon-s">'com.sparkjava:spark-core:2.2'</span></div><div class="crayon-line" id="crayon-58794da8c66d8801869676-17"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">compile</span><span class="crayon-h"> </span><span class="crayon-s">'com.twilio.sdk:twilio-java-sdk:4.4.5'</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66d8801869676-18"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0035 seconds] -->
<p>Now we can create our main class with the name of “HelloSpark” under <code>src/main/java</code>.</p>
<p><img class="&quot; aligncenter" style="width: 644.40px; height: 390.67px; margin-left: -10.20px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/zwdT3bMntCWd1v0rGaUiXA-n9IY6RTQLbylIIHgkgUEj5HggvACqcr9lcmkYXwEyUItLGAsc0e8-eyKbJ3GTqr24SGzz6-Vl_n5rmEwBr7xfA35VKwMQe0SWOSrOGKhiOTs9tQ2.png" alt="newclass.gif" /></p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66e2046711349" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
import static spark.Spark.*;

public class HelloSpark {
    public static void main(String[] args) {
        get("/", (req, res) -&gt; "Hello, World!");
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66e2046711349-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66e2046711349-2">2</div><div class="crayon-num" data-line="crayon-58794da8c66e2046711349-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66e2046711349-4">4</div><div class="crayon-num" data-line="crayon-58794da8c66e2046711349-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c66e2046711349-6">6</div><div class="crayon-num" data-line="crayon-58794da8c66e2046711349-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66e2046711349-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-v">spark</span><span class="crayon-sy">.</span><span class="crayon-v">Spark</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66e2046711349-2">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c66e2046711349-3"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloSpark</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66e2046711349-4"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c66e2046711349-5"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">"/"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-s">"Hello, World!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c66e2046711349-6"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-58794da8c66e2046711349-7"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0038 seconds] -->
<p>Not your typical Java web app, huh? Spark is incredibly friendly to work with even if you don’t know much Java. Whenever a GET request is made to the root URL of your app, a simple <a href="http://viralpatel.net/blogs/lambda-expressions-java-tutorial/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://viralpatel.net/blogs/lambda-expressions-java-tutorial/', 'lambda function');">lambda function</a> will be called and return the string “Hello, World!”</p>
<p>To spin it up quickly, you could right click inside our class file and then select “Run ‘HelloSpark.main()’” but instead let’s build our uber-jar by double clicking the Gradle HelloSpark/Tasks/shadow/shadowJar task from the Gradle menu on the right (note: if you don’t see the Gradle menu, click the square in the bottom left corner to make it appear).</p>
<p><img class="&quot; aligncenter" style="width: 644.40px; height: 390.67px; margin-left: -10.20px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/VWTzh0AXnTkb5up_d3qQlvka__u2FZQeCd0JGcX8F93Eq76B0pzHIMyI10ygyp2HtyBeOqCcXXvCT8J_LAGdgFjTWrReSIFspBS_H904KJX5ANauhCI2SzR6ZSIMaqXMMpF_jA2.png" alt="buildjar.gif" /></p>
<p>If you&#8217;re using Gradle without IntelliJ you&#8217;ll need to run the following.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66ed586766560" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
gradle shadowJar</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66ed586766560-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66ed586766560-1"><span class="crayon-e">gradle </span><span class="crayon-i">shadowJar</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>You can find the built JAR at build/libs/HelloSpark-all.js and run it by right clicking it and selecting ‘Run HelloSpark-all.jar’. Now visit <a href="http://localhost:4567/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://localhost:4567/', 'http://localhost:4567/');">http://localhost:4567</a> in your browser and smile at your first running Java web app.</p>
<p><img class="&quot; aligncenter" style="width: 412.00px; height: 248.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/JA21XPtX0UwqC132RROQif6KJgebMdwcpUg8qMq5bui1I0El3GbjTlRVsbewAsdaQDOPXwLE3gCxsTdNVa73Tn1DvfYfEJIC9AYvb4s3aXcRqZtmQopVKGk2D8Fo_go2-S3ESg2.png" alt="izOQECJfXMxgc.gif" /></p>
<h3 class="c0 c4"><a name="h.qec9pflry9bn"></a>Kick it Up a Notch</h3>
<p>Now that we have a working web app let’s kick it up a notch! We’re going to tweak our code to be able to receive an SMS that contains the name of a song. We’ll then respond with a phone call and use the Spotify API to play a snippet of the song.</p>
<p>Add the following dependency to your <code>build.gradle</code> file.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c66f8299265150" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
compile 'com.mashape.unirest:unirest-java:1.4.6'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c66f8299265150-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c66f8299265150-1"><span class="crayon-i">compile</span><span class="crayon-h"> </span><span class="crayon-s">'com.mashape.unirest:unirest-java:1.4.6'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>We’re using <a href="http://unirest.io/java.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://unirest.io/java.html', 'Unirest');">Unirest</a> because it really simplifies making HTTP requests in Java.</p>
<p>Add the following method to the bottom of your <code>HelloSpark</code> class.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c6702798894771" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
   private static String getTrackUrl(String query) {
        String url = "http://api.spotify.com/v1/search";
        HttpResponse&lt;JsonNode&gt; jsonResponse;
        try {
            jsonResponse = Unirest.get(url)
                    .header("accept", "application/json")
                    .queryString("q", query)
                    .queryString("type", "track")
                    .asJson();
            return jsonResponse.getBody().getObject().getJSONObject("tracks")
                    .getJSONArray("items").getJSONObject(0).getString("preview_url");
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c6702798894771-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-2">2</div><div class="crayon-num" data-line="crayon-58794da8c6702798894771-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-4">4</div><div class="crayon-num" data-line="crayon-58794da8c6702798894771-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-6">6</div><div class="crayon-num" data-line="crayon-58794da8c6702798894771-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-8">8</div><div class="crayon-num" data-line="crayon-58794da8c6702798894771-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-10">10</div><div class="crayon-num" data-line="crayon-58794da8c6702798894771-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-12">12</div><div class="crayon-num" data-line="crayon-58794da8c6702798894771-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-14">14</div><div class="crayon-num" data-line="crayon-58794da8c6702798894771-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6702798894771-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c6702798894771-1"> <span class="crayon-h"> </span> <span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">getTrackUrl</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-i">query</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-2"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"http://api.spotify.com/v1/search"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6702798894771-3"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">HttpResponse</span><span class="crayon-e ">&lt;JsonNode&gt;</span><span class="crayon-h"> </span><span class="crayon-i">jsonResponse</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-4"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c6702798894771-5"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">jsonResponse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Unirest</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-i">url</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-6"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">"accept"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"application/json"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c6702798894771-7"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">queryString</span><span class="crayon-sy">(</span><span class="crayon-s">"q"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">query</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-8"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">queryString</span><span class="crayon-sy">(</span><span class="crayon-s">"type"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"track"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c6702798894771-9"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">asJson</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-10"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">jsonResponse</span><span class="crayon-sy">.</span><span class="crayon-e">getBody</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getObject</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getJSONObject</span><span class="crayon-sy">(</span><span class="crayon-s">"tracks"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c6702798894771-11"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">getJSONArray</span><span class="crayon-sy">(</span><span class="crayon-s">"items"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getJSONObject</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-s">"preview_url"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-12"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c6702798894771-13"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-14"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6702798894771-15"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6702798894771-16"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0127 seconds] -->
<p>This method will take in the body of the SMS that comes into our server from Twilio. It then makes the API request to Spotify and traverses the JSON response to find the <code>preview_url</code>. If for some reason it can’t, it prints out the stack trace and returns <code>null</code>.</p>
<p>Now we’re going to need your ngrok URL. Start it up by running the following and grab your URL.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c670d872075129" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
ngrok http 4567</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c670d872075129-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c670d872075129-1"><span class="crayon-e">ngrok </span><span class="crayon-i">http</span><span class="crayon-h"> </span><span class="crayon-cn">4567</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p><img class="&quot; aligncenter" style="width: 624.00px; height: 293.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/KvayqYQeZRPhmWfJxsuNr36a72RDtlLfOJ5oZGL_V5F4-xTQHQktN97Rx0WoDWsCwt_ULTrIfFfzON-6794WZJIbIl1aCC_lFbCp81VPLqeLvNPOa8cMvv871usTW-3b1lJqkg2.png" alt="" /></p>
<p><a href="https://www.twilio.com/user/account/phone-numbers/incoming" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/user/account/phone-numbers/incoming', 'Configure');">Configure</a> your Twilio phone number with this URL and add <code>/sms</code> to the end so SMS’s will be sent to our app.</p>
<p><img class="&quot; aligncenter" style="width: 624.00px; height: 200.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/863e-LMOffa1Ox3a4UMJ6XI3q0wwEtkTXJt_3MXYuAMMrOxjnsdYisoSPrxxZAApH_-A-fuSFfot3jK7lBxKIK5w8w9ayo2IwRxM3kU9CTmQLq3HSMvo20yRjsSjiko_0RVq9A2.png" alt="" /></p>
<p>Now inside your <code>main</code> method, add the following route. Be sure to replace the ngrok URL, Twilio phone number, and account credentials with yours.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c6734871494112" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
       TwilioRestClient client = new TwilioRestClient(“YOUR_TWILIO_ACCOUNT_SID", “YOUR_TWILIO_AUTH_TOKEN"); // replace this
        Account mainAccount = client.getAccount();

        post("/sms", (req, res) -&gt; {
            String ngrokUrl = "http://YOUR_NGROK_URL"; // replace this
            String body = req.queryParams("Body");
            String to = req.queryParams("From");
            String from = "YOUR_TWILIO_PHONE_NUMBER"; // replace this

            String uri = ngrokUrl + "/call?q=" + URLEncoder.encode(body, "UTF-8");

            CallFactory callFactory = mainAccount.getCallFactory();
            Map&lt;String, String&gt; callParams = new HashMap&lt;String, String&gt;();
            callParams.put("To", to);
            callParams.put("From", from);
            callParams.put("Url", uri);
            callParams.put("Method", "GET");
            callFactory.create(callParams);

            TwiMLResponse twiml = new TwiMLResponse();
            twiml.append(new Message("Your tune is on the way!"));

            res.type("text/xml");
            return twiml.toXML();
        });</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c6734871494112-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-2">2</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-4">4</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-6">6</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-8">8</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-10">10</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-12">12</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-14">14</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-16">16</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-18">18</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-20">20</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-22">22</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6734871494112-24">24</div><div class="crayon-num" data-line="crayon-58794da8c6734871494112-25">25</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c6734871494112-1"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-e">TwilioRestClient </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TwilioRestClient</span><span class="crayon-sy">(</span>“<span class="crayon-i">YOUR_TWILIO_ACCOUNT_SID</span><span class="crayon-s">", “YOUR_TWILIO_AUTH_TOKEN"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// replace this</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-2"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">Account </span><span class="crayon-v">mainAccount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">getAccount</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-4"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">"/sms"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-5"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">ngrokUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"http://YOUR_NGROK_URL"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// replace this</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-6"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">queryParams</span><span class="crayon-sy">(</span><span class="crayon-s">"Body"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-7"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">queryParams</span><span class="crayon-sy">(</span><span class="crayon-s">"From"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-8"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">from</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"YOUR_TWILIO_PHONE_NUMBER"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// replace this</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-10"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-i">ngrokUrl</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/call?q="</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">URLEncoder</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"UTF-8"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-12"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">CallFactory </span><span class="crayon-v">callFactory</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mainAccount</span><span class="crayon-sy">.</span><span class="crayon-e">getCallFactory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-13"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">Map</span><span class="crayon-o">&lt;</span><span class="crayon-t">String</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-i">HashMap</span><span class="crayon-o">&lt;</span><span class="crayon-t">String</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-14"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"To"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-15"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"From"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-16"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"Url"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-17"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"Method"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"GET"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-18"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callFactory</span><span class="crayon-sy">.</span><span class="crayon-e">create</span><span class="crayon-sy">(</span><span class="crayon-i">callParams</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-20"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse </span><span class="crayon-v">twiml</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-21"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Message</span><span class="crayon-sy">(</span><span class="crayon-s">"Your tune is on the way!"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-22">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c6734871494112-23"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">type</span><span class="crayon-sy">(</span><span class="crayon-s">"text/xml"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6734871494112-24"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">toXML</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6734871494112-25"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0251 seconds] -->
<p>When a new SMS comes into our phone number Twilio will send us a POST request with information about it. We create a URL to the next route we’re going to write, adding the name of the song we’re looking for to the query string. We then use the Twilio-Java SDK to create a phone call with that URL as instructions on what to do when the user answers. We also respond with some <a href="https://www.twilio.com/docs/api/twiml" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/api/twiml', 'TwiML');">TwiML</a> to tell Twilio to send an SMS back to the user using the <a href="https://www.twilio.com/docs/api/twiml/sms/message" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/api/twiml/sms/message', '&lt;Message&gt;');">&lt;Message&gt;</a> verb.</p>
<p>Finally, add the following route below the one we just wrote.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c6742593974300" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
get("/call", (req, res) -&gt; {
    TwiMLResponse twiml = new TwiMLResponse();

    String query = req.queryParams("q");
    String trackUrl = getTrackUrl(query);

    if (trackUrl != null) {
        twiml.append(new Play(trackUrl));
    } else {
        twiml.append(new Say("Sorry, song not found."));
    }

    res.type("text/xml");
    return twiml.toXML();
});</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c6742593974300-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6742593974300-2">2</div><div class="crayon-num" data-line="crayon-58794da8c6742593974300-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6742593974300-4">4</div><div class="crayon-num" data-line="crayon-58794da8c6742593974300-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6742593974300-6">6</div><div class="crayon-num" data-line="crayon-58794da8c6742593974300-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6742593974300-8">8</div><div class="crayon-num" data-line="crayon-58794da8c6742593974300-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6742593974300-10">10</div><div class="crayon-num" data-line="crayon-58794da8c6742593974300-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6742593974300-12">12</div><div class="crayon-num" data-line="crayon-58794da8c6742593974300-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c6742593974300-14">14</div><div class="crayon-num" data-line="crayon-58794da8c6742593974300-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c6742593974300-1"><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">"/call"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6742593974300-2"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse </span><span class="crayon-v">twiml</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6742593974300-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6742593974300-4"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">query</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">queryParams</span><span class="crayon-sy">(</span><span class="crayon-s">"q"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6742593974300-5"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">trackUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getTrackUrl</span><span class="crayon-sy">(</span><span class="crayon-i">query</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6742593974300-6">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c6742593974300-7"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">trackUrl</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6742593974300-8"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Play</span><span class="crayon-sy">(</span><span class="crayon-i">trackUrl</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6742593974300-9"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6742593974300-10"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Say</span><span class="crayon-sy">(</span><span class="crayon-s">"Sorry, song not found."</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6742593974300-11"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6742593974300-12">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c6742593974300-13"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">type</span><span class="crayon-sy">(</span><span class="crayon-s">"text/xml"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c6742593974300-14"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">toXML</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c6742593974300-15"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0086 seconds] -->
<p>This endpoint responds with some TwiML to tell Twilio how to handle the phone call we just placed. It pulls the track name out of the URL and calls our <code>getTrackUrl</code> method with it. It then either adds a <a href="https://www.twilio.com/docs/api/twiml/play" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/api/twiml/play', '&lt;Play&gt;');">&lt;Play&gt;</a> instruction with that URL or a <a href="https://www.twilio.com/docs/api/twiml/say" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/api/twiml/say', '&lt;Say&gt;');">&lt;Say&gt;</a> instruction with a message.</p>
<p>Our completed code (with imports) should look like the following.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

		<div id="crayon-58794da8c674d234746620" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover expand" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 16px !important; line-height: 24px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 16px !important; line-height: 24px !important;">
import com.mashape.unirest.http.HttpResponse;
import com.mashape.unirest.http.JsonNode;
import com.mashape.unirest.http.Unirest;

import com.twilio.sdk.TwilioRestClient;
import com.twilio.sdk.resource.factory.CallFactory;
import com.twilio.sdk.resource.instance.Account;
import com.twilio.sdk.verbs.*;

import java.net.URLEncoder;
import java.util.HashMap;
import java.util.Map;

import static spark.Spark.*;

public class HelloSpark {

    public static void main(String[] args) {

        get("/", (req, res) -&gt; "Hello, World!");

        TwilioRestClient client = new TwilioRestClient("YOU_TWILIO_ACCOUNT_SID", "YOUR_TWILIO_AUTH_TOKEN");
        Account mainAccount = client.getAccount();

        post("/sms", (req, res) -&gt; {
            String ngrokUrl = "http://YOUR_NGROK_URL";
            String body = req.queryParams("Body");
            String to = req.queryParams("From");
            String from = "YOUR_TWILIO_PHONE_NUMBER";

            String uri = ngrokUrl + "/call?q=" + URLEncoder.encode(body, "UTF-8");

            CallFactory callFactory = mainAccount.getCallFactory();
            Map&lt;String, String&gt; callParams = new HashMap&lt;&gt;();
            callParams.put("To", to);
            callParams.put("From", from);
            callParams.put("Url", uri);
            callParams.put("Method", "GET");
            callFactory.create(callParams);

            TwiMLResponse twiml = new TwiMLResponse();
            twiml.append(new Message("Your tunes are on the way!"));

            res.type("text/xml");
            return twiml.toXML();
        });

        get("/call", (req, res) -&gt; {
            TwiMLResponse twiml = new TwiMLResponse();

            String query = req.queryParams("q");
            String trackUrl = getTrackUrl(query);

            if (trackUrl != null) {
                twiml.append(new Play(trackUrl));
            } else {
                twiml.append(new Say("Sorry, song not found."));
            }

            res.type("text/xml");
            return twiml.toXML();
        });
    }

    private static String getTrackUrl(String query) {
        String url = "http://api.spotify.com/v1/search";
        HttpResponse&lt;JsonNode&gt; jsonResponse;
        try {
            jsonResponse = Unirest.get(url)
                    .header("accept", "application/json")
                    .queryString("q", query)
                    .queryString("type", "track")
                    .asJson();
            return jsonResponse.getBody().getObject().getJSONObject("tracks")
                    .getJSONArray("items").getJSONObject(0).getString("preview_url");
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-num" data-line="crayon-58794da8c674d234746620-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-2">2</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-4">4</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-6">6</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-8">8</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-10">10</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-12">12</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-14">14</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-16">16</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-18">18</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-20">20</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-22">22</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-24">24</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-26">26</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-28">28</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-30">30</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-32">32</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-34">34</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-36">36</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-38">38</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-40">40</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-42">42</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-44">44</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-46">46</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-48">48</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-50">50</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-52">52</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-54">54</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-56">56</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-58">58</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-60">60</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-62">62</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-64">64</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-66">66</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-68">68</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-70">70</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-72">72</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-74">74</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-76">76</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-78">78</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-58794da8c674d234746620-80">80</div><div class="crayon-num" data-line="crayon-58794da8c674d234746620-81">81</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 24px !important;"><div class="crayon-line" id="crayon-58794da8c674d234746620-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">mashape</span><span class="crayon-sy">.</span><span class="crayon-v">unirest</span><span class="crayon-sy">.</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-i">HttpResponse</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">mashape</span><span class="crayon-sy">.</span><span class="crayon-v">unirest</span><span class="crayon-sy">.</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-i">JsonNode</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-3"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">mashape</span><span class="crayon-sy">.</span><span class="crayon-v">unirest</span><span class="crayon-sy">.</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-i">Unirest</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-4">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c674d234746620-5"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">twilio</span><span class="crayon-sy">.</span><span class="crayon-v">sdk</span><span class="crayon-sy">.</span><span class="crayon-i">TwilioRestClient</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-6"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">twilio</span><span class="crayon-sy">.</span><span class="crayon-v">sdk</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">.</span><span class="crayon-v">factory</span><span class="crayon-sy">.</span><span class="crayon-i">CallFactory</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-7"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">twilio</span><span class="crayon-sy">.</span><span class="crayon-v">sdk</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">.</span><span class="crayon-v">instance</span><span class="crayon-sy">.</span><span class="crayon-i">Account</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-8"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">twilio</span><span class="crayon-sy">.</span><span class="crayon-v">sdk</span><span class="crayon-sy">.</span><span class="crayon-v">verbs</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-10"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-i">URLEncoder</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-11"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-i">HashMap</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-12"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-i">Map</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-14"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-v">spark</span><span class="crayon-sy">.</span><span class="crayon-v">Spark</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-16"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloSpark</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-18"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-20"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">"/"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-s">"Hello, World!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-22"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">TwilioRestClient </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TwilioRestClient</span><span class="crayon-sy">(</span><span class="crayon-s">"YOU_TWILIO_ACCOUNT_SID"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"YOUR_TWILIO_AUTH_TOKEN"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-23"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">Account </span><span class="crayon-v">mainAccount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">getAccount</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-24">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c674d234746620-25"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">"/sms"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-26"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">ngrokUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"http://YOUR_NGROK_URL"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-27"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">queryParams</span><span class="crayon-sy">(</span><span class="crayon-s">"Body"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-28"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">queryParams</span><span class="crayon-sy">(</span><span class="crayon-s">"From"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-29"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">from</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"YOUR_TWILIO_PHONE_NUMBER"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-30">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c674d234746620-31"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">ngrokUrl</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/call?q="</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">URLEncoder</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-i">body</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"UTF-8"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-32">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c674d234746620-33"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">CallFactory </span><span class="crayon-v">callFactory</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mainAccount</span><span class="crayon-sy">.</span><span class="crayon-e">getCallFactory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-34"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">Map</span><span class="crayon-o">&lt;</span><span class="crayon-t">String</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-i">HashMap</span><span class="crayon-o">&lt;&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-35"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"To"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-36"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"From"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-37"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"Url"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-38"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callParams</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">"Method"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"GET"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-39"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">callFactory</span><span class="crayon-sy">.</span><span class="crayon-e">create</span><span class="crayon-sy">(</span><span class="crayon-i">callParams</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-40">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c674d234746620-41"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse </span><span class="crayon-v">twiml</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-42"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Message</span><span class="crayon-sy">(</span><span class="crayon-s">"Your tunes are on the way!"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-44"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">type</span><span class="crayon-sy">(</span><span class="crayon-s">"text/xml"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-45"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">toXML</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-46"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-48"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">"/call"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-49"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse </span><span class="crayon-v">twiml</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TwiMLResponse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-50">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c674d234746620-51"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">query</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">queryParams</span><span class="crayon-sy">(</span><span class="crayon-s">"q"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-52"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">trackUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getTrackUrl</span><span class="crayon-sy">(</span><span class="crayon-i">query</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-54"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">trackUrl</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-55"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Play</span><span class="crayon-sy">(</span><span class="crayon-i">trackUrl</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-56"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-57"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Say</span><span class="crayon-sy">(</span><span class="crayon-s">"Sorry, song not found."</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-58"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-60"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">type</span><span class="crayon-sy">(</span><span class="crayon-s">"text/xml"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-61"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">toXML</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-62"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-63"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-64">&nbsp;</div><div class="crayon-line" id="crayon-58794da8c674d234746620-65"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">getTrackUrl</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-i">query</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-66"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"http://api.spotify.com/v1/search"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-67"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-i">HttpResponse</span><span class="crayon-e ">&lt;JsonNode&gt;</span><span class="crayon-h"> </span><span class="crayon-i">jsonResponse</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-68"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-69"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">jsonResponse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Unirest</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-i">url</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-70"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">"accept"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"application/json"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-71"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">queryString</span><span class="crayon-sy">(</span><span class="crayon-s">"q"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">query</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-72"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">queryString</span><span class="crayon-sy">(</span><span class="crayon-s">"type"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"track"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-73"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">asJson</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-74"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">jsonResponse</span><span class="crayon-sy">.</span><span class="crayon-e">getBody</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getObject</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getJSONObject</span><span class="crayon-sy">(</span><span class="crayon-s">"tracks"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-75"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">getJSONArray</span><span class="crayon-sy">(</span><span class="crayon-s">"items"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getJSONObject</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getString</span><span class="crayon-sy">(</span><span class="crayon-s">"preview_url"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-76"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-77"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-78"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-79"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58794da8c674d234746620-80"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-58794da8c674d234746620-81"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0519 seconds] -->
<p>Run the class or build the uber-jar and run it. If all goes well, you should be able to text your Twilio phone number a song name and receive a call shortly after with some groovy bumpin’ jams.</p>
<p><img class="&quot; aligncenter" style="width: 312.00px; height: 205.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="" src="https://www.twilio.com/blog/wp-content/uploads/2015/09/1yvDF0yfeUga_YGCBaphjCRJX571gBa_maNvU71SPXDDo__q4Jq5Fb1WASh04S-3urKY7gKzly_1OTl6ui-B4gaVR-qEgOjLcLui7rsLyTR_cxpL0orzqf_5ig-2MtA7LWmahA2.png" alt="COy6hhf.gif" /></p>
<p>CONGRATS! You have made a complete web app using the Spark Framework, Twilio, and Spotify. Thanks to great libraries like Spark and Unirest, our code is nearly as terse as similar apps written in Ruby or Python. Gradle made is super easy to download the dependencies and compile everything. The config file isn’t scary and can be reused for future projects. Remember that our uber-jar contains everything required to run our app, making it super easy to deploy just about anywhere. Hopefully you’ll consider using Java for your next project after building this totally <em>tuneular</em> web app.</p>
			</div>
					</div>
	</div><!-- .entry-content -->

	<footer class="entry-footer col-md-12">
		<div class="entry-meta">
					<div class="social-buttons">
			<div class="fb-like" data-href="https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="twilio" data-count="none" data-url="https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html" data-text="Getting Started with Gradle and the Spark Framework ">Tweet</a>
      <a href="https://twitter.com/twilio" class="twitter-follow-button" data-show-count="false">Follow @twilio</a>
		</div>
<span class="author-avatar"><img alt='' src='https://secure.gravatar.com/avatar/a804cc0d352d0c61f2ebf320429e8c97?s=20&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/a804cc0d352d0c61f2ebf320429e8c97?s=40&amp;d=mm&amp;r=g 2x' class='avatar avatar-20 photo' height='20' width='20' /></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://www.twilio.com/blog/author/eddiez">Eddie Zaneski</a></span></span> <span class="author-meta author-email"><a href="mailto:ezaneski@twilio.com">ezaneski@twilio.com</a></span><span class="author-meta author-twitter"><a href="http://twitter.com/eddiezane">@eddiezane<a/></span>		</div>
	</footer><!-- .entry-footer -->

   <div class="build-more"><h3>Build More With Java</h3>        <a href="https://www.twilio.com/docs/tutorials/walkthrough/server-notifications/java/spark" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/docs/tutorials/walkthrough/server-notifications/java/spark', '');">
          <h5>SMS and MMS Notifications with Java</h5>
        </a>
              <a href="https://www.twilio.com/blog/2015/08/how-to-warm-transfer-a-call-with-java-and-twilio-voice.html" rel="bookmark" title="Permanent Link to How to Warm Transfer a Call with Java and Twilio Voice" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/blog/2015/08/how-to-warm-transfer-a-call-with-java-and-twilio-voice.html', '');">
          <h5>How to Warm Transfer a Call with Java and Twilio Voice<h4>
        </a>
                <a href="https://www.twilio.com/blog/2015/10/create-a-standalone-voicemail-using-java-and-twilio.html" rel="bookmark" title="Permanent Link to Create a Standalone Voicemail Using Java and Twilio" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/blog/2015/10/create-a-standalone-voicemail-using-java-and-twilio.html', '');">
          <h5>Create a Standalone Voicemail Using Java and Twilio<h4>
        </a>
                <a href="https://www.twilio.com/blog/2015/11/getting-started-with-spring-mvc-and-twilio.html" rel="bookmark" title="Permanent Link to Getting started with Spring MVC and Twilio" onclick="__gaTracker('send', 'event', 'buildmore-widget', 'https://www.twilio.com/blog/2015/11/getting-started-with-spring-mvc-and-twilio.html', '');">
          <h5>Getting started with Spring MVC and Twilio<h4>
        </a>
        </div>
</article><!-- #post-## -->

			
<div id="disqus_thread">
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html';
    var disqus_identifier = 'https://www.twilio.com/blog/2015/09/15896 http://twilioinc.wpengine.com/?p=15896';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'twilioblog';
    var disqus_title = "Getting Started with Gradle and the Spark Framework";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html?cf_action=sync_comments&amp;post_id=15896';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "https:\/\/www.twilio.com\/blog\/2015\/09\/getting-started-with-gradle-and-the-spark-framework-3.html\/trackback"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		
		</main><!-- #main -->
	</div><!-- #primary -->


<div id="secondary" class="widget-area col-md-3 hide-xs" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://www.twilio.com/blog/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside><aside id="text-2" class="widget widget_text">			<div class="textwidget"><p>Power modern communications. Build the next generation of voice and SMS applications.</p>

 <a href="http://twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://twilio.com/try-twilio', 'Start Building For Free');" class="btn">Start Building For Free</a></div>
		</aside><style scoped type="text/css">.utcw-8ngloje {word-wrap:break-word}.utcw-8ngloje span,.utcw-8ngloje a{border-style:solid;border-width:1px}.utcw-8ngloje span:hover,.utcw-8ngloje a:hover{border-style:solid;border-width:1px}</style><aside id="utcw-2" class="widget widget_utcw widget_tag_cloud"><h1 class="widget-title">Posts By Stack</h1><div class="utcw-8ngloje tagcloud"><a class="tag-link-22 utcw-tag utcw-tag-net" href="https://www.twilio.com/blog/tag/net" style="font-size:16px" title="40 topics">.NET</a> <a class="tag-link-98 utcw-tag utcw-tag-arduino" href="https://www.twilio.com/blog/tag/arduino" style="font-size:16px" title="21 topics">Arduino</a> <a class="tag-link-598 utcw-tag utcw-tag-java" href="https://www.twilio.com/blog/tag/java" style="font-size:16px" title="14 topics">Java</a> <a class="tag-link-600 utcw-tag utcw-tag-javascript" href="https://www.twilio.com/blog/tag/javascript" style="font-size:16px" title="86 topics">JavaScript</a> <a class="tag-link-847 utcw-tag utcw-tag-php" href="https://www.twilio.com/blog/tag/php" style="font-size:16px" title="57 topics">PHP</a> <a class="tag-link-891 utcw-tag utcw-tag-python" href="https://www.twilio.com/blog/tag/python" style="font-size:16px" title="72 topics">Python</a> <a class="tag-link-969 utcw-tag utcw-tag-ruby" href="https://www.twilio.com/blog/tag/ruby" style="font-size:16px" title="69 topics">Ruby</a> <a class="tag-link-2856 utcw-tag utcw-tag-swift" href="https://www.twilio.com/blog/tag/swift" style="font-size:16px" title="22 topics">Swift</a></div></aside><style scoped type="text/css">.utcw-5dkhj5o {word-wrap:break-word}.utcw-5dkhj5o span,.utcw-5dkhj5o a{border-style:solid;border-width:1px}.utcw-5dkhj5o span:hover,.utcw-5dkhj5o a:hover{border-style:solid;border-width:1px}</style><aside id="utcw-3" class="widget widget_utcw widget_tag_cloud"><h1 class="widget-title">Posts By Product</h1><div class="utcw-5dkhj5o tagcloud"><a class="tag-link-2043 utcw-tag utcw-tag-mms" href="https://www.twilio.com/blog/tag/mms" style="font-size:16px" title="50 topics">MMS</a> <a class="tag-link-3513 utcw-tag utcw-tag-programmable-chat" href="https://www.twilio.com/blog/tag/programmable-chat" style="font-size:16px" title="9 topics">Programmable Chat</a> <a class="tag-link-1537 utcw-tag utcw-tag-sip" href="https://www.twilio.com/blog/tag/sip" style="font-size:16px" title="15 topics">SIP</a> <a class="tag-link-1031 utcw-tag utcw-tag-sms" href="https://www.twilio.com/blog/tag/sms" style="font-size:16px" title="372 topics">SMS</a> <a class="tag-link-2871 utcw-tag utcw-tag-taskrouter" href="https://www.twilio.com/blog/tag/taskrouter" style="font-size:16px" title="8 topics">Task Router</a> <a class="tag-link-1199 utcw-tag utcw-tag-twilio-client" href="https://www.twilio.com/blog/tag/twilio-client" style="font-size:16px" title="32 topics">Twilio Client</a> <a class="tag-link-3032 utcw-tag utcw-tag-twilio-video" href="https://www.twilio.com/blog/tag/twilio-video" style="font-size:16px" title="9 topics">Twilio Video</a> <a class="tag-link-1277 utcw-tag utcw-tag-voice" href="https://www.twilio.com/blog/tag/voice" style="font-size:16px" title="172 topics">Voice</a></div></aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><a href="http://www.twilio.com/docs/tutorials" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/docs/tutorials', '');"><img src="https://www.twilio.com/blog/wp-content/uploads/2016/07/tutorials.png" style="width: 255px" /></a></div>
		</aside><aside id="categories-3" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-13"><a href="https://www.twilio.com/blog/all-things-code" >Code, Tutorials and Hacks</a>
</li>
	<li class="cat-item cat-item-5"><a href="https://www.twilio.com/blog/customer-highlights" >Customer Highlights</a>
</li>
	<li class="cat-item cat-item-7"><a href="https://www.twilio.com/blog/developers-drawing-the-owl" >Developers Drawing The Owl</a>
</li>
	<li class="cat-item cat-item-3"><a href="https://www.twilio.com/blog/news" >News</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://www.twilio.com/blog/stories-from-the-road" >Stories From The Road</a>
</li>
	<li class="cat-item cat-item-8"><a href="https://www.twilio.com/blog/inside-twilio" >The Owl’s Nest: Inside Twilio</a>
</li>
		</ul>
</aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"><div class="tagcloud "><a href="http://www.twilio.com/blog/feed" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.twilio.com/blog/feed', 'RSS Feed');">RSS Feed</a></div></div>
		</aside></div><!-- #secondary -->

		</div><!-- .row -->
	</div><!-- #content.container -->

<div class="" id="footer">
	<div class="container">
		<header>
			<div class="banner"></div>
			<div class="border"></div>
			<div class="stitching"></div>
		</header>
    <div class="row sitemap">
      <div class="row">
        <div class="col-md-2 col-md-offset-1">
          <h4><a href="http://www.twilio.com/company">Company</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/company">About Twilio</a></li>
            <li><a href="http://www.twilio.com/company/nine-values">Our Nine Values</a></li>
            <li><a href="http://www.twilio.com/company/leadership-principles">Our Leadership Principles</a></li>
            <li><a href="http://www.twilio.com/company/management">The Team</a></li>
            <li><a href="http://www.twilio.com/press">Press &amp; Media</a></li>
            <li><a href="http://www.twilio.org/">Twilio.org</a></li>
            <li><a href="http://www.twilio.com/company/jobs">Careers</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4><a href="http://www.twilio.com/products">Products</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/voice">Voice</a></li>
            <li><a href="http://www.twilio.com/video">Video</a></li>
            <li><a href="http://www.twilio.com/sms">SMS (Text Messaging)</a></li>
            <li><a href="http://www.twilio.com/mms">MMS (Picture Messaging)</a></li>
            <li><a href="http://www.twilio.com/sms/toll-free">Toll-Free SMS</a></li>
            <li><a href="http://www.twilio.com/sip-trunking">SIP Trunking</a></li>
            <li><a href="http://www.twilio.com/client/mobile">Client Mobile</a></li>
            <li><a href="http://www.twilio.com/webrtc">Client WebRTC</a></li>
            <li><a href="http://www.twilio.com/stun-turn">Network Traversal Service</a></li>
            <li><a href="http://www.twilio.com/taskrouter">TaskRouter</a></li>
            <li><a href="http://www.twilio.com/sms/phone-numbers">Phone Numbers</a></li>
            <li><a href="http://www.twilio.com/sms/shortcodes">Short Codes</a></li>
            <li><a href="http://www.twilio.com/support-plans">Support Plans</a></li>
            <li><a href="http://www.twilio.com/platform">Platform</a></li>
            <li><a href="http://www.twilio.com/lookup">Lookup</a></li>
            <li><a href="http://www.twilio.com/monitor">Monitor</a></li>
            <li><a href="http://www.twilio.com/copilot">Messaging Copilot</a></li>
            <li><a href="http://www.twilio.com/voice/conference">Global Conference</a></li>
            <li><a href="http://www.twilio.com/authy">Authy</a></li>
          </ul>
      </div>
      <div class="col-md-2">
        <h4><a href="http://www.twilio.com/pricing">Pricing</a></h4>
        <ul>
          <li><a href="http://www.twilio.com/voice/pricing">Voice Pricing</a></li>
          <li><a href="http://www.twilio.com/sms/pricing">Messaging Pricing</a></li>
          <li><a href="http://www.twilio.com/sip-trunking/pricing">SIP Trunking Pricing</a></li>
          <li><a href="http://www.twilio.com/client/pricing">Client Pricing</a></li>
          <li><a href="http://www.twilio.com/stun-turn/pricing">Network Traversal Pricing</a></li>
          <li><a href="http://www.twilio.com/taskrouter/pricing">TaskRouter</a></li>
          <li><a href="http://www.twilio.com/lookup#pricing">Lookup</a></li>
          <li><a href="http://www.twilio.com/international">International Coverage</a></li>
        </ul>
      </div>
      <div class="col-md-2">
          <h4><a href="http://www.twilio.com/use-cases">Use Cases</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/customers">Customer Stories</a></li>
            <li><a href="http://www.twilio.com/showcase">Showcase</a></li>
            <li><a href="http://www.twilio.com/use-cases/two-factor-authentication">Two-Factor Authentication</a></li>
            <li><a href="http://www.twilio.com/use-cases/appointment-reminders">Appointment Reminders</a></li>
            <li><a href="http://www.twilio.com/use-cases/dispatch-notifications">Dispatch Notifications</a></li>
            <li><a href="http://www.twilio.com/use-cases/eta-alerts">ETA Alerts</a></li>
            <li><a href="http://www.twilio.com/use-cases/automated-surveys">Automated Surveys</a></li>
            <li><a href="http://www.twilio.com/use-cases/masked-phone-numbers">Masked Phone Numbers</a></li>
            <li><a href="http://www.twilio.com/use-cases/visual-estimates">Visual Estimates</a></li>
            <li><a href="http://www.twilio.com/doers">Developer Network</a></li>
            <li><a href="http://www.twilio.com/webinars">Webinars</a></li>
            <li><a href="http://www.twilio.com/white-papers">White Papers</a></li>
          </ul>
      </div>
      <div class="col-md-2">
          <h4><a href="http://www.twilio.com/api">Api &amp; Docs</a></h4>
          <ul>
            <li><a href="http://www.twilio.com/docs/api">API Documentation</a></li>
            <li><a href="http://www.twilio.com/docs/quickstart">Quickstarts</a></li>
            <li><a href="http://www.twilio.com/docs/howto">How Tos</a></li>
            <li><a href="http://www.twilio.com/docs/libraries">Helper Libraries</a></li>
            <li><a href="http://www.twilio.com/docs/security">Security</a></li>
          </ul>
      </div>
    </div>
		<div class="row clear">
			<footer><span>&copy; 2017 Twilio. All rights reserved. <aside>|</aside><a href="http://www.twilio.com/legal/tos">Terms of Service</a><aside>|</aside><a href="http://www.twilio.com/legal/privacy">Privacy Policy</a></span>
			</footer>
		</div>
	</div>
</div>


</div><!-- #page -->

<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201702'></script>







<script type="text/javascript" defer src="https://www.twilio.com/blog/wp-content/cache/autoptimize/js/autoptimize_30cf8936a215677503cd64ef48677239.js"></script></body>

<!-- Mirrored from www.twilio.com/blog/2015/09/getting-started-with-gradle-and-the-spark-framework-3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 22:09:59 GMT -->
</html>
