<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from stripe.com/docs/upgrades by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:44:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
    <meta charset="utf-8">
    <meta name="google-site-verification" content="f0LCrdI6z4Fo8zld4sHCgo5SiUE4EYYRUa6KVeX3Mw8" />
    <meta name="csrf-token" content="JdgPkoZHDXpScmkyv7krhD-FrN-JN24337tSGfvmLt68QhvvgILJP582TS1zsR7_FvsiWNWbr5eeDlgxXjHkrw==">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>API Upgrades</title>

    <meta name="description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="apple-touch-icon-precomposed" href="../img/apple-touch-icon/180x180.png">
    <link rel="icon" href="../img/apple-touch-icon/180x180.png">


    <link rel="image_src" type="image/png" href="../img/v3/home/social.png">

    <meta property="og:title" content="API Upgrades">
    <meta property="og:url" content="upgrades.html">
    <meta property="og:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">
    <meta property="og:image" content="../img/v3/home/social.png">

      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="../img/v3/home/twitter.png">
    <meta name="twitter:site" content="@stripe">
    <meta name="twitter:title" content="API Upgrades">
    <meta name="twitter:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <script type="application/json" id="strut_files">{&quot;v3/shared/navigation_ie10.css&quot;:&quot;/assets/v3/shared/navigation_ie10-ec238f46e7cb9867e3c1b529e2cfa37b.css&quot;}</script>

    

    

    <link rel="stylesheet" href="../assets/v3/default-ef2bff54073622b9e08cf24466b5668f.css">
    <link rel="stylesheet" href="../assets/v3/shared/common-d0fb03fa2d48fcf29010779ca9a12b2c.css">
    <link rel="stylesheet" href="../assets/v3/documentation/base-47c1fd7d3d670e4e08df8f5a67b20dea.css">
    <link rel="stylesheet" href="../assets/v3/shared/prism_light-6d08c6ec0d72453693d775c3b96629c0.css">
    
    
    <meta name="viewport" content="width=1060">
    <meta name="robots" content="noarchive">
  </head>
  <body class="">
    
    <div id="docs">
      <div id="sidebar">
        <div class="logo">
          <a class="site" href="../index.html" title="Stripe"></a>
          <a class="extension" href="../docs.html">docs</a>
        </div>
        <div class="nav-border"></div>
        <nav>
          <h1 class="home"><a href="../docs.html">Home</a></h1>
          <h1 class="payments"><a class="toggle-content">Payments</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="quickstart.html">Quickstart</a>
    </li>
    <li class="category">Collecting payment details
    </li>
    <li>
      <a href="checkout/tutorial.html">Checkout</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="checkout.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="custom-form.html">Stripe.js</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="stripe.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="mobile/ios.html">iOS</a>
    </li>
    <li>
      <a href="mobile/android.html">Android</a>
    </li>
    <li class="category">Charges
    </li>
    <li>
      <a href="charges.html">Creating Charges</a>
    </li>
    <li>
      <a href="declines.html">Declines &amp; Failed Payments</a>
    </li>
    <li>
      <a href="disputes.html">Disputes</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="disputes/evidence.html">Submitting Evidence</a>
    </li>
    <li>
      <a href="disputes/types.html">Types</a>
    </li>
    <li>
      <a href="disputes/faq.html">FAQ</a>
    </li>
</ul>

    </li>
    <li class="category">Products &amp; Orders
    </li>
    <li>
      <a href="orders.html">Orders</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="orders/guide.html">Guide</a>
    </li>
</ul>

    </li>
    <li>
      <a href="orders/tax-integration.html">Tax Integrations</a>
    </li>
    <li>
      <a href="orders/shipping-integration.html">Shipping Integrations</a>
    </li>
    <li>
      <a href="sources.html">Getting Started</a>
    </li>
    <li>
      <a href="sources/payment-methods.html">Payment Methods</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="sources/cards.html">Cards</a>
    </li>
    <li>
      <a href="sources/3d-secure.html">3D Secure</a>
    </li>
    <li>
      <a href="sources/bancontact.html">Bancontact</a>
    </li>
    <li>
      <a href="sources/giropay.html">Giropay</a>
    </li>
    <li>
      <a href="sources/ideal.html">iDEAL</a>
    </li>
    <li>
      <a href="sources/sepa-direct-debit.html">SEPA Direct Debit</a>
    </li>
    <li>
      <a href="sources/sofort.html">Sofort</a>
    </li>
</ul>

    </li>
    <li class="category">Other Payment Methods
    </li>
    <li>
      <a href="ach.html">ACH</a>
    </li>
    <li>
      <a href="apple-pay.html">Apple Pay</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="apple-pay/apps.html">Apple Pay in Apps</a>
    </li>
    <li>
      <a href="apple-pay/web.html">Apple Pay on the Web</a>
    </li>
</ul>

    </li>
    <li>
      <a href="alipay.html">Alipay</a>
    </li>
    <li>
      <a href="bitcoin.html">Bitcoin</a>
    </li>
    <li class='separator'>
      <a href="testing.html">Testing</a>
    </li>
</ul>

          <h1 class="subscriptions"><a class="toggle-content">Subscriptions</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="subscriptions/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="subscriptions/creating.html">Creating Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="subscriptions/discounts.html">Applying Discounts</a>
    </li>
    <li>
      <a href="subscriptions/trials.html">Using Trial Periods</a>
    </li>
    <li>
      <a href="subscriptions/quantities.html">Setting Quantities</a>
    </li>
    <li>
      <a href="subscriptions/taxes.html">Adding Taxes</a>
    </li>
    <li>
      <a href="subscriptions/multiple.html">Multiple Subscriptions</a>
    </li>
</ul>

    </li>
    <li>
      <a href="subscriptions/lifecycle.html">Lifecycle &amp; Events</a>
    </li>
    <li>
      <a href="subscriptions/webhooks.html">Using Webhooks</a>
    </li>
    <li>
      <a href="subscriptions/changing.html">Changing Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="subscriptions/upgrading-downgrading.html">Upgrading &amp; Downgrading</a>
    </li>
    <li>
      <a href="subscriptions/billing-cycle.html">Billing Cycle</a>
    </li>
    <li>
      <a href="subscriptions/canceling-pausing.html">Canceling &amp; Pausing</a>
    </li>
</ul>

    </li>
    <li>
      <a href="subscriptions/invoices.html">Working with Invoices</a>
      <ul data-collapsable=false>
</ul>

    </li>
    <li>
      <a href="subscriptions/plans.html">Managing Plans</a>
    </li>
    <li>
      <a href="subscriptions/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="connect"><a class="toggle-content">Connect</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="connect.html">Overview</a>
    </li>
    <li>
      <a href="connect/connecting-to-accounts.html">Connecting to Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/authentication.html">Authentication</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/standalone-accounts.html">Standalone Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/reference.html">OAuth Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/managed-accounts.html">Managed Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/updating-accounts.html">Updating Accounts</a>
    </li>
    <li>
      <a href="connect/identity-verification.html">Identity Verification</a>
    </li>
    <li>
      <a href="connect/required-verification-information.html">Verification Fields</a>
    </li>
    <li>
      <a href="connect/testing-verification.html">Testing Verification</a>
    </li>
    <li>
      <a href="connect/bank-transfers.html">Bank Transfers</a>
    </li>
    <li>
      <a href="connect/migrating.html">Migrating Recipients</a>
    </li>
    <li>
      <a href="connect/best-practices.html">Best Practices</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/payments-fees.html">Payments and Fees</a>
    </li>
    <li>
      <a href="connect/special-case-transfers.html">Special-case Transfers</a>
    </li>
    <li class='separator'>
      <a href="connect/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="relay"><a class="toggle-content">Relay</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="relay.html">Selling in Other Apps</a>
    </li>
    <li>
      <a href="relay/apps-guide.html">Accepting Orders in Your App</a>
      <ul data-collapsable=false>
    <li>
      <a href="relay/apps-error-guide.html">Error Handling</a>
    </li>
</ul>

    </li>
</ul>

          <h1 class="radar"><a class="toggle-content">Radar</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="radar.html">Overview</a>
    </li>
    <li>
      <a href="radar/risk-evaluation.html">Risk Evaluation</a>
    </li>
    <li>
      <a href="radar/review.html">Review</a>
      <ul data-collapsable=false>
    <li>
      <a href="radar/review/auth-and-capture.html">Uncaptured Payments</a>
    </li>
</ul>

    </li>
    <li>
      <a href="radar/rules.html">Rules</a>
      <ul data-collapsable=false>
    <li>
      <a href="radar/rules/reference.html">Reference</a>
    </li>
</ul>

    </li>
    <li class='separator'>
      <a href="radar/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="account"><a class="toggle-content">Account</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="dashboard.html">Your Account</a>
    </li>
    <li>
      <a href="checklist.html">Going Live Checklist</a>
    </li>
    <li>
      <a href="transfers.html">Getting Paid</a>
    </li>
    <li>
      <a href="reporting.html">Reporting</a>
    </li>
</ul>

          <h1 class="api"><a class="toggle-content">Development</a></h1>
<ul>
    <li>
      <a href="libraries.html">API Libraries</a>
    </li>
    <li>
      <a class='selected' href="upgrades.html">API Upgrades</a>
    </li>
    <li>
      <a href="webhooks.html">Webhooks</a>
    </li>
    <li>
      <a href="building-integrations.html">Integrations</a>
    </li>
    <li>
      <a href="recipes.html">Recipes</a>
    </li>
    <li>
      <a href="security.html">Security</a>
    </li>
</ul>


          <h1 class="references"><a href="api.html" class="external" target="_blank">API Reference</a></h1>
        </nav>
      </div>
      <div id="content-wrapper" tabindex="0">
        <div class="overlay"></div>
        <header id="main-header">
          <nav>
            <ul class="external">
              <li><a href="https://support.stripe.com/">Support</a></li>

              <li class="button">
                <a data-adroll-segment='submit_two' href="https://dashboard.stripe.com/login">Sign in</a>
              </li>
            </ul>
          </nav>
        </header>
        <article id="content">
          <header>
  <h1>API Upgrades</h1>
  <p>Keep track of changes and upgrades to the Stripe API. If you need help after reading this, check out our answers to <a href="https://support.stripe.com/">common questions</a> or chat live with other developers in <a href="irc://irc.freenode.net/stripe">#stripe</a> on freenode.
</p>
</header>

<section>
<h2 id="what-is-my-api-version">What is my API version?</h2>
<p>Your API version controls the API and webhook behavior you see (e.g. what properties you see in responses, what parameters you’re permitted to send in requests, etc.). Your version gets set the first time you make an API request.  When we change the API in a backwards-incompatible way, we release a new dated version, but to avoid breaking your code, we don’t change your version until you’re ready to upgrade.</p>

<p>If you make requests on behalf of other users using <a href="../connect.html">Connect</a>, we’ll use your application’s API version, making it easy for you to write code that works for all your users no matter what API versions they’re individually running.</p></section>

<section>
<h2 id="what-changes-does-stripe-consider-to-be-backwards-compatible">What changes does Stripe consider to be “backwards-compatible”?</h2>
<ul>
  <li>Adding new API resources.</li>
  <li>Adding new optional request parameters to existing API methods.</li>
  <li>Adding new properties to existing API responses.</li>
  <li>Changing the order of properties in existing API responses.</li>
  <li>Changing the length or format of object IDs or other opaque strings.
<br />This includes adding or removing fixed prefixes (such as <code>ch_</code> on charge IDs).
<br />You can safely assume object IDs we generate will never exceed 255 characters, but you should be able to handle IDs of up to that length. If for example you’re using MySQL, you should store IDs in a <code>VARCHAR(255) COLLATE utf8_bin</code> column (the <code>COLLATE</code> configuration ensures case-sensitivity in lookups).</li>
  <li>Adding new event types.
<br />Your webhook listener should gracefully handle unfamiliar events types.</li>
</ul></section>

<section>
<h2 id="how-can-i-upgrade-my-api">How can I upgrade my API?</h2>

<p>If you’re running an older version, you’ll want to upgrade to take advantage of the latest and greatest API, whether that means new functionality or streamlining the responses so the API’s faster for you. To see what version you’re running and upgrade to the latest, visit <a href="https://dashboard.stripe.com/account/apikeys">your Dashboard</a>.</p>

<p>To test your code under another API version before committing to the change, make use of Stripe’s support for <a href="api.html#versioning">versioning</a>.</p></section>

<section>
<h2 id="api-changelog">API changelog</h2>

<p>Note that this changelog only reflects backwards-incompatible updates, so make sure you’re subscribed to our <a href="https://groups.google.com/a/lists.stripe.com/group/api-discuss/">API updates mailing list</a> to keep up with new features that don’t happen to break existing code.</p>
<h3 id="2016-07-06">2016-07-06</h3>

<ul>
  <li>You can now view canceled subscriptions by specifying <code>status=canceled</code> or <code>status=all</code> when listing subscriptions. In addition, you can now retrieve a canceled subscription by its ID.</li>
</ul><h3 id="2016-06-15">2016-06-15</h3>

<ul>
  <li>When you set the <code>active</code> flag on a product to <code>false</code>, its SKUs will no longer automatically be marked as inactive.</li>
</ul><h3 id="2016-03-07">2016-03-07</h3>

<ul>
  <li>API responses to <code>/v1/accounts</code> endpoints no longer return a <code>currencies_supported</code> property on account objects. Currency information varies based on an account’s country, and this information is still available via the new <code>/v1/country_specs</code> API. For details on the Country Specs API, see <a href="api.html#country_specs">https://stripe.com/docs/api#country_specs</a>.</li>
</ul><h3 id="2016-02-29">2016-02-29</h3>

<ul>
  <li>Add strict checks for postal codes on the account update and account creation endpoints. See <a href="api.html#update_account-legal_entity-address-postal_code">https://stripe.com/docs/api#update_account-legal_entity-address-postal_code</a> for more details.</li>
</ul><h3 id="2016-02-23">2016-02-23</h3>

<ul>
  <li>When an <code>order</code> is changed from <code>paid</code> or <code>fulfilled</code> to <code>canceled</code>, <code>returned</code>, the charge on the order is now automatically refunded. Previously, an attempt to change an order to state <code>canceled</code> or <code>returned</code> would raise an error if the order’s charge had not already been refunded.</li>
</ul><h3 id="2016-02-22">2016-02-22</h3>

<ul>
  <li>An error is now returned when trying to add over 250 invoice items to an invoice.</li>
</ul><h3 id="2016-02-19">2016-02-19</h3>

<ul>
  <li>The <code>name</code> prop on the BankAccount resource is now deprecated. All values that were returned under <code>name</code> will now be returned under <code>account_holder_name</code>.</li>
</ul><h3 id="2016-02-03">2016-02-03</h3>

<ul>
  <li>The <code>legal_entity</code> hash within the Accounts endpoint now only contains properties that are applicable for the account’s <code>country</code>. <code>legal_entity</code> properties that have been filled in will not be hidden.</li>
</ul><h3 id="2015-10-16">2015-10-16</h3>

<ul>
  <li>An error is now returned if a <code>tax_percent</code> is provided without a <code>plan</code> during customer update and creation.</li>
</ul><h3 id="2015-10-12">2015-10-12</h3>

<ul>
  <li><span class="tag major">Major</span>An error is now returned if invalid parameters are passed in the card or bank account parameters hash during token, customer source, or external account creation. In addition, the error code for missing required parameters in these bank account or card hashes is now 400 instead of 402.</li>
</ul><h3 id="2015-10-01">2015-10-01</h3>

<ul>
  <li><code>bank_accounts</code> is no longer a field in the Account object. Use <code>external_accounts</code> instead. Also, <code>bank_account</code> will be replaced by <code>external_account</code> in <code>fields_needed</code>.</li>
</ul><h3 id="2015-09-23">2015-09-23</h3>

<ul>
  <li>An invoice’s latest charge, if any, now always appears as the <code>charge</code> attribute of the invoice. Previously, a non-card charge appeared as the <code>payment</code> attribute, which no longer exists.</li>
  <li><span class="tag major">Major</span>The Charges endpoint previously returned only card charges. Charges now returns all charges, such as card charges and bank account charges. See the endpoint’s documentation for information on filtering by charge source type. The deprecated <code>offset</code> parameter is now only supported when filtering by charge source type. To simultaneously paginate charges from all sources, see <a href="api.html#pagination">https://stripe.com/docs/api#pagination</a>.</li>
</ul><h3 id="2015-09-08">2015-09-08</h3>

<ul>
  <li>API rate limit errors now return a HTTP status code of 429 instead of 400. They also no longer return a <code>rate_limit</code> error code.</li>
</ul><h3 id="2015-09-03">2015-09-03</h3>

<ul>
  <li>An error is now returned if a request reuses an idempotency token with different parameters from the original request sharing the token. (Previously, errors were returned only when idempotency tokens were reused accross different API endpoints.)</li>
</ul><h3 id="2015-08-19">2015-08-19</h3>

<ul>
  <li>Balance transactions corresponding to refunds and disputes now show the refund ID or dispute ID instead of the charge ID as the source.</li>
</ul><h3 id="2015-08-07">2015-08-07</h3>

<ul>
  <li>The <code>tos_acceptance[date]</code> field for accounts now performs date validation. Dates are expected to be integers, measured in seconds, not in the future, and after 2009.</li>
</ul><h3 id="2015-07-28">2015-07-28</h3>

<ul>
  <li>The <code>balance.available</code> webhook is now sent when immediate transfers are processed.</li>
</ul><h3 id="2015-07-13">2015-07-13</h3>

<ul>
  <li>The <code>contacted</code> boolean under account verification is now replaced with a <code>disabled_reason</code> string, describing why a certain account is unable to make transfers and/or charges.</li>
</ul><h3 id="2015-07-07">2015-07-07</h3>

<ul>
  <li>The <code>pending</code> transfer status is now broken into two states. Transfers not yet submitted to the bank are still <code>pending</code> whereas transfers submitted to the bank but not yet paid now have the status <code>in_transit</code>.</li>
</ul><h3 id="2015-06-15">2015-06-15</h3>

<ul>
  <li>For managed accounts, <code>delay_days</code> is now only accepted for non-manual transfer intervals. Manual transfers will always have the minimum <code>delay_days</code>.</li>
</ul><h3 id="2015-04-07">2015-04-07</h3>

<ul>
  <li>The <code>period[end]</code> attribute on proration invoice line items is now equal to <code>current_period_end</code> on the subscription when the update / proration was done. This means that <code>period[start]</code> and <code>period[end]</code> on the proration now represent the interval for which the prorated adjustment was made. (Previously, <code>period[end]</code> was the time at which the proration was made, and was the same as <code>period[start]</code>.)</li>
  <li>Invoice items added to an invoice are now added to the front of the <code>lines</code> list, instead of the end. The old behavior was inconsistent with the sorting order of <code>lines</code>. On new invoices, <code>lines</code> is also now expressly sorted as follows: invoice items in reverse chronological order, followed by the subscription, if any.</li>
</ul><h3 id="2015-03-24">2015-03-24</h3>

<ul>
  <li>Coupons no longer apply to negative invoice items by default, whereas previously, coupons applied to all non-proration invoice items. A <code>discountable</code> property is now exposed by invoice items, which controls whether a coupon applies to it. If you need to have coupons apply to negative invoice items, you should pass <code>discountable=true</code> when creating or updating the invoice item.</li>
</ul><h3 id="2015-02-18">2015-02-18</h3>

<ul>
  <li>The <code>status</code> attribute on Charges now takes the value <code>succeeded</code> if the charge succeeded (previously it took the value <code>paid</code> in that situation).</li>
  <li><span class="tag major">Major</span>The <code>card</code> attribute is no longer returned on Charges. You should now use the <code>source</code> attribute instead. If you only have card charges then you can use <code>source</code> exactly as you used <code>card</code>. Otherwise, you should check the <code>object</code> attribute of the source to determine what type of payment source it is. If the source has <code>object='card'</code> then it is a card object, and is identical to the <code>card</code> subhash returned on Charges in older API versions. Older API versions return both the <code>card</code> attribute and the <code>source</code> attribute.</li>
  <li><span class="tag major">Major</span>The <code>cards</code> and <code>default_card</code> attributes are no longer returned on Customers. You should now use <code>sources</code> and <code>default_source</code> respectively. The <code>customer.card.*</code> and <code>customer.bank_account.*</code> webhooks are now named <code>customer.source.*</code>. If  you only have cards attached to customers (as opposed to payment sources of other types) then you can use the new attributes exactly as you would the old ones. If you have payment sources of multiple types, then the <code>sources</code> list contains heterogeneous objects and you can check the <code>object</code> attribute of each source to determine its format. Older API versions return both the new and the old attributes.</li>
</ul><h3 id="2015-02-16">2015-02-16</h3>

<ul>
  <li>The <code>transfer.canceled</code> notification has been renamed to <code>transfer.reversed</code>.</li>
</ul><h3 id="2015-02-10">2015-02-10</h3>

<ul>
  <li>The <code>status</code> field on disputes may now contain a new value: <code>warning_closed</code>.</li>
  <li>Transfers in test mode now require sufficient funds in your available test mode balance. This brings the test environment behavior into line with the live environment. To adds funds directly to your available test mode balance (bypassing the pending balance), you can use the special test card number 4000 0000 0000 0077.</li>
</ul><h3 id="2015-01-26">2015-01-26</h3>

<ul>
  <li>The <code>canceled_at</code> field is no longer changed when a subscription is canceled at period end. Now <code>canceled_at</code> will always be the timestamp from the API call or invoice payment failure event that canceled the subscription. The <code>ended_at</code> parameter will still give the time that the subscription actually stopped.</li>
  <li>Nested hashes in the <code>previous_attributes</code> field of events are now recursively diffed. For example, a change from <code>{address: {line1: 'Foo', line2: 'Bar'}}</code> to <code>{address: {line1: 'Foo', line2: 'Baz'}}</code> now sends <code>{previous_attributes: {address: {line2: 'Baz'}}}</code>, whereas it used to send <code>{previous_attributes: {address: {line1: 'Foo', line2: 'Baz'}}}</code>.</li>
</ul><h3 id="2015-01-11">2015-01-11</h3>

<ul>
  <li>The <code>mimetype</code> field on file uploads has been removed. Simplified file types are now returned in the <code>type</code> field on file uploads and have simpler naming conventions than mimetypes (for example, the <code>type</code> field returns <code>pdf</code> instead of <code>application/pdf</code>).</li>
</ul><h3 id="2014-12-22">2014-12-22</h3>

<ul>
  <li>The <code>customer</code> field is no longer included on the Card object that appears on the Token object.</li>
  <li>The <code>unchecked</code> value for <code>cvc_check</code>, <code>address_line1_check</code>, and <code>address_zip_check</code> now means that we have not yet checked these fields on the card. The fields will be checked once a card is charged or added to a customer and validated. What was previously <code>unchecked</code>, which is when your customer’s bank does not support a particular check, is now represented as <code>unavailable</code>.</li>
</ul><h3 id="2014-12-17">2014-12-17</h3>

<ul>
  <li>The <code>statement_description</code> parameter on charges, invoices, transfers, and plans is now deprecated in favor of the <code>statement_descriptor</code> parameter, which allows you to specify the full descriptor that appears on your customer’s statement for the transaction. Specifying <code>statement_descriptor</code> without upgrading to this API version will still prepend your account’s statement descriptor to the transaction’s statement descriptor.</li>
</ul><h3 id="2014-12-08">2014-12-08</h3>

<ul>
  <li>Evidence for disputes is now provided in a hash of typed fields rather than a single block of text. Additionally, the <code>evidence_due_by</code> field has been removed and replaced by an <code>evidence_details</code> hash which includes <code>due_by</code> and <code>submission_count</code> (for the number of times a dispute has been submitted).</li>
</ul><h3 id="2014-11-20">2014-11-20</h3>

<ul>
  <li>For invoice line items with type <code>subscription</code>, the metadata field now shows the subscription’s metadata.  It previously showed the plan’s metadata.</li>
  <li>Disputes that are won will now return the status <code>won</code> even if the charge has been refunded. Previously they would transition to the status <code>charge_refunded</code>.</li>
</ul><h3 id="2014-11-05">2014-11-05</h3>

<ul>
  <li>Account resources now return <code>transfers_enabled</code> and <code>charges_enabled</code> rather than their singular counterparts (<code>transfer_enabled</code>/<code>charge_enabled</code>).</li>
</ul><h3 id="2014-10-07">2014-10-07</h3>

<ul>
  <li>Publishable keys can no longer be used to retrieve token objects. When a card or bank account token is created with a publishable key, the <code>fingerprint</code> property is no longer included in the response.</li>
</ul><h3 id="2014-09-08">2014-09-08</h3>

<ul>
  <li>Bank account objects now contain a <code>status</code> enum as opposed to <code>disabled</code>, <code>verified</code>, and <code>validated</code> booleans.</li>
</ul><h3 id="2014-08-20">2014-08-20</h3>

<ul>
  <li>The <code>status</code> field on disputes may now contain three new values: <code>warning_needs_response</code>, <code>warning_under_review</code>, and <code>charge_refunded</code>. In order to provide greater detail around funds withdrawn and reinstated as a result of disputes, we’ve added a <code>balance_transactions</code> field to the resource, and are removing the corresponding <code>balance_transaction</code> field.</li>
</ul><h3 id="2014-08-04">2014-08-04</h3>

<ul>
  <li>The <code>transactions</code>, <code>summary</code>, and <code>other_transfers</code> properties in automatic transfer responses have been removed in favor of the balance history endpoint (<code>/v1/balance/history</code>), which can be called with the transfer id (using the <code>?transfer=</code> parameter) to filter transactions by transfer.</li>
</ul><h3 id="2014-07-26">2014-07-26</h3>

<ul>
  <li>Change refunds property on application fee responses from an array to a sublist object, which contains the <code>total_count</code>, <code>has_more</code>, <code>url</code> and <code>data</code> parameters. This makes application fee refunds consistent with charge refunds.</li>
</ul><h3 id="2014-07-22">2014-07-22</h3>

<ul>
  <li>Proration line items on invoices now include the associated subscription’s plan and quantity.</li>
</ul><h3 id="2014-06-17">2014-06-17</h3>

<ul>
  <li>Change refunds property on charge responses from an array to a sublist object, which contains the <code>total_count</code>, <code>has_more</code>, <code>url</code>, and <code>data</code> parameters.</li>
</ul><h3 id="2014-06-13">2014-06-13</h3>

<ul>
  <li>Rename <code>type</code> to <code>brand</code> on the card object.</li>
</ul><h3 id="2014-05-19">2014-05-19</h3>

<ul>
  <li>Replace <code>account</code> property on transfer responses with the <code>bank_account</code> property, which contains the same information and does not appear when the transfer was not made to a bank account.</li>
</ul><h3 id="2014-03-28">2014-03-28</h3>

<ul>
  <li><span class="tag major">Major</span>Remove count property from list responses, replacing it with the optional property total_count.  You can request that total_count be included in your responses by specifying <code>include[]=total_count</code>.</li>
</ul><h3 id="2014-03-13">2014-03-13</h3>

<ul>
  <li>Remove statement_descriptor property on transfer object. The statement_descriptor property is replaced by the statement_description property.</li>
</ul><h3 id="2014-01-31">2014-01-31</h3>

<ul>
  <li><span class="tag major">Major</span>Remove subscription property on customer object. The subscription property is replaced by the subscriptions property, as customers can now have multiple subscriptions.</li>
  <li>Trial dates used on canceled subscriptions are now ignored when automatically computing trial end dates for new subscriptions.</li>
</ul><h3 id="2013-12-03">2013-12-03</h3>

<ul>
  <li>Remove user and user_email on application fees in favor of an expandable account property.</li>
  <li>Passing in <code>refund_application_fee=true</code> when refunding a charge now refunds the application fee proportional to the amount of the charge refunded, not the entire amount.</li>
</ul><h3 id="2013-10-29">2013-10-29</h3>

<ul>
  <li>When we apply a $Y coupon to a $X dollar invoice, we are no longer applying the remainder of the coupon to the account balance if Y &gt; X. Applications of coupons to $0 invoices will no longer count as a redemption of the coupon. This does not apply to coupons created before this version, though we’re happy to fix old coupons for you; please email support+coupon@stripe.com.</li>
</ul><h3 id="2013-08-13">2013-08-13</h3>

<ul>
  <li>Remove fee and fee_details properties on charge and transfer objects. Instead, fee information is now stored on the corresponding balance transaction.</li>
</ul><h3 id="2013-08-12">2013-08-12</h3>

<ul>
  <li>Empty string values in POST requests now set the property to null.  The following objects now have properties that can be unset (passing an empty string for any other property is an error): description (Customer, Charge, InvoiceItem, Recipient), email (Customer, Recipient),</li>
</ul><h3 id="2013-07-05">2013-07-05</h3>

<ul>
  <li><span class="tag major">Major</span>Customer objects now include a cards sublist and a default_card id in place of a fully expanded active_card. The default_card attribute can be expanded into a card object when retrieving the customer but is not expanded by default.</li>
</ul><h3 id="2013-02-13">2013-02-13</h3>

<ul>
  <li>Charge objects now include another stripe_fee object in the fee_details array representing the fees for a dispute when the charge has a dispute. The fee total on charge objects also now includes the dispute fees in its calculation.</li>
</ul><h3 id="2013-02-11">2013-02-11</h3>

<ul>
  <li>Return an error in invoice pay call when the charge is not successful in order to be more consistent with the rest of the API (e.g., charge creation calls). Previously, we would return a 200 status with the invoice’s paid attribute set to false.</li>
</ul><h3 id="2012-11-07">2012-11-07</h3>

<ul>
  <li>Remove disputed property on charges (in favor of dispute property).</li>
</ul><h3 id="2012-10-26">2012-10-26</h3>

<ul>
  <li>Updates the format of invoice objects. The ‘lines’ property has changed from a structure that contained all of the items in the invoice (broken up by section), to what we call a ‘sublist’ – which is just a normal paginated list of all the items that contributed to this invoice.</li>
</ul><h3 id="2012-09-24">2012-09-24</h3>

<ul>
  <li>Remove extraneous ID property on discount objects</li>
</ul><h3 id="2012-07-09">2012-07-09</h3>

<ul>
  <li>Remove uncaptured property on customer object</li>
</ul><h3 id="2012-06-28">2012-06-28</h3>

<ul>
  <li>Remove avs_check and cvc_check properties on token object. You can find these properties on the card attached to a charge or customer object instead.</li>
</ul><h3 id="2012-06-18">2012-06-18</h3>

<ul>
  <li>Remove amount and currency properties on token object.</li>
</ul><h3 id="2012-03-25">2012-03-25</h3>

<ul>
  <li>Remove next_recurring_charge property on customer object. Use the upcoming invoice call instead.</li>
</ul><h3 id="2012-02-23">2012-02-23</h3>

<ul>
  <li>Show all response property keys, even for null values. Previously, the API hid keys with null values.</li>
</ul><h3 id="2011-11-17">2011-11-17</h3><h3 id="2011-09-15">2011-09-15</h3>

<ul>
  <li>Update card validation behavior when creating tokens.</li>
</ul><h3 id="2011-08-01">2011-08-01</h3>

<ul>
  <li>Update list format. New list objects have a data property that represents an array of objects (by default, 10) and a count property that represents the total count.</li>
</ul><h3 id="2011-06-28">2011-06-28</h3>

<ul>
  <li>Remove identifier (duplicate of ID) property on plan object.</li>
</ul><h3 id="2011-06-21">2011-06-21</h3>

<ul>
  <li>Raise exceptions on unrecognized parameters passed to the API instead of silently allowing and ignoring them.</li>
</ul></section>


          <footer>
  <h2>Questions?</h2>
  <p>We're always happy to help with code or other questions you might have! <a href="https://support.stripe.com/">Search</a> our site for more information, <a href="https://support.stripe.com/email">send us an email</a>, or <a href="../contact/sales.html">get in touch</a> with our sales team!</p>
</footer>

        </article>
      </div>
    </div>

    <div id="loading-bar"></div>

    <script src="../assets/external/jquery.min-94df374d2ad5d02ae136584dc008fb1c.js"></script>
    <script src="../assets/prism-aa9f4cb7aff3f31b5394455bcbea0d8b.js"></script>
    <script src="../assets/external/dynamics.min-14579f80273a61e6d0f4f45484e20dc7.js"></script>
    <script src="../assets/jquery.cookie-d7482a1bbfda18d981eda4398666acdd.js"></script>
    <script src="../assets/documentation-84c208e01668170139f2f511cfc37644.js"></script>
    <script>
      parseKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2", "secret-key", null);
      parseKey("pk_test_6pRNASCoBOKtIshFeQd4XMUh", "publishable-key", null);
    </script>
      <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

    
    <script src="../assets/config-aead70c07cdca45cec67e4141bf18edc.js"></script>
    
<script type="application/json" id="analytics_config">{&quot;mixpanel&quot;:{&quot;identifier&quot;:&quot;eb71b6171a4f7ed97de9b7a0395b7ca5&quot;},&quot;ga&quot;:{},&quot;trackpage&quot;:true}</script>

<script src="https://js.stripe.com/internal/v2/analytics.min.js"></script>
<script src="../assets/analytics-e800ab0ba76de2b697ea3f61c673695b.js"></script>
<script src="https://js.stripe.com/v2/m.js"></script>
<script src="../assets/mirador_ping-6bba7d3d9fbb1e991b7f0f8fab43b2b1.js"></script>

    <script type="text/javascript">
    if ('Analytics' in window) {
      Analytics.viewed("docs", {
        docs_version: "2",
      });
    }
    </script>
  </body>

<!-- Mirrored from stripe.com/docs/upgrades by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:44:05 GMT -->
</html>
