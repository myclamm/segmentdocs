<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from stripe.com/docs/charges?ref=quickstart by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
    <meta charset="utf-8">
    <meta name="google-site-verification" content="f0LCrdI6z4Fo8zld4sHCgo5SiUE4EYYRUa6KVeX3Mw8" />
    <meta name="csrf-token" content="TaR8zZceahSGBiKCUCpNRfYhonfKQwt-npntLTdRdQfUPmiwkduuUUtCBp2cIng-318s8Jbvyt7fLOcFkoa_dg==">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Creating Charges</title>

    <meta name="description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="apple-touch-icon-precomposed" href="../img/apple-touch-icon/180x180.png">
    <link rel="icon" href="../img/apple-touch-icon/180x180.png">


    <link rel="image_src" type="image/png" href="../img/v3/home/social.png">

    <meta property="og:title" content="Creating Charges">
    <meta property="og:url" content="charges.html">
    <meta property="og:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">
    <meta property="og:image" content="../img/v3/home/social.png">

      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="../img/v3/home/twitter.png">
    <meta name="twitter:site" content="@stripe">
    <meta name="twitter:title" content="Creating Charges">
    <meta name="twitter:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <script type="application/json" id="strut_files">{&quot;v3/shared/navigation_ie10.css&quot;:&quot;/assets/v3/shared/navigation_ie10-ec238f46e7cb9867e3c1b529e2cfa37b.css&quot;}</script>

    

    

    <link rel="stylesheet" href="../assets/v3/default-ef2bff54073622b9e08cf24466b5668f.css">
    <link rel="stylesheet" href="../assets/v3/shared/common-d0fb03fa2d48fcf29010779ca9a12b2c.css">
    <link rel="stylesheet" href="../assets/v3/documentation/base-47c1fd7d3d670e4e08df8f5a67b20dea.css">
    <link rel="stylesheet" href="../assets/v3/shared/prism_light-6d08c6ec0d72453693d775c3b96629c0.css">
    
    
    <meta name="viewport" content="width=1060">
    <meta name="robots" content="noarchive">
  </head>
  <body class="">
    
    <div id="docs">
      <div id="sidebar">
        <div class="logo">
          <a class="site" href="../index.html" title="Stripe"></a>
          <a class="extension" href="../docs.html">docs</a>
        </div>
        <div class="nav-border"></div>
        <nav>
          <h1 class="home"><a href="../docs.html">Home</a></h1>
          <h1 class="payments"><a class="toggle-content">Payments</a></h1>
<ul>
    <li>
      <a href="quickstart.html">Quickstart</a>
    </li>
    <li class="category">Collecting payment details
    </li>
    <li>
      <a href="checkout/tutorial.html">Checkout</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="checkout.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="custom-form.html">Stripe.js</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="stripe.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="mobile/ios.html">iOS</a>
    </li>
    <li>
      <a href="mobile/android.html">Android</a>
    </li>
    <li class="category">Charges
    </li>
    <li>
      <a class='selected' href="charges.html">Creating Charges</a>
    </li>
    <li>
      <a href="declines.html">Declines &amp; Failed Payments</a>
    </li>
    <li>
      <a href="disputes.html">Disputes</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="disputes/evidence.html">Submitting Evidence</a>
    </li>
    <li>
      <a href="disputes/types.html">Types</a>
    </li>
    <li>
      <a href="disputes/faq.html">FAQ</a>
    </li>
</ul>

    </li>
    <li class="category">Products &amp; Orders
    </li>
    <li>
      <a href="orders.html">Orders</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="orders/guide.html">Guide</a>
    </li>
</ul>

    </li>
    <li>
      <a href="orders/tax-integration.html">Tax Integrations</a>
    </li>
    <li>
      <a href="orders/shipping-integration.html">Shipping Integrations</a>
    </li>
    <li>
      <a href="sources.html">Getting Started</a>
    </li>
    <li>
      <a href="sources/payment-methods.html">Payment Methods</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="sources/cards.html">Cards</a>
    </li>
    <li>
      <a href="sources/3d-secure.html">3D Secure</a>
    </li>
    <li>
      <a href="sources/bancontact.html">Bancontact</a>
    </li>
    <li>
      <a href="sources/giropay.html">Giropay</a>
    </li>
    <li>
      <a href="sources/ideal.html">iDEAL</a>
    </li>
    <li>
      <a href="sources/sepa-direct-debit.html">SEPA Direct Debit</a>
    </li>
    <li>
      <a href="sources/sofort.html">Sofort</a>
    </li>
</ul>

    </li>
    <li class="category">Other Payment Methods
    </li>
    <li>
      <a href="ach.html">ACH</a>
    </li>
    <li>
      <a href="apple-pay.html">Apple Pay</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="apple-pay/apps.html">Apple Pay in Apps</a>
    </li>
    <li>
      <a href="apple-pay/web.html">Apple Pay on the Web</a>
    </li>
</ul>

    </li>
    <li>
      <a href="alipay.html">Alipay</a>
    </li>
    <li>
      <a href="bitcoin.html">Bitcoin</a>
    </li>
    <li class='separator'>
      <a href="testing.html">Testing</a>
    </li>
</ul>

          <h1 class="subscriptions"><a class="toggle-content">Subscriptions</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="subscriptions/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="subscriptions/creating.html">Creating Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="subscriptions/discounts.html">Applying Discounts</a>
    </li>
    <li>
      <a href="subscriptions/trials.html">Using Trial Periods</a>
    </li>
    <li>
      <a href="subscriptions/quantities.html">Setting Quantities</a>
    </li>
    <li>
      <a href="subscriptions/taxes.html">Adding Taxes</a>
    </li>
    <li>
      <a href="subscriptions/multiple.html">Multiple Subscriptions</a>
    </li>
</ul>

    </li>
    <li>
      <a href="subscriptions/lifecycle.html">Lifecycle &amp; Events</a>
    </li>
    <li>
      <a href="subscriptions/webhooks.html">Using Webhooks</a>
    </li>
    <li>
      <a href="subscriptions/changing.html">Changing Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="subscriptions/upgrading-downgrading.html">Upgrading &amp; Downgrading</a>
    </li>
    <li>
      <a href="subscriptions/billing-cycle.html">Billing Cycle</a>
    </li>
    <li>
      <a href="subscriptions/canceling-pausing.html">Canceling &amp; Pausing</a>
    </li>
</ul>

    </li>
    <li>
      <a href="subscriptions/invoices.html">Working with Invoices</a>
      <ul data-collapsable=false>
</ul>

    </li>
    <li>
      <a href="subscriptions/plans.html">Managing Plans</a>
    </li>
    <li>
      <a href="subscriptions/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="connect"><a class="toggle-content">Connect</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="connect.html">Overview</a>
    </li>
    <li>
      <a href="connect/connecting-to-accounts.html">Connecting to Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/authentication.html">Authentication</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/standalone-accounts.html">Standalone Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/reference.html">OAuth Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/managed-accounts.html">Managed Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/updating-accounts.html">Updating Accounts</a>
    </li>
    <li>
      <a href="connect/identity-verification.html">Identity Verification</a>
    </li>
    <li>
      <a href="connect/required-verification-information.html">Verification Fields</a>
    </li>
    <li>
      <a href="connect/testing-verification.html">Testing Verification</a>
    </li>
    <li>
      <a href="connect/bank-transfers.html">Bank Transfers</a>
    </li>
    <li>
      <a href="connect/migrating.html">Migrating Recipients</a>
    </li>
    <li>
      <a href="connect/best-practices.html">Best Practices</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/payments-fees.html">Payments and Fees</a>
    </li>
    <li>
      <a href="connect/special-case-transfers.html">Special-case Transfers</a>
    </li>
    <li class='separator'>
      <a href="connect/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="relay"><a class="toggle-content">Relay</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="relay.html">Selling in Other Apps</a>
    </li>
    <li>
      <a href="relay/apps-guide.html">Accepting Orders in Your App</a>
      <ul data-collapsable=false>
    <li>
      <a href="relay/apps-error-guide.html">Error Handling</a>
    </li>
</ul>

    </li>
</ul>

          <h1 class="radar"><a class="toggle-content">Radar</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="radar.html">Overview</a>
    </li>
    <li>
      <a href="radar/risk-evaluation.html">Risk Evaluation</a>
    </li>
    <li>
      <a href="radar/review.html">Review</a>
      <ul data-collapsable=false>
    <li>
      <a href="radar/review/auth-and-capture.html">Uncaptured Payments</a>
    </li>
</ul>

    </li>
    <li>
      <a href="radar/rules.html">Rules</a>
      <ul data-collapsable=false>
    <li>
      <a href="radar/rules/reference.html">Reference</a>
    </li>
</ul>

    </li>
    <li class='separator'>
      <a href="radar/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="account"><a class="toggle-content">Account</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="dashboard.html">Your Account</a>
    </li>
    <li>
      <a href="checklist.html">Going Live Checklist</a>
    </li>
    <li>
      <a href="transfers.html">Getting Paid</a>
    </li>
    <li>
      <a href="reporting.html">Reporting</a>
    </li>
</ul>

          <h1 class="api"><a class="toggle-content">Development</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="libraries.html">API Libraries</a>
    </li>
    <li>
      <a href="upgrades.html">API Upgrades</a>
    </li>
    <li>
      <a href="webhooks.html">Webhooks</a>
    </li>
    <li>
      <a href="building-integrations.html">Integrations</a>
    </li>
    <li>
      <a href="recipes.html">Recipes</a>
    </li>
    <li>
      <a href="security.html">Security</a>
    </li>
</ul>


          <h1 class="references"><a href="api.html" class="external" target="_blank">API Reference</a></h1>
        </nav>
      </div>
      <div id="content-wrapper" tabindex="0">
        <div class="overlay"></div>
        <header id="main-header">
          <nav>
            <ul class="external">
              <li><a href="https://support.stripe.com/">Support</a></li>

              <li class="button">
                <a data-adroll-segment='submit_two' href="https://dashboard.stripe.com/login">Sign in</a>
              </li>
            </ul>
          </nav>
        </header>
        <article id="content">
          <header>
  <h1>Creating Charges</h1>
  <p>Use Stripe's API and your server-side code to process charges.
    If you need help after reading this, check out our answers to <a href="https://support.stripe.com/search?q=charging+cards">common questions</a> or chat live with other developers in <a href="irc://irc.freenode.net/stripe">#stripe</a> on freenode.

  </p>
</header>

<section>
  <aside class="note">
    <h3>Tutorial requirement</h3>
    <p>This tutorial assumes you've already implemented a solution for collecting and tokenizing your customers' credit cards. If you haven't, check out our <a href="quickstart.html">quickstart</a> documentation before proceeding.
    </p>
  </aside>

  <p>Once you've securely collected and tokenized your customer's credit card using <a href="checkout/tutorial.html">Checkout</a> or <a href="custom-form.html">Stripe.js</a>, you can charge the card. Unlike collection, which occurs in the browser, charge attempts are made from your server, normally using one of our <a
    href="libraries.html">client libraries</a>. If you haven't already,
    install the library for your favorite language now. This tutorial shows code for Ruby, PHP, Python, and Node, but we also have libraries for Java and Go.
  </p>

  <p>
    On your server, grab the Stripe token in the POST parameters submitted by your form. From there, it's one simple API call to charge the card:
  </p>

  <div class="tabs tabs-code animated" data-platform=server>
    <nav class="nav-languages">
        <a data-language="curl"
            class="selected">curl</a>
        <a data-language="ruby"
           >Ruby</a>
        <a data-language="python"
           >Python</a>
        <a data-language="php"
           >PHP</a>
        <a data-language="java"
           >Java</a>
        <a data-language="node"
           >Node</a>
        <a data-language="go"
           >Go</a>
    </nav>
    <div class="tabs-content">
      <div class="code">
  <pre class="language-curl numbered selected" ><code>curl https://api.stripe.com/v1/charges \
   -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \
   -d amount=1000 \
   -d currency=usd \
   -d description=&quot;Example charge&quot; \
   -d source=tok_LUTDzQJRYTTCwKCsKcvnDlZi
</code></pre>
</div>
<div class="code">
  <pre class="language-ruby numbered" ><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.api_key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

# Token is created using Stripe.js or Checkout!
# Get the payment token submitted by the form:
token = params[:stripeToken]

# Charge the user&#39;s card:
charge = Stripe::Charge.create(
  :amount =&gt; 1000,
  :currency =&gt; &quot;usd&quot;,
  :description =&gt; &quot;Example charge&quot;,
  :source =&gt; token,
)
</code></pre>
</div>
<div class="code">
  <pre class="language-python numbered" ><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.api_key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

# Token is created using Stripe.js or Checkout!
# Get the payment token submitted by the form:
token = request.POST[&#39;stripeToken&#39;]

# Charge the user&#39;s card:
charge = stripe.Charge.create(
  amount=1000,
  currency=&quot;usd&quot;,
  description=&quot;Example charge&quot;,
  source=token,
)
</code></pre>
</div>
<div class="code">
  <pre class="language-php numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
\Stripe\Stripe::setApiKey(&quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;);

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
$token = $_POST[&#39;stripeToken&#39;];

// Charge the user&#39;s card:
$charge = \Stripe\Charge::create(array(
  &quot;amount&quot; =&gt; 1000,
  &quot;currency&quot; =&gt; &quot;usd&quot;,
  &quot;description&quot; =&gt; &quot;Example charge&quot;,
  &quot;source&quot; =&gt; $token,
));
</code></pre>
</div>
<div class="code">
  <pre class="language-java numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;;

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
String token = request.getParameter(&quot;stripeToken&quot;);

// Charge the user&#39;s card:
Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put(&quot;amount&quot;, 1000);
params.put(&quot;currency&quot;, &quot;usd&quot;);
params.put(&quot;description&quot;, &quot;Example charge&quot;);
params.put(&quot;source&quot;, token);

Charge charge = Charge.create(params);
</code></pre>
</div>
<div class="code">
  <pre class="language-javascript numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
var stripe = require(&quot;stripe&quot;)(&quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;);

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
var token = request.body.stripeToken; // Using Express

// Charge the user&#39;s card:
var charge = stripe.charges.create({
  amount: 1000,
  currency: &quot;usd&quot;,
  description: &quot;Example charge&quot;,
  source: token,
}, function(err, charge) {
  // asynchronously called
});
</code></pre>
</div>
<div class="code">
  <pre class="language-go numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.Key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
token := r.FormValue(&quot;stripeToken&quot;)

// Charge the user&#39;s card:
params := &amp;stripe.ChargeParams{
  Amount: 1000,
  Currency: &quot;usd&quot;,
  Description: &quot;Example charge&quot;,
}
params.SetSource(token)

charge, err := charge.New(params)
</code></pre>
</div>

    </div>
  </div>

  <aside class="note">
    <h3>Synchronicity</h3>
    <p>
      Charging cards with Stripe is a <em>synchronous</em> process. Your code will immediately receive the result of the request: either a <code>Charge</code> object upon success or an exception upon failure. No asynchronous webhook or IPN script is required.
    </p>
  </aside>

  <p>As a convenience, if you're logged in while reading this page, we've pre-filled the example with your <em>test secret</em> API key. Only you can see this value. This will
      authenticate you to Stripe, so keep it secret and keep it safe.
      Remember to replace the test key with your live key in production.
      You can get all your keys from <a href="https://dashboard.stripe.com/account/apikeys">the Dashboard</a>.</p>

  <p>
    That's it! If the charge creation request succeeds, the card has been successfully charged.
    You will automatically receive your money in <a href="transfers.html#when-and-how-do-i-get-paid">
    two days</a>. If the charge attempt fails, we'll return an <a href="api.html#errors">error</a> instead.
  </p>
</section>

<section>
  <h2 id="saving-credit-card-details-for-later">Saving credit card details for later</h2>

  <p>
    Stripe tokens can only be used once, but that doesn't mean you have to request your customer's card details for every payment. Stripe provides a <code>Customer</code> object type that makes it easy to save
    this&mdash;and other&mdash;information for later use.
  </p>

  <p>
    Instead of charging the card immediately, create a new <code>Customer</code>, saving the token on the <code>Customer</code> in the process. This will let you charge the customer at any point in
    the future:
  </p>

  <div class="tabs tabs-code animated" data-platform=server>
    <nav class="nav-languages">
        <a data-language="curl"
            class="selected">curl</a>
        <a data-language="ruby"
           >Ruby</a>
        <a data-language="python"
           >Python</a>
        <a data-language="php"
           >PHP</a>
        <a data-language="java"
           >Java</a>
        <a data-language="node"
           >Node</a>
        <a data-language="go"
           >Go</a>
    </nav>
    <div class="tabs-content">
      <div class="code">
  <pre class="language-curl numbered selected" ><code># Create a Customer:
curl https://api.stripe.com/v1/customers \
   -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \
   -d email=&quot;paying.user@example.com&quot; \
   -d source=tok_QDBHx8VCddjjuwCuHnT4bEhK
# Charge the Customer instead of the card:
curl https://api.stripe.com/v1/charges \
   -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \
   -d amount=1000 \
   -d currency=usd \
   -d customer=cus_Zveagp7QsRk9dc
# Save the customer ID and other info in a database for later.
# When it&#39;s time to charge the customer again, retrieve the customer ID.
curl https://api.stripe.com/v1/charges \
   -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \
   -d amount=1500 \
   -d currency=usd \
   -d customer=cus_1iNONTPH2liC4r
</code></pre>
</div>
<div class="code">
  <pre class="language-ruby numbered" ><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.api_key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

# Token is created using Stripe.js or Checkout!
# Get the payment token submitted by the form:
token = params[:stripeToken]

# Create a Customer:
customer = Stripe::Customer.create(
  :email =&gt; &quot;paying.user@example.com&quot;,
  :source =&gt; token,
)

# Charge the Customer instead of the card:
charge = Stripe::Charge.create(
  :amount =&gt; 1000,
  :currency =&gt; &quot;usd&quot;,
  :customer =&gt; customer.id,
)

# YOUR CODE: Save the customer ID and other info in a database for later.

# YOUR CODE (LATER): When it&#39;s time to charge the customer again, retrieve the customer ID.
charge = Stripe::Charge.create(
  :amount =&gt; 1500, # $15.00 this time
  :currency =&gt; &quot;usd&quot;,
  :customer =&gt; customer_id, # Previously stored, then retrieved
)
</code></pre>
</div>
<div class="code">
  <pre class="language-python numbered" ><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.api_key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

# Token is created using Stripe.js or Checkout!
# Get the payment token submitted by the form:
token = request.POST[&#39;stripeToken&#39;]

# Create a Customer:
customer = stripe.Customer.create(
  :email =&gt; &quot;paying.user@example.com&quot;,
  :source =&gt; token,
)

# Charge the Customer instead of the card:
charge = stripe.Charge.create(
  amount=1000,
  currency=&quot;usd&quot;,
  customer=customer.id,
)

# YOUR CODE: Save the customer ID and other info in a database for later.

# YOUR CODE (LATER): When it&#39;s time to charge the customer again, retrieve the customer ID.
charge = stripe.Charge.create(
  amount=1500, # $15.00 this time
  currency=&quot;usd&quot;,
  customer=customer.id, # Previously stored, then retrieved
)
</code></pre>
</div>
<div class="code">
  <pre class="language-php numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
\Stripe\Stripe::setApiKey(&quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;);

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
$token = $_POST[&#39;stripeToken&#39;];

// Create a Customer:
$customer = \Stripe\Customer::create(array(
  &quot;email&quot; =&gt; &quot;paying.user@example.com&quot;,
  &quot;source&quot; =&gt; $token,
));

// Charge the Customer instead of the card:
$charge = \Stripe\Charge::create(array(
  &quot;amount&quot; =&gt; 1000,
  &quot;currency&quot; =&gt; &quot;usd&quot;,
  &quot;customer&quot; =&gt; $customer-&gt;id
));

// YOUR CODE: Save the customer ID and other info in a database for later.

// YOUR CODE (LATER): When it&#39;s time to charge the customer again, retrieve the customer ID.
$charge = \Stripe\Charge::create(array(
  &quot;amount&quot; =&gt; 1500, // $15.00 this time
  &quot;currency&quot; =&gt; &quot;usd&quot;,
  &quot;customer&quot; =&gt; $customer_id
));
</code></pre>
</div>
<div class="code">
  <pre class="language-java numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;;

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
String token = request.getParameter(&quot;stripeToken&quot;);

// Create a Customer:
Map&lt;String, Object&gt; customerParams = new HashMap&lt;String, Object&gt;();
customerParams.put(&quot;email&quot;, &quot;paying.user@example.com&quot;);
customerParams.put(&quot;source&quot;, token);
Customer customer = Customer.create(customerParams);

// Charge the Customer instead of the card:
Map&lt;String, Object&gt; chargeParams = new HashMap&lt;String, Object&gt;();
chargeParams.put(&quot;amount&quot;, 1000);
chargeParams.put(&quot;currency&quot;, &quot;usd&quot;);
chargeParams.put(&quot;customer&quot;, customer.getId());
Charge charge = Charge.create(chargeParams);

// YOUR CODE: Save the customer ID and other info in a database for later.

// YOUR CODE (LATER): When it&#39;s time to charge the customer again, retrieve the customer ID.
Map&lt;String, Object&gt; chargeParams = new HashMap&lt;String, Object&gt;();
chargeParams.put(&quot;amount&quot;, 1500); // $15.00 this time
chargeParams.put(&quot;currency&quot;, &quot;usd&quot;);
chargeParams.put(&quot;customer&quot;, customerId);
Charge charge = Charge.create(chargeParams);
</code></pre>
</div>
<div class="code">
  <pre class="language-javascript numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
var stripe = require(&quot;stripe&quot;)(&quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;);

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
var token = request.body.stripeToken; // Using Express

// Create a Customer:
stripe.customers.create({
  email: &quot;paying.user@example.com&quot;,
  source: token,
}).then(function(customer) {
  // YOUR CODE: Save the customer ID and other info in a database for later.
  return stripe.charges.create({
    amount: 1000,
    currency: &quot;usd&quot;,
    customer: customer.id,
  });
}).then(function(charge) {
  // Use and save the charge info.
});

// YOUR CODE (LATER): When it&#39;s time to charge the customer again, retrieve the customer ID.
stripe.charges.create({
  amount: 1500, // $15.00 this time
  currency: &quot;usd&quot;,
  customer: customerId,
});
</code></pre>
</div>
<div class="code">
  <pre class="language-go numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.Key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
token := r.FormValue(&quot;stripeToken&quot;)

// Create a Customer:
customerParams := &amp;stripe.CustomerParams{
  Email: &quot;paying.user@example.com&quot;,
}
customerParams.SetSource(token)
customer, err := customer.New(customerParams)

// Charge the Customer instead of the card:
chargeParams := &amp;stripe.ChargeParams{
  Amount: 1000,
  Currency: &quot;usd&quot;,
  Customer: customer.id,
}
charge, err := charge.New(chargeParams)

// YOUR CODE: Save the customer ID and other info in a database for later.

// YOUR CODE (LATER): When it&#39;s time to charge the customer again, retrieve the customer ID.
chargeParams := &amp;stripe.ChargeParams{
  Amount: 1500, // $15.00 this time
  Currency: &quot;usd&quot;,
  Customer: customerId,
}
charge, err := charge.New(chargeParams)
</code></pre>
</div>

    </div>
  </div>

  <p>After creating a customer in Stripe with a stored payment method, you can  charge that customer at any point in time by passing the customer ID&mdash;instead of a card representation&mdash;in the charge request. Be certain to store the customer ID on your side for later use.
  </p>
</section>

<section>
  <h2 id="storing-information-in-metadata">Storing information in metadata</h2>

  <p>Stripe supports adding <a href="api.html#metadata">metadata</a> to the most common requests you'll make, such as processing charges. Metadata is for your use only: it isn't shown to customers or factored into whether or not a charge is declined or blocked by our fraud prevention system.
  </p>

  <p>Through metadata, you can associate other information&mdash;meaningful to you&mdash;with Stripe activity. Any metadata you include will be viewable in the Dashboard (e.g., when looking at the page for an individual charge), and will also be available in common reports and exports. As an example, your store's order ID can be attached to the charge used to pay for that order. Doing so allows you, your accountant, or your finance team to easily reconcile charges in Stripe to orders in your system.
  </p>
  <p>If you using Radar to <a href="radar/review.html">flag payments</a> for review, consider passing any additional order information as metadata. By doing so, you'll have more information about the payment available within the Dashboard which can that can expedite your review process.
  </p>

  <div class="tabs tabs-code animated" data-platform=server>
    <nav class="nav-languages">
        <a data-language="curl"
            class="selected">curl</a>
        <a data-language="ruby"
           >Ruby</a>
        <a data-language="python"
           >Python</a>
        <a data-language="php"
           >PHP</a>
        <a data-language="java"
           >Java</a>
        <a data-language="node"
           >Node</a>
        <a data-language="go"
           >Go</a>
    </nav>
    <div class="tabs-content">
      <div class="code">
  <pre class="language-curl numbered selected" ><code>curl https://api.stripe.com/v1/charges \
   -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \
   -d amount=1000 \
   -d currency=usd \
   -d description=&quot;Example charge&quot; \
   -d metadata[order_id]=6735 \
   -d source=tok_SC01qYOOWMf4i0YxOYafatPP
</code></pre>
</div>
<div class="code">
  <pre class="language-ruby numbered" ><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.api_key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

# Token is created using Stripe.js or Checkout!
# Get the payment token submitted by the form:
token = params[:stripeToken]

# Charge the user&#39;s card:
charge = Stripe::Charge.create(
  :amount =&gt; 1000,
  :currency =&gt; &quot;usd&quot;,
  :description =&gt; &quot;Example charge&quot;,
  :metadata =&gt; {&quot;order_id&quot; =&gt; 6735},
  :source =&gt; token,
)
</code></pre>
</div>
<div class="code">
  <pre class="language-python numbered" ><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.api_key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

# Token is created using Stripe.js or Checkout!
# Get the payment token submitted by the form:
token = request.POST[&#39;stripeToken&#39;]

# Charge the user&#39;s card:
charge = stripe.Charge.create(
  amount=1000,
  currency=&quot;usd&quot;,
  description=&quot;Example charge&quot;,
  metadata={&quot;order_id&quot;: 6735},
  source=token,
)
</code></pre>
</div>
<div class="code">
  <pre class="language-php numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
\Stripe\Stripe::setApiKey(&quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;);

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
$token = $_POST[&#39;stripeToken&#39;];

// Charge the user&#39;s card:
$charge = \Stripe\Charge::create(array(
  &quot;amount&quot; =&gt; 1000,
  &quot;currency&quot; =&gt; &quot;usd&quot;,
  &quot;description&quot; =&gt; &quot;Example charge&quot;,
  &quot;metadata&quot; =&gt; array(&quot;order_id&quot; =&gt; 6735),
  &quot;source&quot; =&gt; $token,
));
</code></pre>
</div>
<div class="code">
  <pre class="language-java numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;;

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
String token = request.getParameter(&quot;stripeToken&quot;);

// Charge the user&#39;s card:
Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put(&quot;amount&quot;, 1000);
params.put(&quot;currency&quot;, &quot;usd&quot;);
params.put(&quot;description&quot;, &quot;Example charge&quot;);
Map&lt;String, String&gt; initialMetadata = new HashMap&lt;String, String&gt;();
initialMetadata.put(&quot;order_id&quot;, 6735);
chargeParams.put(&quot;metadata&quot;, initialMetadata);
params.put(&quot;source&quot;, token);

Charge charge = Charge.create(params);
</code></pre>
</div>
<div class="code">
  <pre class="language-javascript numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
var stripe = require(&quot;stripe&quot;)(&quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;);

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
var token = request.body.stripeToken; // Using Express

// Charge the user&#39;s card:
var charge = stripe.charges.create({
  amount: 1000,
  currency: &quot;usd&quot;,
  description: &quot;Example charge&quot;,
  metadata: {&quot;order_id&quot; =&gt; 6735},
  source: token,
}, function(err, charge) {
  // asynchronously called
});
</code></pre>
</div>
<div class="code">
  <pre class="language-go numbered" ><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.Key = &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;

// Token is created using Stripe.js or Checkout!
// Get the payment token submitted by the form:
token := r.FormValue(&quot;stripeToken&quot;)

// Charge the user&#39;s card:
params := &amp;stripe.ChargeParams{
  Amount: 1000,
  Currency: &quot;usd&quot;,
  Description: &quot;Example charge&quot;,
}
params.AddMeta(&quot;order_id&quot;, 6735)
params.SetSource(token)

charge, err := charge.New(params)
</code></pre>
</div>

    </div>
  </div>
</section>

<section>
  <h2 id="next-up">Next steps</h2>
  <p>
    Congrats! You've processed your first charge using Stripe. Some things you might want to
    see next:
  </p>
<ul class="next-steps">
    <li><a href="dashboard.html"><span>Managing your Stripe account</a></li>
    <li><a href="examples.html"><span>Sample projects using Stripe</a></li>
    <li><a href="api.html"><span>Full API Documentation</a></li>
    <li><a href="recipes/coupons-for-charges.html"><span>Implement your own coupon system for standalone charges</a></li>
</ul>

</section>


          <footer>
  <h2>Questions?</h2>
  <p>We're always happy to help with code or other questions you might have! <a href="https://support.stripe.com/">Search</a> our site for more information, <a href="https://support.stripe.com/email">send us an email</a>, or <a href="../contact/sales.html">get in touch</a> with our sales team!</p>
</footer>

        </article>
      </div>
    </div>

    <div id="loading-bar"></div>

    <script src="../assets/external/jquery.min-94df374d2ad5d02ae136584dc008fb1c.js"></script>
    <script src="../assets/prism-aa9f4cb7aff3f31b5394455bcbea0d8b.js"></script>
    <script src="../assets/external/dynamics.min-14579f80273a61e6d0f4f45484e20dc7.js"></script>
    <script src="../assets/jquery.cookie-d7482a1bbfda18d981eda4398666acdd.js"></script>
    <script src="../assets/documentation-84c208e01668170139f2f511cfc37644.js"></script>
    <script>
      parseKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2", "secret-key", null);
      parseKey("pk_test_6pRNASCoBOKtIshFeQd4XMUh", "publishable-key", null);
    </script>
      <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

    
    <script src="../assets/config-aead70c07cdca45cec67e4141bf18edc.js"></script>
    
<script type="application/json" id="analytics_config">{&quot;mixpanel&quot;:{&quot;identifier&quot;:&quot;eb71b6171a4f7ed97de9b7a0395b7ca5&quot;},&quot;ga&quot;:{},&quot;trackpage&quot;:true}</script>

<script src="https://js.stripe.com/internal/v2/analytics.min.js"></script>
<script src="../assets/analytics-e800ab0ba76de2b697ea3f61c673695b.js"></script>
<script src="https://js.stripe.com/v2/m.js"></script>
<script src="../assets/mirador_ping-6bba7d3d9fbb1e991b7f0f8fab43b2b1.js"></script>

    <script type="text/javascript">
    if ('Analytics' in window) {
      Analytics.viewed("docs", {
        docs_version: "2",
      });
    }
    </script>
  </body>

<!-- Mirrored from stripe.com/docs/charges?ref=quickstart by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:57 GMT -->
</html>
