<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from stripe.com/docs/connect/special-case-transfers by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
    <meta charset="utf-8">
    <meta name="google-site-verification" content="f0LCrdI6z4Fo8zld4sHCgo5SiUE4EYYRUa6KVeX3Mw8" />
    <meta name="csrf-token" content="PTs70_u7_ulhHYLXMYgKO1m4t9FdkZKNu4bkGuEy8sKkoS-u_X46rKxZpsj9gD9AcMY5VgE9Uy36M-4yROU4sw==">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Sending Custom Transfers</title>

    <meta name="description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <link rel="shortcut icon" href="../../favicon.ico">

    <link rel="apple-touch-icon-precomposed" href="../../img/apple-touch-icon/180x180.png">
    <link rel="icon" href="../../img/apple-touch-icon/180x180.png">


    <link rel="image_src" type="image/png" href="../../img/v3/home/social.png">

    <meta property="og:title" content="Sending Custom Transfers">
    <meta property="og:url" content="special-case-transfers.html">
    <meta property="og:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">
    <meta property="og:image" content="../../img/v3/home/social.png">

      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="../../img/v3/home/twitter.png">
    <meta name="twitter:site" content="@stripe">
    <meta name="twitter:title" content="Sending Custom Transfers">
    <meta name="twitter:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <script type="application/json" id="strut_files">{&quot;v3/shared/navigation_ie10.css&quot;:&quot;/assets/v3/shared/navigation_ie10-ec238f46e7cb9867e3c1b529e2cfa37b.css&quot;}</script>

    

    

    <link rel="stylesheet" href="../../assets/v3/default-ef2bff54073622b9e08cf24466b5668f.css">
    <link rel="stylesheet" href="../../assets/v3/shared/common-d0fb03fa2d48fcf29010779ca9a12b2c.css">
    <link rel="stylesheet" href="../../assets/v3/documentation/base-47c1fd7d3d670e4e08df8f5a67b20dea.css">
    <link rel="stylesheet" href="../../assets/v3/shared/prism_light-6d08c6ec0d72453693d775c3b96629c0.css">
    
    
    <meta name="viewport" content="width=1060">
    <meta name="robots" content="noarchive">
  </head>
  <body class="">
    
    <div id="docs">
      <div id="sidebar">
        <div class="logo">
          <a class="site" href="../../index.html" title="Stripe"></a>
          <a class="extension" href="../../docs.html">docs</a>
        </div>
        <div class="nav-border"></div>
        <nav>
          <h1 class="home"><a href="../../docs.html">Home</a></h1>
          <h1 class="payments"><a class="toggle-content">Payments</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../quickstart.html">Quickstart</a>
    </li>
    <li class="category">Collecting payment details
    </li>
    <li>
      <a href="../checkout/tutorial.html">Checkout</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../checkout.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../custom-form.html">Stripe.js</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../stripe.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../mobile/ios.html">iOS</a>
    </li>
    <li>
      <a href="../mobile/android.html">Android</a>
    </li>
    <li class="category">Charges
    </li>
    <li>
      <a href="../charges.html">Creating Charges</a>
    </li>
    <li>
      <a href="../declines.html">Declines &amp; Failed Payments</a>
    </li>
    <li>
      <a href="../disputes.html">Disputes</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../disputes/evidence.html">Submitting Evidence</a>
    </li>
    <li>
      <a href="../disputes/types.html">Types</a>
    </li>
    <li>
      <a href="../disputes/faq.html">FAQ</a>
    </li>
</ul>

    </li>
    <li class="category">Products &amp; Orders
    </li>
    <li>
      <a href="../orders.html">Orders</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../orders/guide.html">Guide</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../orders/tax-integration.html">Tax Integrations</a>
    </li>
    <li>
      <a href="../orders/shipping-integration.html">Shipping Integrations</a>
    </li>
    <li>
      <a href="../sources.html">Getting Started</a>
    </li>
    <li>
      <a href="../sources/payment-methods.html">Payment Methods</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../sources/cards.html">Cards</a>
    </li>
    <li>
      <a href="../sources/3d-secure.html">3D Secure</a>
    </li>
    <li>
      <a href="../sources/bancontact.html">Bancontact</a>
    </li>
    <li>
      <a href="../sources/giropay.html">Giropay</a>
    </li>
    <li>
      <a href="../sources/ideal.html">iDEAL</a>
    </li>
    <li>
      <a href="../sources/sepa-direct-debit.html">SEPA Direct Debit</a>
    </li>
    <li>
      <a href="../sources/sofort.html">Sofort</a>
    </li>
</ul>

    </li>
    <li class="category">Other Payment Methods
    </li>
    <li>
      <a href="../ach.html">ACH</a>
    </li>
    <li>
      <a href="../apple-pay.html">Apple Pay</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../apple-pay/apps.html">Apple Pay in Apps</a>
    </li>
    <li>
      <a href="../apple-pay/web.html">Apple Pay on the Web</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../alipay.html">Alipay</a>
    </li>
    <li>
      <a href="../bitcoin.html">Bitcoin</a>
    </li>
    <li class='separator'>
      <a href="../testing.html">Testing</a>
    </li>
</ul>

          <h1 class="subscriptions"><a class="toggle-content">Subscriptions</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../subscriptions/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="../subscriptions/creating.html">Creating Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="../subscriptions/discounts.html">Applying Discounts</a>
    </li>
    <li>
      <a href="../subscriptions/trials.html">Using Trial Periods</a>
    </li>
    <li>
      <a href="../subscriptions/quantities.html">Setting Quantities</a>
    </li>
    <li>
      <a href="../subscriptions/taxes.html">Adding Taxes</a>
    </li>
    <li>
      <a href="../subscriptions/multiple.html">Multiple Subscriptions</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../subscriptions/lifecycle.html">Lifecycle &amp; Events</a>
    </li>
    <li>
      <a href="../subscriptions/webhooks.html">Using Webhooks</a>
    </li>
    <li>
      <a href="../subscriptions/changing.html">Changing Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="../subscriptions/upgrading-downgrading.html">Upgrading &amp; Downgrading</a>
    </li>
    <li>
      <a href="../subscriptions/billing-cycle.html">Billing Cycle</a>
    </li>
    <li>
      <a href="../subscriptions/canceling-pausing.html">Canceling &amp; Pausing</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../subscriptions/invoices.html">Working with Invoices</a>
      <ul data-collapsable=false>
</ul>

    </li>
    <li>
      <a href="../subscriptions/plans.html">Managing Plans</a>
    </li>
    <li>
      <a href="../subscriptions/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="connect"><a class="toggle-content">Connect</a></h1>
<ul>
    <li>
      <a href="../connect.html">Overview</a>
    </li>
    <li>
      <a href="connecting-to-accounts.html">Connecting to Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="authentication.html">Authentication</a>
    </li>
</ul>

    </li>
    <li>
      <a href="standalone-accounts.html">Standalone Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="reference.html">OAuth Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="managed-accounts.html">Managed Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="updating-accounts.html">Updating Accounts</a>
    </li>
    <li>
      <a href="identity-verification.html">Identity Verification</a>
    </li>
    <li>
      <a href="required-verification-information.html">Verification Fields</a>
    </li>
    <li>
      <a href="testing-verification.html">Testing Verification</a>
    </li>
    <li>
      <a href="bank-transfers.html">Bank Transfers</a>
    </li>
    <li>
      <a href="migrating.html">Migrating Recipients</a>
    </li>
    <li>
      <a href="best-practices.html">Best Practices</a>
    </li>
</ul>

    </li>
    <li>
      <a href="payments-fees.html">Payments and Fees</a>
    </li>
    <li>
      <a class='selected' href="special-case-transfers.html">Special-case Transfers</a>
    </li>
    <li class='separator'>
      <a href="testing.html">Testing</a>
    </li>
</ul>

          <h1 class="relay"><a class="toggle-content">Relay</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../relay.html">Selling in Other Apps</a>
    </li>
    <li>
      <a href="../relay/apps-guide.html">Accepting Orders in Your App</a>
      <ul data-collapsable=false>
    <li>
      <a href="../relay/apps-error-guide.html">Error Handling</a>
    </li>
</ul>

    </li>
</ul>

          <h1 class="radar"><a class="toggle-content">Radar</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../radar.html">Overview</a>
    </li>
    <li>
      <a href="../radar/risk-evaluation.html">Risk Evaluation</a>
    </li>
    <li>
      <a href="../radar/review.html">Review</a>
      <ul data-collapsable=false>
    <li>
      <a href="../radar/review/auth-and-capture.html">Uncaptured Payments</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../radar/rules.html">Rules</a>
      <ul data-collapsable=false>
    <li>
      <a href="../radar/rules/reference.html">Reference</a>
    </li>
</ul>

    </li>
    <li class='separator'>
      <a href="../radar/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="account"><a class="toggle-content">Account</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../dashboard.html">Your Account</a>
    </li>
    <li>
      <a href="../checklist.html">Going Live Checklist</a>
    </li>
    <li>
      <a href="../transfers.html">Getting Paid</a>
    </li>
    <li>
      <a href="../reporting.html">Reporting</a>
    </li>
</ul>

          <h1 class="api"><a class="toggle-content">Development</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../libraries.html">API Libraries</a>
    </li>
    <li>
      <a href="../upgrades.html">API Upgrades</a>
    </li>
    <li>
      <a href="../webhooks.html">Webhooks</a>
    </li>
    <li>
      <a href="../building-integrations.html">Integrations</a>
    </li>
    <li>
      <a href="../recipes.html">Recipes</a>
    </li>
    <li>
      <a href="../security.html">Security</a>
    </li>
</ul>


          <h1 class="references"><a href="../api.html" class="external" target="_blank">API Reference</a></h1>
        </nav>
      </div>
      <div id="content-wrapper" tabindex="0">
        <div class="overlay"></div>
        <header id="main-header">
          <nav>
            <ul class="external">
              <li><a href="https://support.stripe.com/">Support</a></li>

              <li class="button">
                <a data-adroll-segment='submit_two' href="https://dashboard.stripe.com/login">Sign in</a>
              </li>
            </ul>
          </nav>
        </header>
        <article id="content">
          <header>
  <h1>Special-case Transfers</h1>
  <p>If you're a platform, you may occasionally find it useful to make direct transfers to and from your connected accounts. If you need help after reading this, check out our answers to <a href="https://support.stripe.com/search?q=connect">common questions</a> or chat live with other developers in <a href="irc://irc.freenode.net/stripe">#stripe</a> on freenode.
</p>
</header>

<section>
  <aside class="note">
    <h3>Bank transfers</h3>
    <p>This guide only represents moving funds between Stripe accounts&mdash;if you're looking to control transfers for accounts you manage, you'll want to look at the <a href="bank-transfers.html">bank transfers guide</a>.</p>
  </aside>
  <p>Stripe provides the ability to move funds from your own Stripe balance into the Stripe balance of another account. However, this should not be the main way you pay out to your users, and is only permitted for specific scenarios.</p>
</section>

<section>
<h2 id="when-are-these-transfers-permitted">When are these transfers permitted?</h2>

<p>For compliance reasons, the vast majority of money moving around <em>must</em> be directly linked to an incoming charge (either by having been <a href="payments-fees.html#charging-directly">created on the connected account</a> or via use of the <a href="payments-fees.html#charging-through-the-platform"><code>destination</code> parameter</a>). When you use one of these methods, the funds are never available to you: they will end up either being refunded, or being paid out to the account holder’s bank account. This is the foundation of a compliant Stripe integration.</p>

<p>However, there are some situations where unlinked transfers are permitted. These generally can be described as “part of normal charge-based business operations”. A few examples of explicitly permitted uses of the transfers API:</p>

<ul>
  <li>A ride sharing service paying a bonus to drivers who work a certain number of hours in a week.</li>
  <li>A home cleaning service offering a coupon or otherwise taking a loss on a cleaning, and needing to fully compensate the cleaner.</li>
</ul>

<p>Another helpful rule of thumb is that, over time, the transfers API should be less than 10% of your overall net volume from all transactions performed. Being under this volume does not guarantee that you are compliant, but use cases significantly over that volume are unlikely to be permitted.</p>

<p>Need help figuring out if your use case makes sense? We’d be very <a href="https://support.stripe.com/email">happy to help</a>.</p></section>

<section>
<h2 id="transfer-scenarios">Transfer scenarios</h2>

<p>With the <a href="../api.html#create_transfer">API</a>, platforms can:</p>

<ul>
  <li>Transfer funds directly to another Stripe account.</li>
  <li>Tie a transfer to an existing charge.</li>
  <li>Take an application fee from a transfer.</li>
</ul>

<p>The three new parameters are explained individually below but can, and normally will, be used in some combination.</p>

<p>Note that, to use this API, you’ll need to switch the platform account to <a href="https://dashboard.stripe.com/account/transfers">manual transfers</a>. This switch disables automatic transfers to your bank account, thereby leaving funds in the Stripe account that can be sent by request to either your bank account or to third-party accounts.</p></section>

<section>
<h2 id="transferring-to-another-stripe-account">Transferring to another Stripe account</h2>

<p>Through Connect, you can transfer funds from the platform’s Stripe account to a connected Stripe account (as opposed to a bank account or debit card). This is done by making a POST request to <code>/v1/transfers</code>, passing the connected account ID in the new <code>destination</code> parameter.</p>
  <div class="tabs tabs-code animated" data-platform=server>
    <nav class="nav-languages">
        <a data-language="curl"
            class="selected">curl</a>
        <a data-language="ruby"
           >Ruby</a>
        <a data-language="python"
           >Python</a>
        <a data-language="php"
           >PHP</a>
        <a data-language="java"
           >Java</a>
        <a data-language="node"
           >Node</a>
    </nav>
    <div class="tabs-content">
      <div class="code">
  <pre class="language-curl numbered selected" ><code>curl https://api.stripe.com/v1/transfers \
   -u {PLATFORM_SECRET_KEY}: \
   -d amount=1000 \
   -d currency=usd \
   -d destination=&quot;{CONNECTED_STRIPE_ACCOUNT_ID}&quot;
</code></pre>
</div>
<div class="code">
  <pre class="language-ruby numbered" ><code>Stripe.api_key = PLATFORM_SECRET_KEY
Stripe::Transfer.create(
  :amount =&gt; 1000,
  :currency =&gt; &#39;usd&#39;,
  :destination =&gt; {CONNECTED_STRIPE_ACCOUNT_ID}
)
</code></pre>
</div>
<div class="code">
  <pre class="language-python numbered" ><code>stripe.api_key = PLATFORM_SECRET_KEY
stripe.Transfer.create(
  amount=1000,
  currency=&quot;usd&quot;,
  destination={CONNECTED_STRIPE_ACCOUNT_ID}
)
</code></pre>
</div>
<div class="code">
  <pre class="language-php numbered" ><code>\Stripe\Stripe::setApiKey(PLATFORM_SECRET_KEY);
\Stripe\Transfer::create(array(
  &#39;amount&#39; =&gt; 1000,
  &#39;currency&#39; =&gt; &quot;usd&quot;,
  &#39;destination&#39; =&gt; {CONNECTED_STRIPE_ACCOUNT_ID}
));
</code></pre>
</div>
<div class="code">
  <pre class="language-java numbered" ><code>Stripe.apiKey = PLATFORM_SECRET_KEY;

Map&lt;String, Object&gt; transferParams = new HashMap&lt;String, Object&gt;();
transferParams.put(&quot;amount&quot;, 1000);
transferParams.put(&quot;currency&quot;, &quot;usd&quot;);
transferParams.put(&quot;destination&quot;, {CONNECTED_STRIPE_ACCOUNT_ID});

Transfer.create(transferParams);
</code></pre>
</div>
<div class="code">
  <pre class="language-javascript numbered" ><code>var stripe = require(&#39;stripe&#39;)(PLATFORM_SECRET_KEY);
stripe.transfers.create(
  {
    amount: 1000,
    currency: &#39;usd&#39;,
    destination: {CONNECTED_STRIPE_ACCOUNT_ID}
  }
);
</code></pre>
</div>

    </div>
  </div>

<p>The destination account will see the transfer as a charge, subject to the same payout schedule and currency handling as a regular charge. Note that it is only possible to transfer funds to a connected account. You cannot transfer funds to an account not connected to the platform (which means funds also cannot be transferred from a connected account to the platform account).</p></section>

<section>
<h2 id="associating-a-transfer-with-a-charge">Associating a transfer with a charge</h2>

<p>Through the <code>source_transaction</code> parameter, you can tie a transfer to an existing charge:</p>
  <div class="tabs tabs-code animated" data-platform=server>
    <nav class="nav-languages">
        <a data-language="curl"
            class="selected">curl</a>
        <a data-language="ruby"
           >Ruby</a>
        <a data-language="python"
           >Python</a>
        <a data-language="php"
           >PHP</a>
        <a data-language="java"
           >Java</a>
        <a data-language="node"
           >Node</a>
    </nav>
    <div class="tabs-content">
      <div class="code">
  <pre class="language-curl numbered selected" ><code>curl https://api.stripe.com/v1/transfers \
   -u {PLATFORM_SECRET_KEY}: \
   -d amount=1000 \
   -d currency=usd \
   -d destination=&quot;{CONNECTED_STRIPE_ACCOUNT_ID}&quot; \
   -d source_transaction=&quot;{CHARGE_ID}&quot;
</code></pre>
</div>
<div class="code">
  <pre class="language-ruby numbered" ><code>Stripe.api_key = PLATFORM_SECRET_KEY
Stripe::Transfer.create(
  :amount =&gt; 1000,
  :currency =&gt; &#39;usd&#39;,
  :destination =&gt; {CONNECTED_STRIPE_ACCOUNT_ID},
  :source_transaction =&gt; {CHARGE_ID}
)
</code></pre>
</div>
<div class="code">
  <pre class="language-python numbered" ><code>stripe.api_key = PLATFORM_SECRET_KEY
stripe.Transfer.create(
  amount=1000,
  currency=&quot;usd&quot;,
  destination={CONNECTED_STRIPE_ACCOUNT_ID}
  source_transaction={CHARGE_ID}
)
</code></pre>
</div>
<div class="code">
  <pre class="language-php numbered" ><code>\Stripe\Stripe::setApiKey(PLATFORM_SECRET_KEY);
\Stripe\Transfer::create(array(
  &#39;amount&#39; =&gt; 1000,
  &#39;currency&#39; =&gt; &quot;usd&quot;,
  &#39;destination&#39; =&gt; {CONNECTED_STRIPE_ACCOUNT_ID},
  &#39;source_transaction&#39; =&gt; {CHARGE_ID}
));
</code></pre>
</div>
<div class="code">
  <pre class="language-java numbered" ><code>Stripe.apiKey = PLATFORM_SECRET_KEY;

Map&lt;String, Object&gt; transferParams = new HashMap&lt;String, Object&gt;();
transferParams.put(&quot;amount&quot;, 1000);
transferParams.put(&quot;currency&quot;, &quot;usd&quot;);
transferParams.put(&quot;destination&quot;, {CONNECTED_STRIPE_ACCOUNT_ID});
transferParams.put(&quot;source_transaction&quot;, {CHARGE_ID});

Transfer.create(transferParams);
</code></pre>
</div>
<div class="code">
  <pre class="language-javascript numbered" ><code>var stripe = require(&#39;stripe&#39;)(PLATFORM_SECRET_KEY);
stripe.transfers.create(
  {
    amount: 1000,
    currency: &#39;usd&#39;,
    destination: {CONNECTED_STRIPE_ACCOUNT_ID},
    source_transaction: {CHARGE_ID}
  }
);
</code></pre>
</div>

    </div>
  </div>

<p>By making this association, the transfer will take on the pending status of the charge: if the funds from the charge become available in N days, the payment that the
destination account receives from the transfer will also become available in N days. (For most Stripe accounts in the US, charges become available in two days.)</p>

<p>When using this parameter, the amount of the transfer must not exceed the amount of the source
charge. You may create multiple transfers with the same <code>source_transaction</code>, as long as the sum
of the transfers doesn’t exceed the source charge amount.</p>

<p>By using <code>source_transaction</code> with a transfer, you aren’t required to have funds in your available balance to make the transfer request
(unless the source transaction has already become available). However, when you do this, the source transaction will remain attributed to the platform for
tax and compliance purposes. <strong>Most use cases require the charge to be attributed to the connected account, so you’ll almost always want to use the <a href="payments-fees.html#charging-through-the-platform">destination field on the
charge</a> (which results in a transfer)
rather than manually creating a separate transfer in this manner.</strong></p>

<p>An example case where you would use <code>source_transaction</code> instead of the <code>destination</code> field on the charge is a platform
that sells virtual gift cards that can be used with any of its sellers. In that case, the charge is
intended for the platform as a whole, and leaving off <code>destination</code> on the charge but separately
transferring it to a connected account (representing the seller) would be appropriate. However, as
mentioned above, such usage would still need to be a small percentage of charges on the platform.</p></section>

<section>
<h2 id="taking-application-fees-from-a-transfer">Taking application fees from a transfer</h2>

<p>Connect lets you take an application fee as part of a transfer (not just as part of a charge):</p>
  <div class="tabs tabs-code animated" data-platform=server>
    <nav class="nav-languages">
        <a data-language="curl"
            class="selected">curl</a>
        <a data-language="ruby"
           >Ruby</a>
        <a data-language="python"
           >Python</a>
        <a data-language="php"
           >PHP</a>
        <a data-language="java"
           >Java</a>
        <a data-language="node"
           >Node</a>
    </nav>
    <div class="tabs-content">
      <div class="code">
  <pre class="language-curl numbered selected" ><code>curl https://api.stripe.com/v1/transfers \
   -u {PLATFORM_SECRET_KEY}: \
   -d amount=1000 \
   -d currency=usd \
   -d destination=&quot;{CONNECTED_STRIPE_ACCOUNT_ID}&quot; \
   -d application_fee=200
</code></pre>
</div>
<div class="code">
  <pre class="language-ruby numbered" ><code>Stripe.api_key = PLATFORM_SECRET_KEY
Stripe::Transfer.create(
  :amount =&gt; 1000,
  :currency =&gt; &#39;usd&#39;,
  :destination =&gt; {CONNECTED_STRIPE_ACCOUNT_ID},
  :application_fee =&gt; 200
)
</code></pre>
</div>
<div class="code">
  <pre class="language-python numbered" ><code>stripe.api_key = PLATFORM_SECRET_KEY
stripe.Transfer.create(
  amount=1000,
  currency=&quot;usd&quot;,
  destination={CONNECTED_STRIPE_ACCOUNT_ID}
  application_fee=200
)
</code></pre>
</div>
<div class="code">
  <pre class="language-php numbered" ><code>\Stripe\Stripe::setApiKey(PLATFORM_SECRET_KEY);
\Stripe\Transfer::create(array(
  &#39;amount&#39; =&gt; 1000,
  &#39;currency&#39; =&gt; &quot;usd&quot;,
  &#39;destination&#39; =&gt; {CONNECTED_STRIPE_ACCOUNT_ID},
  &#39;application_fee&#39; =&gt; 200
));
</code></pre>
</div>
<div class="code">
  <pre class="language-java numbered" ><code>Stripe.apiKey = PLATFORM_SECRET_KEY;

Map&lt;String, Object&gt; transferParams = new HashMap&lt;String, Object&gt;();
transferParams.put(&quot;amount&quot;, 1000);
transferParams.put(&quot;currency&quot;, &quot;usd&quot;);
transferParams.put(&quot;destination&quot;, {CONNECTED_STRIPE_ACCOUNT_ID});
transferParams.put(&quot;application_fee&quot;, 200);

Transfer.create(transferParams);
</code></pre>
</div>
<div class="code">
  <pre class="language-javascript numbered" ><code>var stripe = require(&#39;stripe&#39;)(PLATFORM_SECRET_KEY);
stripe.transfers.create(
  {
    amount: 1000,
    currency: &#39;usd&#39;,
    destination: {CONNECTED_STRIPE_ACCOUNT_ID},
    application_fee: 200
  }
);
</code></pre>
</div>

    </div>
  </div>

<p>When this parameter is set, the payment on the destination account will be created with an
application fee for this amount. This only affects accounting; a transfer with an amount of 1000 and
an <code>application_fee</code> of 200 will result in the same net balance (for both the platform and the connected account)
as a transfer with an amount of 800 and no application fee, assuming no currency conversion needs to happen.</p></section>

<section>
<h2 id="reversing-a-transfer">Reversing a transfer</h2>

<p>You may <a href="../api.html#create_transfer_reversal">reverse a transfer</a> made to a connected account, either entirely or partially. You may also specify whether or not to refund any related application fees.</p>
  <div class="tabs tabs-code animated" data-platform=server>
    <nav class="nav-languages">
        <a data-language="curl"
            class="selected">curl</a>
        <a data-language="ruby"
           >Ruby</a>
        <a data-language="python"
           >Python</a>
        <a data-language="php"
           >PHP</a>
        <a data-language="java"
           >Java</a>
        <a data-language="node"
           >Node</a>
    </nav>
    <div class="tabs-content">
      <div class="code">
  <pre class="language-curl numbered selected" ><code>curl https://api.stripe.com/v1/transfers/{TRANSFER_ID}/reversals \
   -u {PLATFORM_SECRET_KEY}: \
   -d amount=1000 \
   -d refund_application_fee=true
</code></pre>
</div>
<div class="code">
  <pre class="language-ruby numbered" ><code>Stripe.api_key = PLATFORM_SECRET_KEY
tr = Stripe::Transfer.retrieve({TRANSFER_ID})
tr.reversals.create(
  :amount =&gt; 1000,
  :refund_application_fee =&gt; true
)
</code></pre>
</div>
<div class="code">
  <pre class="language-python numbered" ><code>stripe.api_key = PLATFORM_SECRET_KEY
tr = stripe.Transfer.retrieve({TRANSFER_ID})
tr.reversals.create(
  amount=1000,
  refund_application_fee=True
)
</code></pre>
</div>
<div class="code">
  <pre class="language-php numbered" ><code>\Stripe\Stripe::setApiKey(PLATFORM_SECRET_KEY);
$tr = \Stripe\Transfer::retrieve({TRANSFER_ID});
$tr-&gt;reversals-&gt;create(array(
  &quot;amount&quot; =&gt; 1000,
  &quot;refund_application_fee&quot; =&gt; true
));
</code></pre>
</div>
<div class="code">
  <pre class="language-java numbered" ><code>Stripe.apiKey = PLATFORM_SECRET_KEY;

Transfer tr = Transfer.retrieve({TRANSFER_ID});

Map&lt;String, Object&gt; reversalParams = new HashMap&lt;String, Object&gt;();
reversalParams.put(&quot;amount&quot;, 1000);
reversalParams.put(&quot;refund_application_fee&quot;, true);
tr.getReversals().create(reversalParams);
</code></pre>
</div>
<div class="code">
  <pre class="language-javascript numbered" ><code>var stripe = require(&#39;stripe&#39;)(PLATFORM_SECRET_KEY);
stripe.transfers.createReversal(
  {TRANSFER_ID},
  {
    amount: 1000,
    refund_application_fee: true
  }
);
</code></pre>
</div>

    </div>
  </div>

<p>Transfer reversals will add to your balance and subtract from the destination’s balance. It is only possible to reverse a special-case transfer if the destination has enough balance to cover the reversal.</p>

<p>Reversing a transfer that was made for a <a href="payments-fees.html#charging-through-the-platform">charge with a destination</a>,
is only allowed up to the amount of the charge. The charge and the transfer can be refunded at the same time using the
<a href="payments-fees.html#issuing-refunds"><code>reverse_transfer</code> parameter</a>
on the charge refund API.</p></section>

<section>
  <h2>Further reading</h2>
  <p>Keep reading to discover what other functionality is available for your users.</p>
<ul class="next-steps">
    <li><a href="payments-fees.html"><span>Payments and fees</a></li>
</ul>

</section>


          <footer>
  <h2>Questions?</h2>
  <p>We're always happy to help with code or other questions you might have! <a href="https://support.stripe.com/">Search</a> our site for more information, <a href="https://support.stripe.com/email">send us an email</a>, or <a href="../../contact/sales.html">get in touch</a> with our sales team!</p>
</footer>

        </article>
      </div>
    </div>

    <div id="loading-bar"></div>

    <script src="../../assets/external/jquery.min-94df374d2ad5d02ae136584dc008fb1c.js"></script>
    <script src="../../assets/prism-aa9f4cb7aff3f31b5394455bcbea0d8b.js"></script>
    <script src="../../assets/external/dynamics.min-14579f80273a61e6d0f4f45484e20dc7.js"></script>
    <script src="../../assets/jquery.cookie-d7482a1bbfda18d981eda4398666acdd.js"></script>
    <script src="../../assets/documentation-84c208e01668170139f2f511cfc37644.js"></script>
    <script>
      parseKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2", "secret-key", null);
      parseKey("pk_test_6pRNASCoBOKtIshFeQd4XMUh", "publishable-key", null);
    </script>
      <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

    
    <script src="../../assets/config-aead70c07cdca45cec67e4141bf18edc.js"></script>
    
<script type="application/json" id="analytics_config">{&quot;mixpanel&quot;:{&quot;identifier&quot;:&quot;eb71b6171a4f7ed97de9b7a0395b7ca5&quot;},&quot;ga&quot;:{},&quot;trackpage&quot;:true}</script>

<script src="https://js.stripe.com/internal/v2/analytics.min.js"></script>
<script src="../../assets/analytics-e800ab0ba76de2b697ea3f61c673695b.js"></script>
<script src="https://js.stripe.com/v2/m.js"></script>
<script src="../../assets/mirador_ping-6bba7d3d9fbb1e991b7f0f8fab43b2b1.js"></script>

    <script type="text/javascript">
    if ('Analytics' in window) {
      Analytics.viewed("docs", {
        docs_version: "2",
      });
    }
    </script>
  </body>

<!-- Mirrored from stripe.com/docs/connect/special-case-transfers by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:53 GMT -->
</html>
