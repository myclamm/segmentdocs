<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from stripe.com/docs/connect/reference by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
    <meta charset="utf-8">
    <meta name="google-site-verification" content="f0LCrdI6z4Fo8zld4sHCgo5SiUE4EYYRUa6KVeX3Mw8" />
    <meta name="csrf-token" content="4B-nlmpggBMHwT-tkdP3xcb8WwRjSeGjoJAkOyBlqOt5hbPrbKVEVsqFG7Jd28K-74LVgz_lIAPhJS4ThbJimg==">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Connect OAuth Reference</title>

    <meta name="description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <link rel="shortcut icon" href="../../favicon.ico">

    <link rel="apple-touch-icon-precomposed" href="../../img/apple-touch-icon/180x180.png">
    <link rel="icon" href="../../img/apple-touch-icon/180x180.png">


    <link rel="image_src" type="image/png" href="../../img/v3/home/social.png">

    <meta property="og:title" content="Connect OAuth Reference">
    <meta property="og:url" content="reference.html">
    <meta property="og:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">
    <meta property="og:image" content="../../img/v3/home/social.png">

      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="../../img/v3/home/twitter.png">
    <meta name="twitter:site" content="@stripe">
    <meta name="twitter:title" content="Connect OAuth Reference">
    <meta name="twitter:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <script type="application/json" id="strut_files">{&quot;v3/shared/navigation_ie10.css&quot;:&quot;/assets/v3/shared/navigation_ie10-ec238f46e7cb9867e3c1b529e2cfa37b.css&quot;}</script>

    

    

    <link rel="stylesheet" href="../../assets/v3/default-ef2bff54073622b9e08cf24466b5668f.css">
    <link rel="stylesheet" href="../../assets/v3/shared/common-d0fb03fa2d48fcf29010779ca9a12b2c.css">
    <link rel="stylesheet" href="../../assets/v3/documentation/base-47c1fd7d3d670e4e08df8f5a67b20dea.css">
    <link rel="stylesheet" href="../../assets/v3/shared/prism_light-6d08c6ec0d72453693d775c3b96629c0.css">
    
    
    <meta name="viewport" content="width=1060">
    <meta name="robots" content="noarchive">
  </head>
  <body class="">
    
    <div id="docs">
      <div id="sidebar">
        <div class="logo">
          <a class="site" href="../../index.html" title="Stripe"></a>
          <a class="extension" href="../../docs.html">docs</a>
        </div>
        <div class="nav-border"></div>
        <nav>
          <h1 class="home"><a href="../../docs.html">Home</a></h1>
          <h1 class="payments"><a class="toggle-content">Payments</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../quickstart.html">Quickstart</a>
    </li>
    <li class="category">Collecting payment details
    </li>
    <li>
      <a href="../checkout/tutorial.html">Checkout</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../checkout.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../custom-form.html">Stripe.js</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../stripe.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../mobile/ios.html">iOS</a>
    </li>
    <li>
      <a href="../mobile/android.html">Android</a>
    </li>
    <li class="category">Charges
    </li>
    <li>
      <a href="../charges.html">Creating Charges</a>
    </li>
    <li>
      <a href="../declines.html">Declines &amp; Failed Payments</a>
    </li>
    <li>
      <a href="../disputes.html">Disputes</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../disputes/evidence.html">Submitting Evidence</a>
    </li>
    <li>
      <a href="../disputes/types.html">Types</a>
    </li>
    <li>
      <a href="../disputes/faq.html">FAQ</a>
    </li>
</ul>

    </li>
    <li class="category">Products &amp; Orders
    </li>
    <li>
      <a href="../orders.html">Orders</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../orders/guide.html">Guide</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../orders/tax-integration.html">Tax Integrations</a>
    </li>
    <li>
      <a href="../orders/shipping-integration.html">Shipping Integrations</a>
    </li>
    <li>
      <a href="../sources.html">Getting Started</a>
    </li>
    <li>
      <a href="../sources/payment-methods.html">Payment Methods</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../sources/cards.html">Cards</a>
    </li>
    <li>
      <a href="../sources/3d-secure.html">3D Secure</a>
    </li>
    <li>
      <a href="../sources/bancontact.html">Bancontact</a>
    </li>
    <li>
      <a href="../sources/giropay.html">Giropay</a>
    </li>
    <li>
      <a href="../sources/ideal.html">iDEAL</a>
    </li>
    <li>
      <a href="../sources/sepa-direct-debit.html">SEPA Direct Debit</a>
    </li>
    <li>
      <a href="../sources/sofort.html">Sofort</a>
    </li>
</ul>

    </li>
    <li class="category">Other Payment Methods
    </li>
    <li>
      <a href="../ach.html">ACH</a>
    </li>
    <li>
      <a href="../apple-pay.html">Apple Pay</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="../apple-pay/apps.html">Apple Pay in Apps</a>
    </li>
    <li>
      <a href="../apple-pay/web.html">Apple Pay on the Web</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../alipay.html">Alipay</a>
    </li>
    <li>
      <a href="../bitcoin.html">Bitcoin</a>
    </li>
    <li class='separator'>
      <a href="../testing.html">Testing</a>
    </li>
</ul>

          <h1 class="subscriptions"><a class="toggle-content">Subscriptions</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../subscriptions/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="../subscriptions/creating.html">Creating Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="../subscriptions/discounts.html">Applying Discounts</a>
    </li>
    <li>
      <a href="../subscriptions/trials.html">Using Trial Periods</a>
    </li>
    <li>
      <a href="../subscriptions/quantities.html">Setting Quantities</a>
    </li>
    <li>
      <a href="../subscriptions/taxes.html">Adding Taxes</a>
    </li>
    <li>
      <a href="../subscriptions/multiple.html">Multiple Subscriptions</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../subscriptions/lifecycle.html">Lifecycle &amp; Events</a>
    </li>
    <li>
      <a href="../subscriptions/webhooks.html">Using Webhooks</a>
    </li>
    <li>
      <a href="../subscriptions/changing.html">Changing Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="../subscriptions/upgrading-downgrading.html">Upgrading &amp; Downgrading</a>
    </li>
    <li>
      <a href="../subscriptions/billing-cycle.html">Billing Cycle</a>
    </li>
    <li>
      <a href="../subscriptions/canceling-pausing.html">Canceling &amp; Pausing</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../subscriptions/invoices.html">Working with Invoices</a>
      <ul data-collapsable=false>
</ul>

    </li>
    <li>
      <a href="../subscriptions/plans.html">Managing Plans</a>
    </li>
    <li>
      <a href="../subscriptions/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="connect"><a class="toggle-content">Connect</a></h1>
<ul>
    <li>
      <a href="../connect.html">Overview</a>
    </li>
    <li>
      <a href="connecting-to-accounts.html">Connecting to Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="authentication.html">Authentication</a>
    </li>
</ul>

    </li>
    <li>
      <a href="standalone-accounts.html">Standalone Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a class='selected' href="reference.html">OAuth Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="managed-accounts.html">Managed Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="updating-accounts.html">Updating Accounts</a>
    </li>
    <li>
      <a href="identity-verification.html">Identity Verification</a>
    </li>
    <li>
      <a href="required-verification-information.html">Verification Fields</a>
    </li>
    <li>
      <a href="testing-verification.html">Testing Verification</a>
    </li>
    <li>
      <a href="bank-transfers.html">Bank Transfers</a>
    </li>
    <li>
      <a href="migrating.html">Migrating Recipients</a>
    </li>
    <li>
      <a href="best-practices.html">Best Practices</a>
    </li>
</ul>

    </li>
    <li>
      <a href="payments-fees.html">Payments and Fees</a>
    </li>
    <li>
      <a href="special-case-transfers.html">Special-case Transfers</a>
    </li>
    <li class='separator'>
      <a href="testing.html">Testing</a>
    </li>
</ul>

          <h1 class="relay"><a class="toggle-content">Relay</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../relay.html">Selling in Other Apps</a>
    </li>
    <li>
      <a href="../relay/apps-guide.html">Accepting Orders in Your App</a>
      <ul data-collapsable=false>
    <li>
      <a href="../relay/apps-error-guide.html">Error Handling</a>
    </li>
</ul>

    </li>
</ul>

          <h1 class="radar"><a class="toggle-content">Radar</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../radar.html">Overview</a>
    </li>
    <li>
      <a href="../radar/risk-evaluation.html">Risk Evaluation</a>
    </li>
    <li>
      <a href="../radar/review.html">Review</a>
      <ul data-collapsable=false>
    <li>
      <a href="../radar/review/auth-and-capture.html">Uncaptured Payments</a>
    </li>
</ul>

    </li>
    <li>
      <a href="../radar/rules.html">Rules</a>
      <ul data-collapsable=false>
    <li>
      <a href="../radar/rules/reference.html">Reference</a>
    </li>
</ul>

    </li>
    <li class='separator'>
      <a href="../radar/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="account"><a class="toggle-content">Account</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../dashboard.html">Your Account</a>
    </li>
    <li>
      <a href="../checklist.html">Going Live Checklist</a>
    </li>
    <li>
      <a href="../transfers.html">Getting Paid</a>
    </li>
    <li>
      <a href="../reporting.html">Reporting</a>
    </li>
</ul>

          <h1 class="api"><a class="toggle-content">Development</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="../libraries.html">API Libraries</a>
    </li>
    <li>
      <a href="../upgrades.html">API Upgrades</a>
    </li>
    <li>
      <a href="../webhooks.html">Webhooks</a>
    </li>
    <li>
      <a href="../building-integrations.html">Integrations</a>
    </li>
    <li>
      <a href="../recipes.html">Recipes</a>
    </li>
    <li>
      <a href="../security.html">Security</a>
    </li>
</ul>


          <h1 class="references"><a href="../api.html" class="external" target="_blank">API Reference</a></h1>
        </nav>
      </div>
      <div id="content-wrapper" tabindex="0">
        <div class="overlay"></div>
        <header id="main-header">
          <nav>
            <ul class="external">
              <li><a href="https://support.stripe.com/">Support</a></li>

              <li class="button">
                <a data-adroll-segment='submit_two' href="https://dashboard.stripe.com/login">Sign in</a>
              </li>
            </ul>
          </nav>
        </header>
        <article id="content">
          <header>
  <h1>Connect OAuth Reference</h1>
  <p>This reference lists available public methods for our OAuth endpoints. If you need help after reading this, check out our answers to <a href="https://support.stripe.com/search?q=connect">common questions</a> or chat live with other developers in <a href="irc://irc.freenode.net/stripe">#stripe</a> on freenode.
</p>
</header>

<section>
  <h2 id="get-authorize">GET https://connect.stripe.com/oauth/authorize</h2>

  <h3 id="get-authorize-request">Request</h3>
  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>client_id</code></td>
        <td>
          <p>The unique identifier provided to your application, found in your <a href="https://dashboard.stripe.com/account/applications/settings">application settings</a>.</p>
        </td>
      </tr>
      <tr>
        <td><code>response_type</code></td>
        <td>
          <p>The only option at the moment is <code>code</code>.</p>
        </td>
      </tr>
      <tr>
        <td><code>redirect_uri</code><span class="tag optional">Optional</span></td>
        <td>
          <p>The URL for the authorize <a href="#get-authorize-response">response</a> redirect. If provided, this <strong>must</strong> exactly match one of the comma-separated <code>redirect_uri</code> values in your <a href="https://dashboard.stripe.com/account/applications/settings">application settings</a>.</p>

          <p>In order to protect yourself from certain forms of man-in-the-middle attacks, we require that the livemode <code>redirect_uri</code> are secure HTTPS connections. This means that any livemode <code>redirect_uri</code> must start with <code>https://</code> rather than just <code>http://</code>.</p>

          <p>Defaults to the <code>redirect_uri</code> in your application settings if not provided.</p>
        </td>
      </tr>
      <tr>
        <td><code>scope</code><span class="tag optional">Optional</span></td>
        <td>
          <p><code>read_write</code> or <code>read_only</code>, depending on the level of access you need.</p>

          <p>Defaults to <code>read_only</code>.</p>
        </td>
      </tr>
      <tr>
        <td><code>state</code><span class="tag optional">Optional</span></td>
        <td>
          <p>An arbitrary string value we will pass back to you, useful for CSRF protection.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_landing</code><span class="tag optional">Optional</span></td>
        <td>
          <p><code>login</code> or <code>register</code>, depending on what type of screen you want your users to see. You should <strong>only</strong> override this to be <code>login</code> if you expect all of your users to have Stripe accounts already (e.g. most read-only applications, like analytics dashboards or accounting software).</p>

          <p>Defaults to <code>login</code> for scope <code>read_only</code> and <code>register</code> for scope <code>read_write</code>.</p>
        </td>
      </tr>
      <tr>
        <td><code>always_prompt</code><span class="tag optional">Optional</span></td>
        <td>
          <p>Boolean to indicate that the user should always be asked to connect, even if they're already connected.</p>

          <p>Defaults to <code>false</code>.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <p>The following query string parameters are <strong>all optional</strong>; we will use them to prefill details in the account form for new users. Some prefilled fields (e.g. URL or product category) may be automatically hidden from the user's view. Any parameters with invalid values will silently be ignored. </p>

  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>stripe_user[email]</code><span class="tag recommended">Recommended</span></td>
        <td>
          <p>The user's email address. Must be a valid email format.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[url]</code><span class="tag recommended">Recommended</span></td>
        <td>
          <p>The URL for the user's business. This may be the user's website, a profile page within your application, or another <strong>publicly available</strong> profile for the business, such as a LinkedIn or Facebook profile.</p>

          <p>Must be URL-encoded and include a scheme (<code>http</code> or <code>https</code>).</p>

          <p>If you will be prefilling this field, we highly recommend that the linked page contain a minimum of a description of the user's products or services and contact information. If we don't have enough information, we'll have to reach out to the user directly before initiating payouts.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[country]</code></td>
        <td>
          <p>Two-letter country code. E.g. "US" or "CA".</p>
          <p>Must be a country that Stripe currently supports.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[phone_number]</code></td>
        <td>
          <p>The business phone number. Must be 10 digits only.</p>
          <p>Must also prefill <code>stripe_user[country]</code> with the corresponding country.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[business_name]</code></td>
        <td>
          <p>The legal name of the business, also used for the statement descriptor.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[business_type]</code></td>
        <td>
          <p>The type of the business.</p>
          <p>Must be one of <code>sole_prop</code>, <code>corporation</code>, <code>non_profit</code>, <code>partnership</code>, or <code>llc</code>.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[first_name]</code></td>
        <td>
          <p>First name of the person who will be filling out a Stripe application.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[last_name]</code></td>
        <td>
          <p>Last name of the person who will be filling out a Stripe application.</p>
        </td>
      </tr>
      <tr>
        <td>
          <code>stripe_user[dob_day]</code>
          <code>stripe_user[dob_month]</code>
          <code>stripe_user[dob_year]</code>
        </td>
        <td>
          <p>Day (<code>0</code>-<code>31</code>), month (<code>1</code>-<code>12</code>), and year (<code>YYYY</code>, greater than 1900) for the birth date of the person who will be filling out a Stripe application.</p>
          <p><strong>All three are required.</strong></p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[street_address]</code></td>
        <td>
          <p>Street address of the business.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[city]</code></td>
        <td>
          <p>Address city of the business.</p>
          <p>We highly recommend that you also prefill <code>stripe_user[country]</code> with the corresponding country.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[state]</code></td>
        <td>
          <p>Address state of the business. Must be the two-letter state or province code, e.g. "NY" for a U.S. business or 'AB' for a Canadian one.</p>
          <p>Must also prefill <code>stripe_user[country]</code> with the corresponding country.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[zip]</code></td>
        <td>
          <p>Address ZIP code of the business. Must be a string.</p>
          <p>We highly recommend that you also prefill <code>stripe_user[country]</code> with the corresponding country.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[physical_product]</code></td>
        <td>
          <p><code>true</code> if the user sells a physical product, <code>false</code> otherwise, as a string.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[shipping_days]</code></td>
        <td>
          <p>Only used if the user sells a physical product, an integer that
            represents the average number of days it takes this business to ship a product.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[product_category]</code></td>
        <td>
          <p>The type of product this business deals with. Should be one of these values:</p>
          <ul>
              <li><code>art_and_graphic_design</code></li>
              <li><code>advertising</code></li>
              <li><code>charity</code></li>
              <li><code>clothing_and_accessories</code></li>
              <li><code>consulting</code></li>
              <li><code>clubs_and_membership_organizations</code></li>
              <li><code>education</code></li>
              <li><code>events_and_ticketing</code></li>
              <li><code>food_and_restaurants</code></li>
              <li><code>software</code></li>
              <li><code>professional_services</code></li>
              <li><code>tourism_and_travel</code></li>
              <li><code>web_development</code></li>
              <li><code>other</code></li>
          </ul>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[product_description]</code></td>
        <td>
          <p>A description of what the business is accepting payments for.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[average_payment]</code></td>
        <td>
          <p>Average amount per payment for the business. Must be an integer (in dollars), e.g. 10000 for $10,000.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[past_year_volume]</code></td>
        <td>
          <p>The estimated past year's volume for the business. Must be an integer (in dollars), e.g. 10000 for $10,000.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user[currency]</code></td>
        <td>
          <p>Three-letter <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO code</a> representing currency. E.g. "usd" or "cad".</p>
          <p>Must be a valid country/currency combination that Stripe supports.</p>
          <p>Must prefill <code>stripe_user[country]</code> with the corresponding country.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="get-authorize-response">Response</h3>
  <p>The user's browser will be redirected back to your <a href="https://dashboard.stripe.com/account/applications/settings">configured redirect URI</a> or the value you passed in the <code>redirect_uri</code> parameter. When successful, you should receive the following query parameters:</p>

  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>code</code></td>
        <td>
          <p>An authorization code you can use in the next call to get an access token for your user. This can only be used once and expires in 5 minutes.</p>
        </td>
      </tr>
      <tr>
        <td><code>scope</code></td>
        <td>
          <p><code>read_write</code> or <code>read_only</code>, depending what you passed on the initial GET request.</p>
        </td>
      </tr>
      <tr>
        <td><code>state</code></td>
        <td>
          <p>The value of the <code>state</code> parameter you provided on the initial GET request.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="get-authorize-errors">Error Response</h3>
  <p>In case of an error, the user's browser will <em>not</em> be redirected except in the case of <code>access_denied</code>. Instead, errors will be returned in a JSON dictionary with the following fields:</p>

  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>error</code></td>
        <td>
          <p>A unique <a href="#get-authorize-error-codes">error code</a> per error type.</p>
        </td>
      </tr>
      <tr>
        <td><code>error_description</code></td>
        <td>
          <p>A human readable description of the error.</p>
        </td>
      </tr>
      <tr>
        <td><code>state</code></td>
        <td>
          <p>The value of the <code>state</code> parameter you provided on the initial GET request.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="get-authorize-error-codes">Error Codes</h3>

  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>access_denied</code></td>
        <td>
          <p>User denied authorization.</p>
        </td>
      </tr>
      <tr>
        <td><code>invalid_scope</code></td>
        <td>
          <p>Invalid <code>scope</code> parameter provided.</p>
        </td>
      </tr>
      <tr>
        <td><code>invalid_redirect_uri</code></td>
        <td>
          <p>Provided <code>redirect_uri</code> parameter is either an invalid URL or is not allowed by your <a href="https://dashboard.stripe.com/account/applications/settings">application settings</a>.</p>
        </td>
      </tr>
      <tr>
        <td><code>invalid_request</code></td>
        <td>
          <p>Missing <code>response_type</code> parameter.</p>
        </td>
      </tr>
      <tr>
        <td><code>unsupported_response_type</code></td>
        <td>
          <p>Unsupported <code>response_type</code> parameter. Currently the only supported <code>response_type</code> is <code>code</code>.</p>
        </td>
      </tr>
    </tbody>
  </table>
</section>

<section>
  <h2 id="post-token">POST https://connect.stripe.com/oauth/token</h2>

  <p>This endpoint is used both for turning an <code>authorization_code</code> into an <code>access_token</code>, and for getting a new access token using a <code>refresh_token</code>.</p>

  <h3 id="post-token-request">Request</h3>
  <p>This call should be made using your secret API key as a <code>client_secret</code> POST parameter:</p>

<div class="code">
  <pre class="language-curl numbered" ><code>curl https://connect.stripe.com/oauth/token \
   -d client_secret=&quot;{SECRET_API_KEY}&quot;
</code></pre>
</div>

  <p>When requesting an access token from an authorization code, you must use an API key that matches the livemode of the authorization code (which depends on whether the <code>client_id</code> used was production or development).</p>
  <p>When requesting an access token from a refresh token, you may use either a test or live API key to obtain a test or live access token respectively. Any existing access token with the same scope and livemode will be revoked.</p>

  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>grant_type</code></td>
        <td>
          <p><code>authorization_code</code> when turning an authorization code into an access token, or <code>refresh_token</code> when using a refresh token to get a new access token.</p>
        </td>
      </tr>
      <tr>
        <td><code>code</code> <strong>OR</strong> <code>refresh_token</code></td>
        <td>
          <p>The value of the <code>code</code> or <code>refresh_token</code>, depending on the <code>grant_type</code>.</p>
        </td>
      </tr>
      <tr>
        <td><code>scope</code><span class="tag optional">Optional</span></td>
        <td>
          <p>When requesting a new access token from a refresh token, any scope that has an equal or lesser scope as the refresh token. Has no effect when requesting an access token from an authorization code.</p>
          <p>Defaults to the scope of the refresh token.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="post-token-response">Response</h3>
  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>access_token</code></td>
        <td>
          <p>The access token you can use to make requests on behalf of this Stripe account. Use it as you would any Stripe secret API key.</p>
          <p>This key does not expire, but may be revoked by the user at any time (you'll get a <code>account.application.deauthorized</code> <a href="../api.html#list_events">webhook event</a> when this happens).</p>
        </td>
      </tr>
      <tr>
        <td><code>scope</code></td>
        <td>
          <p>The scope granted to the access token, depending on the scope of the authorization code and <code>scope</code> parameter.</p>
        </td>
      </tr>
      <tr>
        <td><code>livemode</code></td>
        <td>
          <p>The livemode of the token. If <code>true</code>, the <code>access_token</code> can be used as a live secret key. If <code>false</code>, the <code>access_token</code> can be used as a test secret key.</p>
          <p>Depends on the livemode of the secret API key used to make the request.</p>
        </td>
      </tr>
      <tr>
        <td><code>token_type</code></td>
        <td>
          <p>Will always have a value of <code>bearer</code>.</p>
        </td>
      </tr>
      <tr>
        <td><code>refresh_token</code></td>
        <td>
          <p>Can be used to get a new access token of an equal or lesser scope, or of a different livemode (where <a href="standalone-accounts.html#test-keys-for-livemode-applications">applicable</a>).</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user_id</code></td>
        <td>
          <p>The unique id of the account you have been granted access to, as a string.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_publishable_key</code></td>
        <td>
          <p>A publishable key that can be used with this account. Matches the livemode of the token.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="post-token-errors">Error Response</h3>
  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>error</code></td>
        <td>
          <p>A unique <a href="#post-token-error-codes">error code</a> per error type.</p>
        </td>
      </tr>
      <tr>
        <td><code>error_description</code></td>
        <td>
          <p>A human readable description of the error.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="post-token-error-codes">Error Codes</h3>
  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>invalid_request</code></td>
        <td>
          <p>
            No <code>code</code>, <code>refresh_token</code> or <code>grant_type</code> parameter provided (where required).
          </p>
        </td>
      </tr>
      <tr>
        <td><code>invalid_grant</code></td>
        <td>
          <p>
            A variety of things can prompt this error:

            <ul>
              <li><code>code</code> does not exist, is expired, has been used, or does not belong to you.</li>
              <li><code>refresh_token</code> does not exist or does not belong to you.</li>
              <li>API key mode (live or test mode) does not match the <code>code</code> or <code>refresh_token</code> mode</li>
            </ul>
          </p>
        </td>
      </tr>
      <tr>
        <td><code>unsupported_grant_type</code></td>
        <td>
          <p>
            Unsupported <code>grant_type</code> parameter specified. The only currently supported types are <code>authorization_code</code> and <code>refresh_token</code>.
          </p>
        </td>
      </tr>
      <tr>
        <td><code>invalid_scope</code></td>
        <td>
          <p>Invalid <code>scope</code> parameter provided.</p>
        </td>
      </tr>
      <tr>
        <td><code>unsupported_response_type</code></td>
        <td>
          <p>Unsupported <code>response_type</code> parameter. Currently the only supported <code>response_type</code> is <code>code</code>.</p>
        </td>
      </tr>
    </tbody>
  </table>
</section>

<section>
  <h2 id="post-deauthorize">POST https://connect.stripe.com/oauth/deauthorize</h2>
  <p>This endpoint is used for choosing to revoke access to an account.</p>

  <h3 id="post-deauthorize-request">Request</h3>
  <p>This call should be made using your secret API key as an Authorization header.</p>

  <p>When revoking access to an account, you must use an API key that matches the livemode of the authorization code (which depends on whether the <code>client_id</code> used was production or development).</p>

  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>client_id</code></td>
        <td>
          <p>The <code>client_id</code> of the application that you'd like to disconnect the account from. The account must be connected to this application.</p>
        </td>
      </tr>
      <tr>
        <td><code>stripe_user_id</code></td>
        <td>
          <p>The account you'd like to disconnect from.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="post-deauthorize-response">Response</h3>
  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>stripe_user_id</code></td>
        <td>
          <p>The unique id of the account you have revoked access to, as a string. This is the same as the <code>stripe_user_id</code> you passed in. If this is returned, the revocation was successful.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="post-token-errors">Error Response</h3>
  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>error</code></td>
        <td>
          <p>A unique <a href="#post-token-error-codes">error code</a> per error type.</p>
        </td>
      </tr>
      <tr>
        <td><code>error_description</code></td>
        <td>
          <p>A human readable description of the error.</p>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 id="post-deauthorize-error-codes">Error Codes</h3>
  <table class="reference">
    <thead>
      <th>Parameter</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:40%;"><code>invalid_request</code></td>
        <td>
          <p>
            No <code>client_id</code> or <code>stripe_user_id</code> parameter provided (where required).
          </p>
        </td>
      </tr>
      <tr>
        <td><code>invalid_client</code></td>
        <td>
          <p>
            A variety of things can prompt this error:

            <ul>
              <li><code>client_id</code> does not belong to you.</li>
              <li><code>stripe_user_id</code> does not exist or is not connect to your application.</li>
              <li>API key mode (live or test mode) does not match the <code>client_id</code> mode.</li>
            </ul>
          </p>
        </td>
      </tr>
    </tbody>
  </table>

</section>


          <footer>
  <h2>Questions?</h2>
  <p>We're always happy to help with code or other questions you might have! <a href="https://support.stripe.com/">Search</a> our site for more information, <a href="https://support.stripe.com/email">send us an email</a>, or <a href="../../contact/sales.html">get in touch</a> with our sales team!</p>
</footer>

        </article>
      </div>
    </div>

    <div id="loading-bar"></div>

    <script src="../../assets/external/jquery.min-94df374d2ad5d02ae136584dc008fb1c.js"></script>
    <script src="../../assets/prism-aa9f4cb7aff3f31b5394455bcbea0d8b.js"></script>
    <script src="../../assets/external/dynamics.min-14579f80273a61e6d0f4f45484e20dc7.js"></script>
    <script src="../../assets/jquery.cookie-d7482a1bbfda18d981eda4398666acdd.js"></script>
    <script src="../../assets/documentation-84c208e01668170139f2f511cfc37644.js"></script>
    <script>
      parseKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2", "secret-key", null);
      parseKey("pk_test_6pRNASCoBOKtIshFeQd4XMUh", "publishable-key", null);
    </script>
      <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

    
    <script src="../../assets/config-aead70c07cdca45cec67e4141bf18edc.js"></script>
    
<script type="application/json" id="analytics_config">{&quot;mixpanel&quot;:{&quot;identifier&quot;:&quot;eb71b6171a4f7ed97de9b7a0395b7ca5&quot;},&quot;ga&quot;:{},&quot;trackpage&quot;:true}</script>

<script src="https://js.stripe.com/internal/v2/analytics.min.js"></script>
<script src="../../assets/analytics-e800ab0ba76de2b697ea3f61c673695b.js"></script>
<script src="https://js.stripe.com/v2/m.js"></script>
<script src="../../assets/mirador_ping-6bba7d3d9fbb1e991b7f0f8fab43b2b1.js"></script>

    <script type="text/javascript">
    if ('Analytics' in window) {
      Analytics.viewed("docs", {
        docs_version: "2",
      });
    }
    </script>
  </body>

<!-- Mirrored from stripe.com/docs/connect/reference by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:50 GMT -->
</html>
