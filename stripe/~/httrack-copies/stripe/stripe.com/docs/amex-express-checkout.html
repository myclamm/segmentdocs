<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from stripe.com/docs/amex-express-checkout by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
    <meta charset="utf-8">
    <meta name="google-site-verification" content="f0LCrdI6z4Fo8zld4sHCgo5SiUE4EYYRUa6KVeX3Mw8" />
    <meta name="csrf-token" content="aumQsTKQXxZ2jWC6WJjRVdkqxOgXJgMUkYtZbdKnDMDzc4TMNFWbU7vJRKWUkOQu8FRKb0uKwrTQPlNFd3DGsQ==">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Amex Express Checkout Guide</title>

    <meta name="description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="apple-touch-icon-precomposed" href="../img/apple-touch-icon/180x180.png">
    <link rel="icon" href="../img/apple-touch-icon/180x180.png">


    <link rel="image_src" type="image/png" href="../img/v3/home/social.png">

    <meta property="og:title" content="Amex Express Checkout Guide">
    <meta property="og:url" content="amex-express-checkout.html">
    <meta property="og:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">
    <meta property="og:image" content="../img/v3/home/social.png">

      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="../img/v3/home/twitter.png">
    <meta name="twitter:site" content="@stripe">
    <meta name="twitter:title" content="Amex Express Checkout Guide">
    <meta name="twitter:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes.">


    <script type="application/json" id="strut_files">{&quot;v3/shared/navigation_ie10.css&quot;:&quot;/assets/v3/shared/navigation_ie10-ec238f46e7cb9867e3c1b529e2cfa37b.css&quot;}</script>

    

    

    <link rel="stylesheet" href="../assets/v3/default-ef2bff54073622b9e08cf24466b5668f.css">
    <link rel="stylesheet" href="../assets/v3/shared/common-d0fb03fa2d48fcf29010779ca9a12b2c.css">
    <link rel="stylesheet" href="../assets/v3/documentation/base-47c1fd7d3d670e4e08df8f5a67b20dea.css">
    <link rel="stylesheet" href="../assets/v3/shared/prism_light-6d08c6ec0d72453693d775c3b96629c0.css">
    
    
    <meta name="viewport" content="width=1060">
    <meta name="robots" content="noarchive">
  </head>
  <body class="">
    
    <div id="docs">
      <div id="sidebar">
        <div class="logo">
          <a class="site" href="../index.html" title="Stripe"></a>
          <a class="extension" href="../docs.html">docs</a>
        </div>
        <div class="nav-border"></div>
        <nav>
          <h1 class="home"><a href="../docs.html">Home</a></h1>
          <h1 class="payments"><a class="toggle-content">Payments</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="quickstart.html">Quickstart</a>
    </li>
    <li class="category">Collecting payment details
    </li>
    <li>
      <a href="checkout/tutorial.html">Checkout</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="checkout.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="custom-form.html">Stripe.js</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="stripe.html">Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="mobile/ios.html">iOS</a>
    </li>
    <li>
      <a href="mobile/android.html">Android</a>
    </li>
    <li class="category">Charges
    </li>
    <li>
      <a href="charges.html">Creating Charges</a>
    </li>
    <li>
      <a href="declines.html">Declines &amp; Failed Payments</a>
    </li>
    <li>
      <a href="disputes.html">Disputes</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="disputes/evidence.html">Submitting Evidence</a>
    </li>
    <li>
      <a href="disputes/types.html">Types</a>
    </li>
    <li>
      <a href="disputes/faq.html">FAQ</a>
    </li>
</ul>

    </li>
    <li class="category">Products &amp; Orders
    </li>
    <li>
      <a href="orders.html">Orders</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="orders/guide.html">Guide</a>
    </li>
</ul>

    </li>
    <li>
      <a href="orders/tax-integration.html">Tax Integrations</a>
    </li>
    <li>
      <a href="orders/shipping-integration.html">Shipping Integrations</a>
    </li>
    <li>
      <a href="sources.html">Getting Started</a>
    </li>
    <li>
      <a href="sources/payment-methods.html">Payment Methods</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="sources/cards.html">Cards</a>
    </li>
    <li>
      <a href="sources/3d-secure.html">3D Secure</a>
    </li>
    <li>
      <a href="sources/bancontact.html">Bancontact</a>
    </li>
    <li>
      <a href="sources/giropay.html">Giropay</a>
    </li>
    <li>
      <a href="sources/ideal.html">iDEAL</a>
    </li>
    <li>
      <a href="sources/sepa-direct-debit.html">SEPA Direct Debit</a>
    </li>
    <li>
      <a href="sources/sofort.html">Sofort</a>
    </li>
</ul>

    </li>
    <li class="category">Other Payment Methods
    </li>
    <li>
      <a href="ach.html">ACH</a>
    </li>
    <li>
      <a href="apple-pay.html">Apple Pay</a>
      <ul class='hidden' data-hidden=true>
    <li>
      <a href="apple-pay/apps.html">Apple Pay in Apps</a>
    </li>
    <li>
      <a href="apple-pay/web.html">Apple Pay on the Web</a>
    </li>
</ul>

    </li>
    <li>
      <a href="alipay.html">Alipay</a>
    </li>
    <li>
      <a href="bitcoin.html">Bitcoin</a>
    </li>
    <li class='separator'>
      <a href="testing.html">Testing</a>
    </li>
</ul>

          <h1 class="subscriptions"><a class="toggle-content">Subscriptions</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="subscriptions/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="subscriptions/creating.html">Creating Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="subscriptions/discounts.html">Applying Discounts</a>
    </li>
    <li>
      <a href="subscriptions/trials.html">Using Trial Periods</a>
    </li>
    <li>
      <a href="subscriptions/quantities.html">Setting Quantities</a>
    </li>
    <li>
      <a href="subscriptions/taxes.html">Adding Taxes</a>
    </li>
    <li>
      <a href="subscriptions/multiple.html">Multiple Subscriptions</a>
    </li>
</ul>

    </li>
    <li>
      <a href="subscriptions/lifecycle.html">Lifecycle &amp; Events</a>
    </li>
    <li>
      <a href="subscriptions/webhooks.html">Using Webhooks</a>
    </li>
    <li>
      <a href="subscriptions/changing.html">Changing Subscriptions</a>
      <ul data-collapsable=false>
    <li>
      <a href="subscriptions/upgrading-downgrading.html">Upgrading &amp; Downgrading</a>
    </li>
    <li>
      <a href="subscriptions/billing-cycle.html">Billing Cycle</a>
    </li>
    <li>
      <a href="subscriptions/canceling-pausing.html">Canceling &amp; Pausing</a>
    </li>
</ul>

    </li>
    <li>
      <a href="subscriptions/invoices.html">Working with Invoices</a>
      <ul data-collapsable=false>
</ul>

    </li>
    <li>
      <a href="subscriptions/plans.html">Managing Plans</a>
    </li>
    <li>
      <a href="subscriptions/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="connect"><a class="toggle-content">Connect</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="connect.html">Overview</a>
    </li>
    <li>
      <a href="connect/connecting-to-accounts.html">Connecting to Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/authentication.html">Authentication</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/standalone-accounts.html">Standalone Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/reference.html">OAuth Reference</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/managed-accounts.html">Managed Accounts</a>
      <ul data-collapsable=false>
    <li>
      <a href="connect/updating-accounts.html">Updating Accounts</a>
    </li>
    <li>
      <a href="connect/identity-verification.html">Identity Verification</a>
    </li>
    <li>
      <a href="connect/required-verification-information.html">Verification Fields</a>
    </li>
    <li>
      <a href="connect/testing-verification.html">Testing Verification</a>
    </li>
    <li>
      <a href="connect/bank-transfers.html">Bank Transfers</a>
    </li>
    <li>
      <a href="connect/migrating.html">Migrating Recipients</a>
    </li>
    <li>
      <a href="connect/best-practices.html">Best Practices</a>
    </li>
</ul>

    </li>
    <li>
      <a href="connect/payments-fees.html">Payments and Fees</a>
    </li>
    <li>
      <a href="connect/special-case-transfers.html">Special-case Transfers</a>
    </li>
    <li class='separator'>
      <a href="connect/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="relay"><a class="toggle-content">Relay</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="relay.html">Selling in Other Apps</a>
    </li>
    <li>
      <a href="relay/apps-guide.html">Accepting Orders in Your App</a>
      <ul data-collapsable=false>
    <li>
      <a href="relay/apps-error-guide.html">Error Handling</a>
    </li>
</ul>

    </li>
</ul>

          <h1 class="radar"><a class="toggle-content">Radar</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="radar.html">Overview</a>
    </li>
    <li>
      <a href="radar/risk-evaluation.html">Risk Evaluation</a>
    </li>
    <li>
      <a href="radar/review.html">Review</a>
      <ul data-collapsable=false>
    <li>
      <a href="radar/review/auth-and-capture.html">Uncaptured Payments</a>
    </li>
</ul>

    </li>
    <li>
      <a href="radar/rules.html">Rules</a>
      <ul data-collapsable=false>
    <li>
      <a href="radar/rules/reference.html">Reference</a>
    </li>
</ul>

    </li>
    <li class='separator'>
      <a href="radar/testing.html">Testing</a>
    </li>
</ul>

          <h1 class="account"><a class="toggle-content">Account</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="dashboard.html">Your Account</a>
    </li>
    <li>
      <a href="checklist.html">Going Live Checklist</a>
    </li>
    <li>
      <a href="transfers.html">Getting Paid</a>
    </li>
    <li>
      <a href="reporting.html">Reporting</a>
    </li>
</ul>

          <h1 class="api"><a class="toggle-content">Development</a></h1>
<ul class='hidden' data-hidden=true>
    <li>
      <a href="libraries.html">API Libraries</a>
    </li>
    <li>
      <a href="upgrades.html">API Upgrades</a>
    </li>
    <li>
      <a href="webhooks.html">Webhooks</a>
    </li>
    <li>
      <a href="building-integrations.html">Integrations</a>
    </li>
    <li>
      <a href="recipes.html">Recipes</a>
    </li>
    <li>
      <a href="security.html">Security</a>
    </li>
</ul>


          <h1 class="references"><a href="api.html" class="external" target="_blank">API Reference</a></h1>
        </nav>
      </div>
      <div id="content-wrapper" tabindex="0">
        <div class="overlay"></div>
        <header id="main-header">
          <nav>
            <ul class="external">
              <li><a href="https://support.stripe.com/">Support</a></li>

              <li class="button">
                <a data-adroll-segment='submit_two' href="https://dashboard.stripe.com/login">Sign in</a>
              </li>
            </ul>
          </nav>
        </header>
        <article id="content">
          <header>
  <h1>Amex Express Checkout Guide</h1>
  <p>Accept payments via <a href="../amex-express-checkout.html">Amex Express Checkout</a> without modifying your existing Stripe integration. If you need help after reading this, check out our answers to <a href="https://support.stripe.com/">common questions</a> or chat live with other developers in <a href="irc://irc.freenode.net/stripe">#stripe</a> on freenode.
</p>
</header>

<section>
  <aside class="note">
    <h3>Amex Express Checkout guidelines</h3>
    <p>Before implementing, please refer to the Amex Express Checkout <a href="../amex-express-checkout/legal.html">Terms of Service</a> and <a href="amex-express-checkout-button-guidelines.html">Button Implementation Guidelines</a>.</p>
  </aside>

  <p>American Express cardholders can use their online account details to pay using the Amex Express Checkout button on your site. It's both secure and convenient for the customer as no card details are provided.</p>

  <p>If you have an American Express account, you can try out the flow by clicking the button below (you won't be charged).</p>

  <div id="amex-express-checkout" style="margin-top:17px;"></div>
  <div id="amex-express-response"><p></p></div>

  <p>American Express creates a <a href='api.html#token_object'>card token</a> that is linked to the customer's card and works with your existing Stripe integration to create a charge. This token also contains the customer's information&mdash;such as their name, billing address, email, and phone number.</p>
</section>

<section>
<h2 id="integrating">Integrating the Amex Express Checkout button</h2>

<p>To get started, first generate your Amex Express Checkout <em>client ID</em> in the <a href="https://dashboard.stripe.com/account/amex_express_checkout/enable">Dashboard</a>. After obtaining this, load the helper library from American Express on your checkout page:</p>
<div class="code">
  <pre class="language-html numbered" ><code>&lt;script src=&quot;https://icm.aexp-static.com/Internet/IMDC/US_en/RegisteredCard/AmexExpressCheckout/js/AmexExpressCheckout.js&quot;&gt;&lt;/script&gt;</code></pre>
</div>

<p>Before the checkout button can be displayed, it needs to be configured using an <code>amex:init</code> tag. This tag must be placed within your checkout page before the helper library is loaded:</p>
<div class="code">
  <pre class="language-html numbered" ><code>&lt;amex:init client_id=&quot;CLIENT_ID&quot; env=&quot;production&quot; callback=&quot;aecCallbackHandler&quot;/&gt;</code></pre>
</div>

<p>The <code>amex:init</code> tag requires the following parameters:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>client_id</code></td>
      <td>Your Amex Express Checkout client ID</td>
    </tr>
    <tr>
      <td><code>env</code></td>
      <td>The environment that the checkout button uses (<strong>production</strong> or <strong>qa</strong>). Default is <strong>production</strong></td>
    </tr>
    <tr>
      <td><code>callback</code></td>
      <td>A function that handles the JSON object returned by Amex Express Checkout</td>
    </tr>
  </tbody>
</table>

<p>An example callback function you can use when accepting payments using Amex Express Checkout:</p>
<div class="code">
  <pre class="language-javascript numbered" ><code>function aecCallbackHandler(response) {
  // Get the token ID:
  var token = response.token;
  if (response.token) {
    // Insert the token ID into the form so it is submitted to the server:
    $form.append($(&#39;&lt;input type=&quot;hidden&quot; name=&quot;stripeToken&quot;&gt;&#39;).val(token));
  }
  // Submit the form:
  $form.get(0).submit();
};</code></pre>
</div>

<p>The string <code>response.token</code> represents the ID of a token. You can refer to the <a href="custom-form.html#step-3-sending-the-form-to-your-server">Stripe.js</a> for further information on using a callback function.</p>

<p>The <code>amex:init</code> tag also accepts some configuration options to change the appearance of the button:</p>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>theme</code></td>
      <td>The button theme (<strong>desktop</strong> or <strong>mobile</strong>). Default is <strong>desktop</strong>.</td>
    </tr>
    <tr>
      <td><code>button_color</code></td>
      <td>The color of the checkout button (<strong>dark</strong> or <strong>light</strong>). Default is <strong>dark</strong>.</td>
    </tr>
  </tbody>
</table>

<h3 id="embedding-and-customizing-the-button">Embedding and customizing the button</h3>

<p>When you load the American Express JavaScript library, it will insert the button into the DIV with an ID <strong>amex-express-checkout</strong>. Place this HTML where you want the button to appear.</p>
<div class="code">
  <pre class="language-html numbered" ><code>&lt;div id=&quot;amex-express-checkout&quot;&gt;&lt;/div&gt;</code></pre>
</div>

<p>The button is only shown if the customer’s browser is supported. Amex Express Checkout supports all recent desktop and mobile browsers.</p></section>

<section>
<h2 id="card-token">The card token</h2>

<p>The token created by Amex Express Checkout is used in the same way as other tokens. It can be <a href="api.html#create_charge">charged</a> or <a href="api.html#customers">attached to a Customer</a> for repeated charging. An example card token is:</p>
<div class="code">
  <pre class="language-javascript numbered" ><code>{
  &quot;id&quot;: &quot;tok_6gpp55Fir1Ca8u&quot;,
  &quot;livemode&quot;: true,
  &quot;created&quot;: 1438056436,
  &quot;used&quot;: false,
  &quot;object&quot;: &quot;token&quot;,
  &quot;type&quot;: &quot;card&quot;,
  &quot;card&quot;: {
    &quot;id&quot;: &quot;card_6gpqVeoHsV3beV&quot;,
    &quot;object&quot;: &quot;card&quot;,
    &quot;last4&quot;: &quot;1234&quot;,
    &quot;brand&quot;: &quot;American Express&quot;,
    &quot;funding&quot;: &quot;credit&quot;,
    &quot;exp_month&quot;: 7,
    &quot;exp_year&quot;: 2019,
    &quot;fingerprint&quot;: &quot;5q9AI2LPS47YQtLX&quot;,
    &quot;country&quot;: &quot;US&quot;,
    &quot;name&quot;: &quot;CHRISTINE ROBERTS&quot;,
    &quot;address_line1&quot;: &quot;1 DR. CARLTON B. GOODLETT PLACE&quot;,
    &quot;address_line2&quot;: &quot;&quot;,
    &quot;address_city&quot;: &quot;SAN FRANCISCO&quot;,
    &quot;address_state&quot;: &quot;CA&quot;,
    &quot;address_zip&quot;: &quot;94110&quot;,
    &quot;address_country&quot;: &quot;US&quot;,
    &quot;cvc_check&quot;: null,
    &quot;address_line1_check&quot;: &quot;unchecked&quot;,
    &quot;address_zip_check&quot;: &quot;unchecked&quot;,
    &quot;tokenization_method&quot;: &quot;amex_express_checkout&quot;,
    &quot;metadata&quot;: {
      &quot;phone&quot;: &quot;5555551212&quot;,
    }
  },
  &quot;email&quot;: &quot;foo@example.com&quot;,
  &quot;client_ip&quot;: &quot;192.0.2.1&quot;,
  &quot;usage&quot;: null
}</code></pre>
</div>

<p>American Express provides the name and billing address of the customer. The customer’s first name will be truncated to ten characters if it is longer than that. The customer’s email address and phone number are also provided, if available.</p></section>

<section>
<h2 id="testing">Testing Amex Express Checkout</h2>

<p>You can test the Amex Express Checkout flow using the following <code>amex:init</code> tag:</p>
<div class="code">
  <pre class="language-html numbered" ><code>&lt;amex:init client_id=&quot;799a098b-b65c-47dc-abb3-d9832bfc7227&quot; env=&quot;qa&quot; callback=&quot;aecCallbackHandler&quot;/&gt;</code></pre>
</div>

<p>Because you are not currently logged in to Stripe, this test mode client ID is not specific to your account so you won’t be able to fetch the tokens created with it. If you <a href="https://dashboard.stripe.com/login">log in</a> and reload this page, you’ll see a test mode client ID associated to your Stripe account.</p>

<p>When testing Amex Express Checkout with a test mode client ID, you can use the following American Express QA credentials to perform a test transaction:</p>

<ul>
  <li>Username: <strong>test_user</strong></li>
  <li>Password: <strong>password</strong></li>
  <li>One-time access code: <strong>123456</strong></li>
</ul>
  <script type="text/javascript">
    function aecCallbackHandler(response) {
      var $result = $('#amex-express-response p');
      if (response.token) {
        $result.html('<br />Your Stripe token is: <strong>' + response.token + '</strong><br>This would then automatically be submitted to your server.');
      }
    }
  </script>

  <amex:init client_id="30e73189-96f4-4797-83d4-6730bf6bed19" env="production" callback="aecCallbackHandler"/>
  <script src="https://icm.aexp-static.com/Internet/IMDC/US_en/RegisteredCard/AmexExpressCheckout/js/AmexExpressCheckout.js"></script>
</section>


          <footer>
  <h2>Questions?</h2>
  <p>We're always happy to help with code or other questions you might have! <a href="https://support.stripe.com/">Search</a> our site for more information, <a href="https://support.stripe.com/email">send us an email</a>, or <a href="../contact/sales.html">get in touch</a> with our sales team!</p>
</footer>

        </article>
      </div>
    </div>

    <div id="loading-bar"></div>

    <script src="../assets/external/jquery.min-94df374d2ad5d02ae136584dc008fb1c.js"></script>
    <script src="../assets/prism-aa9f4cb7aff3f31b5394455bcbea0d8b.js"></script>
    <script src="../assets/external/dynamics.min-14579f80273a61e6d0f4f45484e20dc7.js"></script>
    <script src="../assets/jquery.cookie-d7482a1bbfda18d981eda4398666acdd.js"></script>
    <script src="../assets/documentation-84c208e01668170139f2f511cfc37644.js"></script>
    <script>
      parseKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2", "secret-key", null);
      parseKey("pk_test_6pRNASCoBOKtIshFeQd4XMUh", "publishable-key", null);
    </script>
      <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

    
    <script src="../assets/config-aead70c07cdca45cec67e4141bf18edc.js"></script>
    
<script type="application/json" id="analytics_config">{&quot;mixpanel&quot;:{&quot;identifier&quot;:&quot;eb71b6171a4f7ed97de9b7a0395b7ca5&quot;},&quot;ga&quot;:{},&quot;trackpage&quot;:true}</script>

<script src="https://js.stripe.com/internal/v2/analytics.min.js"></script>
<script src="../assets/analytics-e800ab0ba76de2b697ea3f61c673695b.js"></script>
<script src="https://js.stripe.com/v2/m.js"></script>
<script src="../assets/mirador_ping-6bba7d3d9fbb1e991b7f0f8fab43b2b1.js"></script>

    <script type="text/javascript">
    if ('Analytics' in window) {
      Analytics.viewed("docs", {
        docs_version: "2",
      });
    }
    </script>
  </body>

<!-- Mirrored from stripe.com/docs/amex-express-checkout by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 23:47:58 GMT -->
</html>
